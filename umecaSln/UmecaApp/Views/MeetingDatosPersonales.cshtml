@model UmecaApp.MeetingDatosPersonalesDto
@inherits WebViewTemplate
@{
Layout = "UmecaApp.headUm";
}


<script>
var askYesNo  = {};
askYesNo.reference = {};
askYesNo.show = function (){
var dlgMsgBox = $('#MessageBoxDlgId');
dlgMsgBox.show();
};
askYesNo.hide = function (){
var dlgMsgBox = $('#MessageBoxDlgId');
dlgMsgBox.hide();
};
    	</script>
<div class="modal-dialog" style="display:none; width:60%; position: fixed;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="MessageBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
            <div class="modal-header">
                <div class="alert alert-danger">
                    <button id="MessageBoxDlgXclose" type="button" class="close" onclick="javascript:askYesNo.no();">×</button>
                    <h4 class="modal-title element-center ng-binding" ng-bind-html="Title">Eliminar registro</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="element-center ng-binding" ng-bind-html="Message">¿Está seguro de que desea eliminar el registro?</div>
            </div>
            <div class="modal-footer">
                <button id="MessageBoxDlgYes" type="button" class="btn btn-default btn-danger" onclick="javascript:askYesNo.yes(askYesNo.referencia);" >Si</button>
                <button id="MessageBoxDlgNo" type="button" class="btn btn-default" onclick="javascript:askYesNo.no();" >No</button>
            </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>





<script>
app.controller('MeettingDatosPersonalesController', function($scope, $http, $timeout, $sce){
//GENERAL CONTROLLER STATE OF MEETING
        $scope.m = {};
        $scope.readOnly = true;
        $scope.listMsgError = [];
        /*$scope.listMsgError['personalData'] = true;
        $scope.listMsgError['imputedHome'] = true;
        $scope.listMsgError['socialNetwork'] = false;
        $scope.listMsgError['reference'] = false;
        $scope.listMsgError['job'] = false;
        $scope.listMsgError['school'] = true;
        $scope.listMsgError['drug'] = false;
        $scope.listMsgError['leavingCountry'] = true;*/

        $scope.putasHarry=function(){
        $timeout(function(){
        	$("#axelMulti").chosen();
        	},0);
        };

////////////////DATOS PERSONALES CONTROLLER

        ////////////////VARIABLES///////////////
    	//genero
        $scope.gen = {};

        //pais nacimiento
        $scope.listCountry = [];
        $scope.listState = [];
        $scope.listMuni = [];
        $scope.listLocalidades = [];
        $scope.listMunByEdo = [];
        $scope.SeceltedCountry = {};
        $scope.SeceltedEstate = {};
        $scope.SeceltedMuni = {};
        $scope.SeceltedLocation = {};

        //actividades que realiza
	$scope.specification = {};
    $scope.lstActivity = [];
    $scope.activityModel = [];
    $scope.activityList = [];

    ///////////////////METHODS//////////////////
    //Init de country 
    $scope.InitCountryPD = function(){
		    if($scope.m.BirthCountry!=undefined&&$scope.m.BirthCountry!=null){
			    for(x=0;x<$scope.listCountry.length;x++){
			    	if($scope.listCountry[x].Id==$scope.m.BirthCountry){
			    		$scope.SeceltedCountry = $scope.listCountry[x];
			    		//alert("$scope.listCountry[x]"+JSON.stringify($scope.listCountry[x]));
			    		//alert("$scope.SeceltedCountry"+JSON.stringify($scope.SeceltedCountry));
			    		$scope.InitMunicipalityDP();
			    		break;
			    	}
			    }
			}
			else{
	    		
	    		for(x=0;x<$scope.listCountry.length;x++){
			    	if($scope.listCountry[x].Id==1){
			    		$scope.SeceltedCountry = $scope.listCountry[x];
			    		$scope.m.BirthCountry = $scope.SeceltedCountry['Id'];
			    		$scope.InitMunicipalityDP();
			    		break;
			    	}
			    }
			}
		};

    $scope.InitMunicipalityDP = function(){
    //alert("InitMunicipalityDP -> $scope.m.LocationId>>"+$scope.m.LocationId);
	    if($scope.m.LocationId!=undefined&&$scope.m.LocationId!=null){
	    	var data = JSON.parse(MeetingService.findAllByLocation($scope.m.LocationId));
	    	//alert("InitMunicipalityDP -> data>>"+JSON.stringify(data));
	    	//alert("InitMunicipalityDP -> data.StateId="+data.StateId+"    data.MunicipalityId="+data.MunicipalityId);
		    for(x=0;x<$scope.listState.length;x++){
		    	if($scope.listState[x].Id==data.StateId){
		    		$scope.SeceltedEstate = $scope.listState[x];
		    		//alert("$scope.SeceltedEstate[x]"+JSON.stringify($scope.SeceltedEstate));
		    		$scope.MunByEdo();
		    			for(y=0;y<$scope.listMunByEdo.length;y++){
			    			if($scope.listMunByEdo[y].Id==data.MunicipalityId){
			    				$scope.SeceltedMuni = $scope.listMunByEdo[y];
			    				$scope.LocByMun();
				    				for(z=0;z<$scope.listLocalidades.length;z++){
				    					if($scope.listLocalidades[z].Id==$scope.m.LocationId){
				    						$scope.SeceltedLocation = $scope.listLocalidades[z];
				    						break;
				    					}
				    				}
				    			break;
			    			}
		    			}
		    		break;
		    	}
		    }
		}
	};

		//cuando se elije un estado se filtran los municipios
		$scope.MunByEdo = function(){
			$scope.listMunByEdo = [];
	        $scope.SeceltedMuni = {};
	        $scope.SeceltedLocation = {};
	        $scope.listLocalidades = [];
			    var em=0;
			    var municipios = MeetingService.findMunicipalityByState($scope.SeceltedEstate['Id']);
			    //alert("string de selected__>"+JSON.stringify($scope.SeceltedEstate) +"   and \n municipios _>"+municipios);
			    if(municipios!=undefined&&municipios!=null&&municipios!=""){
				    try{
				    	$scope.listMunByEdo = JSON.parse(municipios);
				    	}catch(e){
			    			console.log("exception caugth at MunByEdo Message >>"+e.Message);
			    			$scope.listMunByEdo = [];
						}
			    }
		};


		$scope.selectedActivities = function (lstActivity, lstActivitySelect) {
        for (var i = 0; i < lstActivitySelect.length; i++) {
            for (var j = 0; j < lstActivity.length; j++) {
                if (lstActivity[j].id === lstActivitySelect[i].id) {
                    $scope.activityModel.push(lstActivity[j]);
                    if (lstActivity[j].specification) {
                        $scope.specification[lstActivity[j].name] = lstActivitySelect[i].specification;
                    }
                }
            }
        }
        $scope.matchActivities();
    };

    $scope.matchActivities = function () {
        $scope.relActivities = [];
        for (var i = 0; i < $scope.activityModel.length; i++) {
            var model = {};
            model.ActivityId = $scope.activityModel[i].id;
            if ($scope.specification[$scope.activityModel[i].name] != undefined) {
                model.specification = $scope.specification[$scope.activityModel[i].name];
            } else {
                model.specification = "";
            }
            $scope.relActivities.push(model);
        }
        $scope.m.Activities = JSON.stringify($scope.relActivities);
        return true;
    };


		//cuando se elije un municipio se filtran las localidades
		$scope.LocByMun = function(){
        $scope.SeceltedLocation = {};
			    $scope.listLocalidades = [];
			    var em=0;
			    var locations = MeetingService.findLocationByMunicipality($scope.SeceltedMuni['Id']);
			    //alert("string de selected__>"+JSON.stringify($scope.SeceltedEstate) +"   and \n municipios _>"+municipios);
			    if(locations!=undefined&&locations!=null&&locations!=""){
				    try{
				    	$scope.listLocalidades = JSON.parse(locations);
				    	}catch(e){
			    			console.log("exception caugth at LocByMun Message >>"+e.Message);
			    			$scope.listLocalidades = [];
						}
			    }
		};


		//cuando se elije un estado se filtran los municipios 
		//TODO: se cambiara a una peticion a methodo
		$scope.InitActivities = function(){
			if($scope.m.Activities!=undefined&&$scope.m.Activities!=null){
			    var actividades = JSON.parse($scope.m.Activities);
			    var ids = [];
			    //alert("string de actividades>"+JSON.stringify(actividades));
			    //iterates activities
			    for(a in actividades){
				    for(e in $scope.lstActivity){
					    if($scope.lstActivity[e].id==actividades[a].ActivityId){
			    			console.log("coincidence >>>"+actividades[a].ActivityId);
			    			ids.push(e);
					    	$scope.activityModel.push($scope.lstActivity[e]);
		                    if ($scope.lstActivity[e].specification) {
		                        $scope.specification[$scope.lstActivity[e].name] = actividades[a].specification; 
		                    } 
					    }
				    }
			    }
			    $('#ms').multipleSelect("setSelects",ids);
			}
		};

		$scope.locationDp = function(){
			$scope.m.LocationId = $scope.SeceltedLocation['Id'];
		}


		//guarda los cambios realizados a la seccion de datos personales
         $scope.savePersonalData = function () {
         if($("#FormPersonalData").valid() == false){
         return false;
         }else{
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgExito = MeetingService.upsertPersonalData(JSON.stringify($scope.m));
			}
	    };
        //END DATOS PERSONALES


        ////////////Domicilios///////////
 		$scope.saveDomicilios = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessDom = MeetingService.upsertDomicilioComment(JSON.stringify($scope.m));
	    };
        ///////////end domicilios///////////

        ////////////SocialNetwork///////////
 		$scope.saveSocialNetwork = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessSocNet = MeetingService.upsertRedSocialComment(JSON.stringify($scope.m));
	    };
        ///////////end SocialNetwork///////////

        ////////////Referencias///////////
 		$scope.saveReferences = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessReferences = MeetingService.upsertReferenciasComment(JSON.stringify($scope.m));
	    };
        ///////////end Referencias///////////

        ////////////Laboral///////////
 		$scope.saveLaboral = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessLaboral = MeetingService.upsertLaboralComment(JSON.stringify($scope.m));
	    };
        ///////////end Laboral///////////

        ////////////Drugs///////////
 		$scope.saveDrugs = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessDrugs = MeetingService.upsertDrugComment(JSON.stringify($scope.m));
	    };
        ///////////end Drugs///////////

/////////////para historia escolar
        $scope.block = true;
        $scope.school = {};
        $scope.school.level={};
        $scope.school.degree={};

	   	$scope.gradeByNivel = function(){
	   	//alert("$scope.school.level=="+JSON.stringify($scope.school.level));
        $scope.lstDegree=JSON.parse(MeetingService.gradeByNivel( $scope.school.level['Id']));
	   	}

        $scope.fillModel = function(){
	       var template ="NO ESTUDIA";
	       if($scope.m.SchoolBlock == false){
	            $scope.m.SchoolName=template;
	           $scope.m.SchoolPhone = template;
	           $scope.m.SchoolAddress = template;
	       }else{
	            $scope.m.SchoolName="";
	           $scope.m.SchoolPhone = "";
	           $scope.m.SchoolAddress = "";
	       }
	   };

	   $scope.saveEscolarship = function(){
		   if($("#FormSchool").valid() == false){
	         return false;
	       }else{
		   		$scope.m.ScheduleSchool = $("#hdnJsonScheduleSchool").val();
		   		var jsonData = JSON.stringify($scope.m);
				$scope.msgSuccessEscolar = MeetingService.upsertSchoolarship(JSON.stringify($scope.m));
			}
	   }

	   $scope.InitSchool = function(){
	   if($scope.m.ScheduleSchool!=undefined&&$scope.m.ScheduleSchool!=null){
	   	$("#hdnJsonScheduleSchool").val($scope.m.ScheduleSchool);
	   	console.log("hdnJsonScheduleSchool-->"+$("#hdnJsonScheduleSchool").val());
	   }
	   	if($scope.m.SchoolBlock!=true){
	   		$scope.fillModel();
	   	}
	   		
	   		$scope.lstLevel=JSON.parse(MeetingService.allAcademicLevels());
	   		if($scope.m.SchoolDegreeId!=undefined&&$scope.m.SchoolDegreeId!=null){
	   			$scope.lstDegree=JSON.parse(MeetingService.gradesBySelectedDegree($scope.m.SchoolDegreeId));
	   			for(a in $scope.lstDegree){
	   				if($scope.lstDegree[a].Id==$scope.m.SchoolDegreeId){
	   					$scope.school.degree = $scope.lstDegree[a];
	   					break;
	   				}
	   			}
	   			for(b in $scope.lstLevel){
	   				if($scope.lstLevel[b].Id==$scope.school.degree.AcademicLevelId){
	   					$scope.school.level=$scope.lstLevel[b];
	   					break;
	   				}
	   			}
	   		}
	   		//alert("model "+ JSON.stringify($scope.m));
	   };
////////////////END historia escolar

////////para Leave country 
        $scope.Edocumento = {};
        $scope.ImmigrationDoc = {};
        $scope.ImmigrationDocId = {};

        $scope.specficationImmigranDoc = "";

        $scope.listImmigrationDoc = [];

	   	$scope.l={};
	   	$scope.l.oc={};
	   		
	   	$scope.l.fac={};

	   	$scope.l.rel={};

	   	$scope.l.cf={};

	   	$scope.documentosMigratoriosFill = function(){
	   	//alert("$scope.school.level=="+JSON.stringify($scope.school.level));
        $scope.listImmigrationDoc=JSON.parse(MeetingService.documentosMigratorios());
	   	};

	   	$scope.relacionPersonalAll = function(){
        $scope.listRel=JSON.parse(MeetingService.relacionPersonal());
	   	};


	   	$scope.saveLeaveCountry = function () {
		   	if($("#FormLeaveCountry").valid() == false){
		         return false;
		    }else{
	        	var jsonData = JSON.stringify($scope.m);
				$scope.msgSuccessLeaveCountry = MeetingService.upsertLeaveCountry(JSON.stringify($scope.m));
			}
	    };

	    $scope.InitLeaveCountry = function () {
	    console.log("InitLeaveCountry");
	    if($scope.m.OfficialDocumentationId==undefined){
	    	$scope.m.OfficialDocumentationId=2;
	    }
	    $scope.Edocumento = $scope.itemListById($scope.m.OfficialDocumentationId, $scope.listElection);
	    $scope.ImmigrationDoc = $scope.itemListById($scope.m.ImmigrationDocumentId, $scope.listImmigrationDoc);
	    if($scope.m.LivedCountryId==undefined){
	    	$scope.m.LivedCountryId=2;
	    }
	    $scope.l.oc = $scope.itemListById($scope.m.LivedCountryId, $scope.listElection);
	    $scope.l.country = $scope.itemListById($scope.m.CountryId, $scope.listCountry);
	    if($scope.m.FamilyAnotherCountryId==undefined){
	    	$scope.m.FamilyAnotherCountryId=2;
	    }
	    $scope.l.fac = $scope.itemListById($scope.m.FamilyAnotherCountryId, $scope.listElection);
	    if($scope.m.CommunicationFamilyId==undefined){
	    	$scope.m.CommunicationFamilyId=2;
	    }
	    $scope.l.cf = $scope.itemListById($scope.m.CommunicationFamilyId, $scope.listElection);
	    $scope.l.rel = $scope.itemListById($scope.m.RelationshipId, $scope.listRel);
	    };

///////////end Leave country

        $timeout(function () {
    		$scope.Iniciate();
		}, 0);


		$scope.Iniciate = function(){
		    try{
			    var js = JSON.parse($("#hdnJsonMtng").val());
			    $scope.m = js;
			    //alert("m valu>>"+JSON.stringify($scope.m));
			    //Birthplace iniciation
			    $scope.InitCountryPD();
			    //activities iniciation
			    $scope.InitActivities();
			    $scope.InitSchool();

			    $scope.InitLeaveCountry();
		    }
		    catch(err){
		    	alert("error catched Iniciate angular function erro==>"+err.message);
		    }
		    $("#blocker").remove();
		};

    
    	
        $scope.save = function(){
		            $scope.Wait = true;
		//todos los key del json deben ser igual al modelo c
		//window.location.replace('hybrid:Meeting/AddMeeting?model=' + encodeURIComponent(jsonData));
		console.log("save meeting");
		var reslt = MeetingService.TerminateMeeting(JSON.stringify($scope.m));
		if(reslt != undefined && reslt != ""){
			var obj = JSON.parse(reslt);
            if(obj.groupMessage != undefined){
                for(var i=0; i < obj.groupMessage.length; i++){
                    var g1= obj.groupMessage[i];
                    $scope.listMsgError[g1.section]= $sce.trustAsHtml( g1.messages);
                }
            }
		}else{
			$scope.msgSuccessTotally = "total successs";
			$scope.cancel();
		}
		//TerminateMeeting
		$scope.Wait = false;
		$scope.askTerminatehide();
		};


//regresa la pantalla de seleccion de meeting
$scope.cancel = function(){
    $scope.saving = false;
//todos los key del json deben ser igual al modelo cs
window.location.replace('hybrid:Meeting/Index');
};


    $scope.itemListById = function(idObj, list){
    console.log("idObj="+idObj);
    	if(idObj!=undefined&&idObj!=null){
		    for(x=0;x<list.length;x++){
		    	if(list[x].Id==idObj){
		    		return list[x];
		    		break;
		    	}
		    }
		}
		return undefined;
	};

	$scope.showMessageError = function(elementClick){
        $("#divErrorMessage").show();
        var position = $(".tab-content").position();
        $("#divErrorMessage").css("left",position.left+5);
        $("#divErrorMessage").addClass("errorMessageClass");
        $scope.entityError=elementClick;
    };

    $scope.hideMessageError = function(){
        $("#divErrorMessage").hide();
    };

    $scope.addImputedHome = function(){
    	window.location.replace('hybrid:Meeting/MeetingDomicilio?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addPersonSocialNetwork = function(){
    	window.location.replace('hybrid:Meeting/PersonSocialNetwork?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addReference = function(){
    	window.location.replace('hybrid:Meeting/ReferenceMeeting?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addJob = function(){
    	window.location.replace('hybrid:Meeting/JobMeeting?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addDrug = function(){
    	window.location.replace('hybrid:Meeting/DrugMeeting?idMeeting='+$scope.m.MeetingId);
    };

    $scope.askTerminateshow = function (){
		var dlgMsgBox = $('#MessageBoxDlgTerminateId');
		dlgMsgBox.show();
	};

	$scope.askTerminatehide = function (){
		var dlgMsgBox = $('#MessageBoxDlgTerminateId');
		dlgMsgBox.hide();
	};

});


</script>
<div id="generalDivForAngular" ng-app="umecaMobile" ng-controller="MeettingDatosPersonalesController">
    <div>
    <input id="hdnJsonMtng" type="hidden" value="@Model.JsonMeeting" name="jsonString" />
    </div>
<div id="blocker" class="blocker" >
    <div>
        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
    </div>
</div>

	<div id="divErrorMessage" class="alert alert-danger" style="display: none;">
        <button type="button" class="close" ng-click="hideMessageError();">
            <i class="icon-remove"></i>
        </button>
        <br/>
        <span ng-bind-html="listMsgError[entityError]"></span>
        <br/>
    </div>


    <!--Terminate ask-->
<div class="modal-dialog" style="display:none; width:60%; position: fixed;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="MessageBoxDlgTerminateId" >
        <div class="modal-content" style="z-index: 1000;">
            <div class="modal-header">
                <div class="alert alert-info">
                    <button id="MessageBoxDlgXclose" type="button" class="close" ng-click="askTerminatehide();">×</button>
                    <h4 class="modal-title element-center">Terminar entrevista</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="element-center">¿Está seguro que desea terminar la entrevista de riesgos procesales?</div>
            </div>
            <div class="modal-footer">
                <button id="MessageBoxDlgYes" type="button" class="btn btn-default btn-info" ng-click="save();" >Si</button>
                <button id="MessageBoxDlgNo" type="button" class="btn btn-default" ng-click="askTerminatehide();" >No</button>
            </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>




    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessTotally" class="alert alert-success element-center success-font">
            <span>{{msgSuccessTotally}}</span>
        </div>
    </div>
    <!-- EVAQLUATION HEADER  -->

    <div class="row">
        <br/>

        <h2 class="element-center"><i class="icon-comments-alt "></i>&nbsp;&nbsp;Entrevista de evaluaci&oacute;n
            de riesgos
            procesales</h2>
        </div>
        <br/>

        <div class="row">
            <div class="col-sm-3">
                <h3 class="header smaller lighter blue">
                    <small>Carpeta de investigaci&oacute;n:</small>
                    <!--&nbsp;${m.caseDetention.idFolder}-->
                    {{m.IdFolder}}
                </h3>
            </div>
            <div class="col-sm-8">
                <!--ng-init="i.name='${m.imputed.name}'; i.lastNameP='${m.imputed.lastNameP}'; i.lastNameM ='${m.imputed.lastNameM}';"-->
                <h3 class="header smaller lighter blue">
                    <small>Nombre del imputado:</small>
                    <!--&nbsp;&nbsp;{{i.name}} &nbsp; {{i.lastNameP}} &nbsp; {{i.lastNameM}}-->
                    &nbsp;&nbsp;{{m.Name}}  &nbsp; {{m.LastNameP}} &nbsp; {{m.LastNameM}}
                </h3>
            </div>
            <div class="col-sm-1">
                <h3 class="header smaller lighter blue">
                    <small>Edad:</small>
                    <!--&nbsp;${age}-->
                    {{m.ageString}}
                </h3>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <h3 class="header smaller lighter blue">
                    <small>Inicio:</small>
                    <!--&nbsp;${tStart}-->
                    @Model.DateCreate
                </h3>
            </div>
            <div class="col-sm-4">
                <h3 class="header smaller lighter blue">
                    <small>Fin:</small>
                    <!--&nbsp;${tEnd}-->
                    @Model.DateTerminate
                </h3>
            </div>
            <div class="col-sm-4">
                <h3 class="header smaller lighter blue">
                    <small>Evaluador:</small>
                    <!--&nbsp;${reviewerFullname}-->
                    Loged user full name
                </h3>
            </div>
        </div>
        <!-- END OF EVAQLUATION HEADER  -->


        <!-- LATERAL PAGER MENU -->
        <div class="row">
            <div class="col-sm-12">
                <div class="tabbable tabs-left"  id="sidebar" class="sidebar" >
                    <ul class="nav nav-tabs" id="tabMeeting">
                        <li class="active" id="liPersonalData">
                            <a data-toggle="tab" href="#personalData">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="purple glyphicon glyphicon-user bigger-200"></i>
                                        Datos personales
                                        <br/>

                                        <div class="col-xs-offset-3">y entorno social</div>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['personalData']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120  dropdown-toggle"
                                                ng-click="showMessageError('personalData');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>

                        <li id="liImputedHome">
                            <a data-toggle="tab" href="#address">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="green  icon-home  bigger-200"></i>
                                        Domicilios <br/>
                                        <label class="info-example">De los &uacute;ltimos 5 a&ntilde;os</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['imputedHome']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('imputedHome');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>

                        <li id="liSocialNetwork">
                            <a data-toggle="tab" href="#socialNetwork" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="blue icon-group bigger-200"></i>
                                        Red social <br/>
                                        <label class="info-example">Personas con las que vive</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['socialNetwork']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('socialNetwork');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liReference">
                            <a data-toggle="tab" href="#personalReferences" style="z-index: 1;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="red icon-list bigger-200"></i>
                                        Referencias personales <br/>
                                        <label class="info-example">Personas con las que no vive</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['reference']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('reference');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liJob">
                            <a data-toggle="tab" href="#jobHistory" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="pink icon-briefcase  bigger-200"></i>
                                        Historia laboral<br/>
                                        <label class="info-example">&Uacute;ltimos 3-5 empleos</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['job']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('job');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liSchool">
                            <a data-toggle="tab" href="#school" style="z-index: 1;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="orange icon-book  bigger-200"></i>
                                        Historia escolar
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['school']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('school');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liDrug">
                            <a data-toggle="tab" href="#drugsSection" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="green icon-warning-sign  bigger-200"></i>
                                        Consumo de sustancias
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['drug']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('drug');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liLeaveCountry">
                            <a data-toggle="tab" href="#leaveCountry" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="blue icon-globe  bigger-200"></i>
                                        Facilidad de
                                        <br/>

                                        <div class="col-xs-offset-3">abandonar el pa&iacute;s</div>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['leavingCountry']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-120"
                                                ng-click="showMessageError('leavingCountry');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="collapser" class="sidebar-collapse">
                        	<i class="icon-double-angle-left"></i>
                        </li>
                    </ul>
					<script type="text/javascript">
						$(function(){  
							$("#collapser").on("click",function(){  
								
							});
						});
					</script>
                    <div class="tab-content">

                        <!-- END LATERAL PAGER MENU -->












                        <!-- CONTENT PAGE 1 Lateral pager  datos pers-->
                        <div id="personalData" class="tab-pane in active"><!--Begin of Datos Personales-->
                            <!-- include file="/WEB-INF/jsp/reviewer/meeting/personal/index.jsp" -->

                            <div class="col-xs-10 element-center col-xs-offset-1">
                                <h2><i class="purple glyphicon glyphicon-user bigger-100"></i> &nbsp;Datos personales y entorno social</h2>
                                <div ng-show="msgExito" class="alert alert-success element-center success-font">
                                    <span>{{msgExito}}</span>
                                </div>
                                <form id="FormPersonalData" name="FormPersonalData"
                                class="form-horizontal"
                                role="form">
                                <input type="hidden" value="@Model.IdFolder" name="caseDetention.id">

                                <div class="row element-left"  ng-show="readOnly == false">
                                    <div class="col-xs-12">

                                        &nbsp;&nbsp;&nbsp;&nbsp;
                                        <b>  Establecer toda la informaci&oacute;n de Datos personales y entorno social
                                            con:</b>
                                        </div>
                                        <div class="col-xs-10 col-xs-offset-1 text-info"  style="padding-top: 8px;">
                                            <i class="purple glyphicon glyphicon-user bigger-160"
                                            ng-click="showChoicesSection(1,undefined,1,'Datos personales<br/>  y entorno social')"  style="cursor: pointer;"></i>
                                            &nbsp;&nbsp;&nbsp;Informaci&oacute;n que proporcion&oacute; el imputado.
                                        </div>
                                        <div class="col-xs-10 col-xs-offset-1 text-info" style="padding-top: 8px;">
                                            <i class="blue icon-question-sign  icon-only bigger-160" style="cursor: pointer;"
                                            ng-click="showChoicesSection(1,undefined,-1,'Datos personales<br/> y entorno social')"></i>
                                            &nbsp;&nbsp;&nbsp;No se pudo verificar
                                        </div>
                                    </div>
                                    <div class="row"  ng-show="readOnly == false">
                                        <div col-xs-12>
                                            <div class="hr hr-8"></div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <br/>
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <div class="col-xs-5  element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.name')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.name"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.name')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"
                                                    ng-click="showChoices('imputed.name')"
                                                    ng-show="selectSource"></i>
                                                    Nombre:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" type="text" ng-model="m.Name" 
                                                    name="imputed.name" data-val-required="El nombre es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 2 y m&aacute;ximo 50 caracteres"
                                                    data-val-length-max="50" data-val-length-min="2"/>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.name"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="col-xs-5  element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.lastNameP')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.lastNameP"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.lastNameP')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"
                                                    ng-click="showChoices('imputed.lastNameP')"
                                                    ng-show="selectSource"></i>
                                                    Apellido<br/><div class="col-xs-2" ng-show="verification==true"></div>Paterno:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" type="text" ng-model="m.LastNameP" value="{{i.lastNameP}}"
                                                    name="imputed.lastNameP" data-val-required="El nombre es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 2 y m&aacute;ximo 50 caracteres"
                                                    data-val-length-max="50" data-val-length-min="2"/>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.lastNameP"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="col-xs-5  element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.lastNameM')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.lastNameM"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.lastNameM')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"
                                                    ng-click="showChoices('imputed.lastNameM')"
                                                    ng-show="selectSource"></i>
                                                    Apellido<br/><div class="col-xs-2" ng-show="verification==true"></div>Materno:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" type="text" ng-model="m.LastNameM" value="{{i.lastNameM}}"
                                                    name="imputed.lastNameM" data-val-required="El nombre es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 2 y m&aacute;ximo 50 caracteres"
                                                    data-val-length-max="50" data-val-length-min="2"/>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.lastNameM"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="col-xs-6">
                                            <div class="row">
                                                <div class="col-xs-3 element-left">
                                                    <br/> <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.gender')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.gender"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.gender')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource"  ng-click="showChoices('imputed.gender')"></i>
                                                    G&eacute;nero:
                                                </div>
                                                <div class="col-xs-9">
                                                    <div class="row" ng-init="m.Gender=m.Gender == null ? false: m.Gender">
                                                        <!-- -->
                                                        <div class="col-xs-6">
                                                            <div class="radio">
                                                                <label>
                                                                    <input class="ace" type="radio" ng-checked="m.Gender==true" name="imputed.gender"
                                                                    data-val-required="El g?nero es un campo requerido" id="genero" value="true"
                                                                    ng-model="m.Gender">
                                                                    <span class="lbl">Femenino</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <div class="radio">
                                                                <label>
                                                                    <input class="ace" type="radio" value="false" ng-model="m.Gender" ng-checked="m.Gender==false"
                                                                    name="imputed.gender">
                                                                    <span class="lbl">Masculino</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="row">
                                                <div class="col-xs-3 element-left">
                                                    <br/> <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.nickname')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.nickname"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.nickname')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource"  ng-click="showChoices('imputed.nickname')"></i>
                                                    Apodo:
                                                </div>
                                                <div class="col-xs-7 col-xs-offset-2">
                                                    <input class="form-control" data-val-required="El apodo es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 100 caracteres"
                                                    data-val-length-max="100" data-val-length-min="1"
                                                    type="text" ng-model="m.Nickname" id="nickname"

                                                    name="imputed.nickname">
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.nickname"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="row" ng-show="verification==false">
                                                <div class="col-xs-5 element-left">
                                                    Fecha de nacimiento:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" id="birthDate" readonly="readonly" value="${m.BirthDate}" disabled="disabled">
                                                </div>
                                            </div>
                                            <div class="row" ng-show="verification == true || selectSource==true">
                                                <div class="col-xs-5 element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.birthDate')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.birthDate"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.birthDate')"></i>
                                                    <i class="purple icon-list icon-only bigger-120" onclick="window.showChoices('imputed.birthDate')"
                                                    ng-show="selectSource"></i>
                                                    Fecha de nacimiento:
                                                </div>
                                                <div class="col-xs-7">
                                                    <div class="input-group">
                                                        <input class="form-control date-picker" id="dateBirthV"  type="text"  disabled="disabled"
                                                        data-date-format="yyyy/mm/dd" value="${m.BirthDate}" readonly="readonly"
                                                        name="imputed.birthDate" data-val-required="La fecha de nacimiento es un campo requerido"/>
                                                        <span class="input-group-addon">
                                                            <i class="icon-calendar bigger-110"></i>
                                                        </span>
                                                    </div>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.birthDate"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <br/>

                                            <div class="row">
                                                <div class="col-xs-5 element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.celPhone')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.celPhone"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.celPhone')"></i>
                                                    <i class="purple icon-list icon-only bigger-120" ng-click="showChoices('imputed.celPhone')"
                                                    ng-show="selectSource"></i>
                                                    Celular:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" data-val-required="El celular es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 8 y m&aacute;ximo 20 caracteres"
                                                    data-val-length-max="20" data-val-length-min="8"
                                                    type="text" ng-model="m.CelPhone" id="celPhone"
                                                    ng-init=""
                                                    name="imputed.celPhone">
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.celPhone"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-6">
                                            <div class="widget-box">
                                                <div class="widget-header"
                                                ng-init="maritalStatus = (m.imputed.maritalStatus.id == null ? 1: m.imputed.maritalStatus.id)">
                                                <div class="col-xs-2">
                                                    <i class="icon-ok-circle green  icon-only bigger-120"  ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.maritalStatus.id')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="4" ng-show="verification"
                                                    code="imputed.maritalStatus.id"></i>
                                                    <i class="icon-ban-circle inverse icon-only bigger-1 20"  ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.maritalStatus.id')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource" onclick="window.showChoices('imputed.maritalStatus.id')"></i>
                                                </div>

                                                <div class="col-xs-9 element-left">
                                                    <h5>Estado civil</h5>
                                                </div>

                                            </div>
                                            <div class="widget-body">
                                                <div class="row">
                                                    <div class="col-xs-6">
                                                        <div class="control-group">
                                                            <div class="radio element-left">
                                                                <label>
                                                                    <input name="imputed.maritalStatus.id" type="radio" class="ace" value="1"
                                                                    ng-model="m.MaritalStatusId"/>
                                                                    <span class="lbl">Soltero</span>
                                                                </label>
                                                            </div>

                                                            <div class="radio element-left">
                                                                <label>
                                                                    <input name="imputed.maritalStatus.id" type="radio" class="ace"
                                                                    ng-model="m.MaritalStatusId"
                                                                    value="2"/>
                                                                    <span class="lbl">Casado</span>

                                                                </label>
                                                            </div>
                                                        </div>

                                                        <div class="radio element-left">
                                                            <label>
                                                                <input name="imputed.maritalStatus.id" type="radio" class="ace" value="3"
                                                                ng-model="m.MaritalStatusId"/>
                                                                <span class="lbl">Divorciado</span>
                                                            </label>
                                                        </div>

                                                        <div class="radio element-left">
                                                            <label>
                                                                <input name="imputed.maritalStatus.id" type="radio" class="ace" value="4"
                                                                ng-model="m.MaritalStatusId" />
                                                                <span class="lbl">Uni&oacute;n libre</span>
                                                            </label>
                                                        </div>

                                                        <div class="radio element-left">
                                                            <label>
                                                                <input name="imputed.maritalStatus.id" type="radio" class="ace" value="5"
                                                                ng-model="m.MaritalStatusId" />
                                                                <span class="lbl">Viudo</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-5" ng-show="m.MaritalStatusId ==2 || m.MaritalStatusId == 4" ng-model="verifElem">
                                                        <div class="space-10"></div>
                                                        <div class="widget-main">
                                                            <input type="text" class="input-mini" id="spinnder1"
                                                            value="${m.YearsMaritalStatus ==null ? '': m.YearsMaritalStatus}"
                                                            name="imputed.yearsMaritalStatus" id="imputed.yearsMaritalStatus" data-val="true"
                                                            data-val-regex-pattern="([0-9]+)" ng-model="m.YearsMaritalStatus"
                                                            data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                                                            data-val-length-max="3" data-val-length-min="1"
                                                            data-val-required="El n&uacute;mero de a&ntilde;os es un campo requerido"
                                                            data-val-regex="La cantidad de a&ntilde;os s&oacute;lo pueden ser n&uacute;meros"/> A&ntilde;os
                                                            <br/>
                                                            <span class="field-validation-valid" data-valmsg-for="imputed.yearsMaritalStatus"
                                                            data-valmsg-replace="true"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>

                                <div class="col-xs-12">
                                    <div class="widget-box">
                                        <div class="widget-header">
                                            <div class="col-xs-1">
                                                <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                                ng-click="doConfirmVerifEqual('imputed.boys')"></i>
                                                <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="3" ng-show="verification"
                                                code="imputed.boys"></i>
                                                <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                                ng-click="doConfirmVerifNotKnow('imputed.boys')"></i>
                                                <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource" onclick="window.showChoices('imputed.boys')"></i>
                                            </div>

                                            <div class="col-xs-11 element-left">
                                                <h5>Hijos</h5>
                                            </div>
                                        </div>
                                        <div class="widget-body">
                                            <br/>

                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="col-xs-1 align-left">
                                                        Total:
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <input type="text" class="form-control" name="imputed.boys" 
                                                        ng-model="m.Boys" value="${m.Boys == null ? '': m.Boys}"
                                                        data-val-regex-pattern="([0-9]+)"
                                                        data-val-required="El total de hijos es un campo requerido"
                                                        data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                                                        data-val-length-max="3" data-val-length-min="1"
                                                        data-val-regex="S&oacute;lo puede guardar n&uacute;meros" data-val="true"
                                                        id="imputed.boys"/>
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.boys"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-3 align-right">
                                                        Menores de 18 a&ntilde;os:
                                                    </div>
                                                    <div class="col-xs-5">
                                                        <input type="text" class="form-control" name="imputed.dependentBoys"
                                                        data-val-regex-pattern="([0-9]+)"
                                                        data-val-required="El n&uacute;mero de menores de 18 a&ntilde;os es un campo requerido"
                                                        data-val-regex="S&oacute;lo puede guardar n&uacute;meros" id="imputed.dependentBoys" data-val="true"
                                                        data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                                                        data-val-length-max="3" data-val-length-min="1"
                                                        value="${m.DependentBoys == null ? '': m.DependentBoys}"
                                                        ng-model="m.DependentBoys"/>
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.dependentBoys"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                        </div>
                                    </div>
                                </div>

                                <br/>

                                <div class="row">

                                </div>
                                <br/>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="widget-box">
                                            <div class="widget-header">
                                                <div class="col-xs-1" >
                                                    <i class="icon-ok-circle green  icon-only bigger-120"ng-show="verification"
                                                    ng-click="doConfirmVerifEqual('imputed.birthCountry.id')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="5" ng-show="verification"
                                                    code="imputed.birthCountry.id"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-120"ng-show="verification"
                                                    ng-click="doConfirmVerifNotKnow('imputed.birthCountry.id')"></i>
                                                    <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource" ng-click="showChoices('imputed.birthCountry.id')"></i>
                                                </div>
                                                <div class="col-xs-10 element-left">
                                                    <h4>Lugar de nacimiento</h4>
                                                </div>
                                            </div>

                                            <div class="widget-body">
                                                <br/>

                                                <div class="row" >
                                                    <div class="col-xs-2 element-left col-xs-offset-1">
                                                        Pa&iacute;s:
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <input type="hidden" ng-update-hiddenname="imputed.birthCountry.id"
                                                        id="country"
                                                        value="${m.BirthCountry == null ? '': m.BirthCountry}"
                                                        ng-model="m.BirthCountry" />
                                                        <select class="form-control element-center" ng-model="SeceltedCountry"  id="AdresBirth"
                                                        ng-options="e.Name for e in listCountry" value="{{SeceltedCountry['ID']}}"
                                                        ng-change="m.BirthCountry = SeceltedCountry['Id'];" ng-init='listCountry = @Model.JsonCountrys;'></select>
                                                   </div>
                                                    <div class="col-xs-2 element-right" ng-show="m.BirthCountry != 1">
                                                        Estado:
                                                    </div>
                                                    <div class="col-xs-3" ng-show="m.BirthCountry != 1">
                                                        <input class="form-control"
                                                        type="text" ng-model="m.BirthState" id="imputed.birthState"   data-val="true"
                                                        name="imputed.birthState" data-val-required="El estado es un campo requerido" value="{{m.BirthState}}"
                                                        ng-init='' />
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthState"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-right" ng-show="m.BirthCountry == 1">
                                                        Estado:
                                                    </div>
                                                    <div class="col-xs-3" ng-show="m.BirthCountry == 1">
                                                        <select class="form-control element-center" ng-model="SeceltedEstate" value=""
                                                        ng-options="e.Name for e in listState" ng-init='listState = @Model.JsonStates'
                                                        ng-change="MunByEdo();"></select><br/>
                                                        <!--ng-options="e.name for e in listState" ng-init=''-->
                                                    </div>
                                                </div>
                                                <br/>

                                                <div class="row">
                                                    <div class="col-xs-2 element-left col-xs-offset-1"  ng-show="m.BirthCountry != 1">
                                                        Municipio:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry != 1">
                                                        <input class="form-control"
                                                        type="text" ng-model="m.BirthMunicipality" id="imputed.birthMunicipality"    data-val="true"
                                                        name="m.BirthMunicipality" data-val-required="El municipio es un campo requerido"
                                                        >
                                                        <span class="field-validation-valid" data-valmsg-for="m.BirthMunicipality"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-left col-xs-offset-1"  ng-show="m.BirthCountry == 1">
                                                        Municipio:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry == 1">
                                                        <input type="hidden" ng-model="urlMunicipality"
                                                        ng-init=''>
                                                        <select class="form-control element-center" ng-model="SeceltedMuni" 
                                                        ng-options="e.Name for e in listMunByEdo" 
                                                        ng-change="LocByMun();"></select><br/>

                                                    </div>
                                                    <div class="col-xs-2 element-right"  ng-show="m.BirthCountry != 1">
                                                        Localidad/Colonia:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry != 1">
                                                        <input class="form-control"
                                                        type="text" ng-model="m.BirthLocation" id="imputed.birthLocation"
                                                        name="imputed.birthLocation" data-val-required="La localidad es un campo requerido"   data-val="true"
                                                        ng-init=''>
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthLocation"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-right"  ng-show="m.BirthCountry == 1">
                                                        Localidad/Colonia:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry == 1">
                                                        <select class="form-control" ng-model="SeceltedLocation" change-cp 
                                                        ng-options="e.Name for e in listLocalidades" ng-init="listLocalidades = [];"
                                                        ng-change="locationDp();"></select>
                                                    </div>
                                                    <div class="col-xs-10 col-xs-offset-1" ng-show="m.BirthCountry == 1">
                                                        <input type="hidden" ng-model="m.LocationId" ng-update-hidden name="imputed.location.id"
                                                        data-val-required="La localidad es un campo requerido. Elija Estado y Municipio para desplegar la lista de localidades.">
                                                        <span class="field-validation-valid" data-valmsg-for="mputed.location.id"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>

                                <div class="row">
                                    <div class="col-xs-3 element-left">
                                        <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                                        ng-click="doConfirmVerifEqual('socialEnvironment.physicalCondition')"></i>
                                        <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2" ng-show="verification"
                                        code="socialEnvironment.physicalCondition"></i>
                                        <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                                        ng-click="doConfirmVerifNotKnow('socialEnvironment.physicalCondition')"></i>
                                        <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource" ng-click="showChoices('socialEnvironment.physicalCondition')"></i>
                                        &iquest;Padece alguna enfermedad o condici&oacute;n f&iacute;sica?:             <br/>
                                        <label class="info-example">(tuberculosis, hepatitis, alergias, embarazo, tiempo de gestaci&oacute;n, lactancia, etc.)</label>
                                    </div>
                                    <div class="col-xs-9">
                                        <textarea class="form-control"
                                        data-val-required="Si padece alguna enfermedad o condici&oacute;n f&iacute;sica es un campo requerido"
                                        name="socialEnvironment.physicalCondition" ng-model="m.PhysicalCondition">{{m.PhysicalCondition}}</textarea>
                                        <span class="field-validation-valid" data-valmsg-for="socialEnvironment.physicalCondition"
                                        data-valmsg-replace="true"></span>
                                    </div>
                                </div>
                                <br/>

                                <div id="showId">
                                    <div class="row">
								        <div class="col-xs-3 element-left">
								            <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
								               ng-click="doConfirmVerifEqual('socialEnvironment.activities')"></i>
								            <i class="icon-remove-circle red  icon-only bigger-120" onclick="window.verificationActivities();" ng-show="verification"
								               code="socialEnvironment.activities"></i>
								            <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
								               ng-click="doConfirmVerifNotKnow('socialEnvironment.activities')"></i>
								            <i class="purple icon-list icon-only bigger-120"   ng-show="selectSource" ng-click="showChoices('socialEnvironment.activities')"></i>
								            &iquest;Qu&eacute; actividades realiza?:  <br/>
								            <label class="info-example">(deportivas, educativas, voluntariado, etc.)</label>
								        </div>
								        <div class="col-xs-9 element-left">
								            <input name="activities" ng-model="activities" type="hidden" ng-update-hidden >
								            <select ng-model="activityModel" data-placeholder="..." id="ms"
								                    ng-init='lstActivity = @Model.JsonActivities;' ng-change="matchActivities();"
								                    id="slctActivity" style="width:450px;heigth: 100%;"
								                    ng-options="ac.name for ac in lstActivity" multiple >
								            </select>
								        </div>
								    </div>
                                <br/>

                                <div class="row">
							        <div ng-repeat="activity in activityModel">
							            <div ng-show="activity.specification==true">
							                <div class="col-xs-3">
							                    Especif&iacute;que actividades {{activity.name}}:
							                </div>
							                <div class="col-xs-9">
							                    <input class="form-control" data-val="true"
							                           data-val-length="Debe tener al menos 3 y m&aacute;ximo 255 caracteres"
							                           data-val-length-max="255" data-val-length-min="3"
							                           data-val-required="La especificaci&oacute;n de actividades {{activity.name}} es un campo requerido"
							                           type="text" value="" ng-model="specification[activity.name]"
							                           id="specification{{activity.name}}" name="specification{{activity.name}}"
							                           ng-change="matchActivities()"><br/>
							                <span class="field-validation-valid" data-valmsg-for="specification{{activity.name}}"
							                      data-valmsg-replace="true"></span>
							                    <br/>
							                </div>
							            </div>
							        </div>
							    </div>
                            </div>
                            <br/>
                            <script>
                                $('.date-picker').datepicker({autoclose: true, endDate: new Date()}).next().on(ace.click_event, function () {
                                    $(this).prev().focus();
                                });
                            </script>
                            <script src="${pageContext.request.contextPath}/assets/scripts/app/shared/dateTimePickerCursor.js"></script>

                        </form>
                        <br/>
                        <div ng-show="msgError" class="alert alert-danger element-center error-font">
                            <span ng-bind-html="msgError"></span>
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <div class="modal-footer">
                            <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true"
                            ng-click="savePersonalData()">
                            <span class="glyphicon glyphicon-cloud-upload	"></span>
                            Guardar
                        </span>
                    </div>
                </div>
<div class="space-2"></div>
            </div><!--End of Datos Personales-->







            	

            <div id="address" class="tab-pane"><!-- Begin of Domicilios -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/address/index.jsp" -->

                <br />
<div class="row element-center">
    <div class="col-xs-12">
        <h2> <i class="green  icon-home  bigger-100"></i>&nbsp;Domicilios</h2>
        <br/>
<div id="toolbarDomicilios" class="btn-group">
<a href="javascript:;">
	    <button type="button" class="btn btn-default" id="btnAddDomicilio" ng-click="addImputedHome();">
	        <i class="glyphicon glyphicon-plus"></i>
	    </button>
</a>
	</div>
	<script>
	function elimirarDomicilioImputado(respuesta){
		console.log("elimirarDomicilioImputado respuesta>>"+respuesta);
		var valus = [];
		valus[0]=respuesta;
		var reslt = MeetingService.eraseImputedHome(respuesta);
		console.log("reslt>>"+reslt);
		$('#tr-IH-'+respuesta).remove();
		$('#meetingImputedHomeTbl').bootstrapTable('refresh', {silent: true});
		if($("#meetingImputedHomeTbl").html()==""){
        $("#meetingImputedHomeTbl").html("<tr class='no-records-found'><td colspan='5'>No se encontraron registros</td></tr>");
        }
		console.log("tr de origen "+$("#meetingImputedHomeTbl").html());
		askYesNo.hide();
	}

	function cancelElimirarDomicilioImputado(){
		console.log("cancelElimirarDomicilioImputado >>");
		askYesNo.hide();
	}

	function btnDeleteDomicilio (idHome){
	askYesNo.yes = elimirarDomicilioImputado;
	askYesNo.no = cancelElimirarDomicilioImputado;
	askYesNo.referencia=idHome;
	askYesNo.show();
    	console.log("btnDeleteDomicilio idHome>>"+idHome);
	}

	function btnEditDomicilio (idHome){
    	console.log("editImputedHome>>"+idHome);
    	window.location.replace('hybrid:Meeting/EditMeetingDomicilio?idHome='+idHome);
	}
	</script>
<table
		data-toggle="table" data-page-size="10" data-page-list="[10, 20, 30]" 
     data-pagination="true" data-height="450"
     data-striped="true" data-search="true" 
     data-search-align="right" data-toolbar="#toolbarDomicilios" class="element-center" style="margin: auto">		
    <thead>
    <tr>
        <!--<th>ID</th>-->
        <th>Direcci&oacute;n</th>
        <th>Tel&eacute;fono</th>
        <th>Tipo de domicilio</th>
        <th>Tipo de propiedad</th>
        <th>Acci&oacute;n</th>
    </tr>
    </thead>
    <tbody id="meetingImputedHomeTbl">
    @if(Model.JsonDomicilios==null){
    }
    else{
    foreach(var Dmcl in Model.JsonDomicilios) {
    <tr id='tr-IH-@Dmcl.Id' class="tr-class-1" >
        <td id="td-id-1" class="td-class-1">
            @Dmcl.addressString
        </td>
        <td>
        	@Dmcl.Phone
        </td>
        <td>
        @{switch(@Dmcl.RegisterTypeId)
    {
        case 1:
            // Use the text block below to separate html elements from code
                <label>Actual</label>
            break;  // Always break each case
        case 2:
            <label>Secundario</label>
            break;
        case 3:
       		<label>Anterior</label>
        	break;
        default:
            <label></label>
            break;                   
    }
    }
        </td>
        <td>
         @{switch(@Dmcl.HomeTypeId)
    {
        case 1:
            // Use the text block below to separate html elements from code
                <label>Propia</label>
            break;  // Always break each case
        case 2:
            <label>Rentada</label>
            break;
        case 3:
       		<label>Prestada</label>
        	break;
        case 4:
       		<label>Otro</label>
        	break;
        default:
            <label></label>
            break;                   
    }
    }
        </td>
        <td>
        <a href="javascript:;" style="display:inline-block;" title="Eliminar domicilio" onclick="btnDeleteDomicilio('@Dmcl.Id');"><span class="glyphicon glyphicon-trash"></span></a>&nbsp;&nbsp;
        <a href="javascript:;" style="display:inline-block;" title="Editar Domicilio" onclick="btnEditDomicilio('@Dmcl.Id');"><span class="glyphicon glyphicon-pencil"></span></a>
        </td>
    </tr>
	}
}
    </tbody>
</table>	
    </div>
</div>
<br/><br/>
    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessDom" class="alert alert-success element-center success-font">
            <span>{{msgSuccessDom}}</span>
        </div>
    </div>

    <form id="FormCommentHomeId" name="FormCommentHomeId" class="form-horizontal" role="form">
        <div class="col-xs-3 element-right">Observaciones:<br/>
            <label class="info-example">(Este campo no es verificable)</label></div>
            <div class="col-xs-8">
                <textarea class="width-100" ng-model = "m.CommentHome" ng-init=''
                data-val-required="Las obsgervaciones es un campo requerido"
                data-val="true"
                data-val-required="Las observaciones es un campo requerido"
                data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                data-val-length-max="500"
                data-val-length-min="1"
                name="commentHome">{{m.CommentHome}}</textarea>
                <span class="field-validation-valid" data-valmsg-for="comment"
                data-valmsg-replace="true"></span>
            </div>
        </form>
        <br/>
        <!--<div class="col-xs-10 col-xs-offset-1">
            <div ng-show="msgError" class="alert alert-danger element-center error-font">
                <span ng-bind-html="msgError"></span>
            </div>
        </div>-->
        <div class="col-xs-12">
            <div class="modal-footer">
                <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true" ng-click="saveDomicilios()">
                <span class="glyphicon glyphicon-cloud-upload"></span>
                Guardar
            </span>
        </div>
    </div>
            </div><!--End of Domicilios -->











            <div id="socialNetwork" class="tab-pane"><!-- Begin of Red Social -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/socialNetwork/index.jsp" -->
<div class="row element-center">
        <h2> <i class="blue icon-group bigger-100"></i> &nbsp;Red social</h2>
        <br/>
        <div id="toolbarRedSocial" class="btn-group">

	    <button type="button" class="btn btn-default" id="btnAddDomicilio" ng-click="addPersonSocialNetwork();">
	        <i class="glyphicon glyphicon-plus"></i>
	    </button>

	</div>
	<script>
	function elimirarPersonSn(idPerson){
		console.log("elimirarPersonSn idPerson>>"+idPerson);
		var reslt = MeetingService.erasePersonaRedSocial(idPerson);
		console.log("reslt>>"+reslt);
		$('#tr-PSN-'+idPerson).remove();
		if($("#meetingPersonSNTbl").html()==""){
       		$("#meetingPersonSNTbl").html("<tr class='no-records-found'><td colspan='7'>No se encontraron registros</td></tr>");
        }
		askYesNo.hide();
	}

	function cancelElimirarPersonSn(){
		console.log("cancelElimirarPersonSn >>");
		askYesNo.hide();
	}

	function btnDeletePersonSn (idPerson){
	askYesNo.yes = elimirarPersonSn;
	askYesNo.no = cancelElimirarPersonSn;
	askYesNo.referencia=idPerson;
	askYesNo.show();
    	console.log("btnDeletePersonSn idPerson>>"+idPerson);
	}

	function btnEditPersonSn (idPerson){
    	console.log("btnEditPersonSn>>"+idPerson);
    	window.location.replace('hybrid:Meeting/EditPersonSocialNetwork?idPerson='+idPerson);
	}
	</script>
<table data-toggle="table" data-page-size="10" data-page-list="[10, 20, 30]"
     data-pagination="true" data-height="450"
     data-striped="true" data-search="true" 
     data-search-align="right" data-toolbar="#toolbarRedSocial" class="element-center" style="margin: auto">
    <thead>
    <tr>
        <th>Nombre</th>
        <th>Relaci&oacute;n</th>
        <th>Edad</th>
        <th>Tel&eacute;fono</th>
        <th style="width: 30px;">Acompaña al imputado durante el proceso</th>
        <th>Dependiente econ&oacute;mico</th>
        <th>Acci&oacute;n</th>
    </tr>
    </thead>
    <tbody id="meetingPersonSNTbl">
    @if(Model.JsonPersonSN==null){
    }
    else{
    foreach(var Jpsn in Model.JsonPersonSN) {
    <tr id='tr-PSN-@Jpsn.Id' class="tr-class-1" >
        <td id="td-id-1" class="td-class-1">
            @Jpsn.Name
        </td>
        <td>
@{switch(@Jpsn.RelationshipId)
    {
        	case 18:   
			<label>Abuelo</label>
            break;  
            case 6:  
            <label>Amigo</label>
            break;  
            case 10:
            <label>Compañero de trabajo</label>
            break;  
            case 12:  
            <label>Empleado</label>
            break;  
            case 14:  
            <label>Esposa</label>
            break;  
            case 16:  
            <label>Familiar Político</label>
            break;  
            case 1:  
            <label>Hermano</label>
            break;  
            case 3: 
            <label>Hijo(a)</label>
            break;  
            case 20:
            <label>Imputado</label>
            break;  
            case 2:  
            <label>Madre</label>
            break;  
            case 8:  
            <label>Ninguno</label>
            break;  
            case 19:  
            <label>Otro</label>
            break;  
            case 17:  
            <label>Padre</label>
            break;  
            case 11:  
            <label>Padrino</label>
            break;  
            case 13:  
            <label>Pareja sentimental</label>
            break;  
            case 9:  
            <label>Patrón</label>
            break;  
            case 4:  
            <label>Primo(a)</label>
            break;  
            case 15:  
            <label>Suegra</label>
            break;  
            case 5:  
            <label>Tío(a)</label>
            break;  
            case 7:  
            <label>Vecino</label>
            break;  
            default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
        	@Jpsn.Age
        </td>
        <td>
        	@Jpsn.Phone
        </td>
        <td>
@{switch(@Jpsn.isAccompaniment)
    {
        case true:
            <label>Si</label>
            break;
        case false:
            <label>No</label>
            break;
        default:
            <label></label>
            break;                   
    }
}
        </td>  
        <td>
@{switch(@Jpsn.DependentId)
    {
        case 1:
            <label>Si</label>
            break;
        case 2:
            <label>No</label>
            break;
        default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
        <a href="javascript:;" style="display:inline-block;" title="Eliminar Persona" onclick="btnDeletePersonSn('@Jpsn.Id');"><span class="glyphicon glyphicon-trash"></span></a>&nbsp;&nbsp;
        <a href="javascript:;" style="display:inline-block;" title="Editar Persona" onclick="btnEditPersonSn('@Jpsn.Id');"><span class="glyphicon glyphicon-pencil"></span></a>
        </td>
    </tr>
	}
}
    </tbody>
</table>	
    </div>
        <br/>
<br/>
<div class="row">
    <div class="col-xs-10 col-xs-offset-1">
    <div ng-show="msgSuccessSocNet" class="alert alert-success element-center success-font">
        <span>{{msgSuccessSocNet}}</span>
    </div>
    </div>
    <form id="FormSocialNetworkIndexId" name="FormSocialNetworkIndexId" class="form-horizontal" role="form">
                <div class="col-xs-3 element-right">Observaciones:<br/>
                    <label class="info-example">(no tiene donde vivir, existe violencia, etc.)</label></div>
                <div class="col-xs-8">
                    <textarea class="width-100"     ng-model = "m.CommentSocialNetwork" ng-init=''
                              data-val-required="Las observaciones es un campo requerido"
                              data-val="true"
                              data-val-required="Las observaciones es un campo requerido"
                              data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                              data-val-length-max="500"
                              data-val-length-min="1"
                              name="socialNetwork.comment">{{m.CommentSocialNetwork}}</textarea>
                <span class="field-validation-valid" data-valmsg-for="comment"
                      data-valmsg-replace="true"></span>
                </div>
    </form>
    <br/>
    <div class="col-xs-10 col-xs-offset-1">
    <!--<div ng-show="msgError" class="alert alert-danger element-center error-font">
        <span ng-bind-html="msgError"></span>
    </div>-->
        </div>
    <div class="col-xs-12">
        <div class="modal-footer">
                    <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true" ng-click="saveSocialNetwork();">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                          Guardar
                    </span>
        </div>
    </div>
</div>
            </div><!--End of Red Social -->













            <div id="personalReferences" class="tab-pane"><!-- Begin of Referencias -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/reference/index.jsp" -->
<div class="row element-center">
    <div class="col-xs-12">
        <h2><i class="red icon-list bigger-100"></i> &nbsp;Referencias personales</h2>
        <br/>
<div id="toolbarReferencias" class="btn-group">
	    <button type="button" class="btn btn-default" id="btnAddpersonalReferences" ng-click="addReference();">
	        <i class="glyphicon glyphicon-plus"></i>
	    </button>
</div>
	<script>
	function elimirarReference(idReference){
		console.log("elimirarReference idReference>>"+idReference);
		var reslt = MeetingService.eraseReferencia(idReference);
		console.log("reslt>>"+reslt);
		$('#tr-MRF-'+idReference).remove();
		if($("#meetingReferenceTbl").html()==""){
       		$("#meetingReferenceTbl").html("<tr class='no-records-found'><td colspan='6'>No se encontraron registros</td></tr>");
        }
		askYesNo.hide();
	}

	function cancelElimirarReference(){
		console.log("cancelElimirarReference >>");
		askYesNo.hide();
	}

	function btnDeleteReference (idReference){
	askYesNo.yes = elimirarReference;
	askYesNo.no = cancelElimirarReference;
	askYesNo.referencia=idReference;
	askYesNo.show();
    	console.log("btnDeleteReference idReference>>"+idReference);
	}

	function btnEditReference (idReference){
    	console.log("btnEditReference>>"+idReference);
    	window.location.replace('hybrid:Meeting/EditReferenceMeeting?idReference='+idReference);
	}
	</script>
<table data-toggle="table" data-page-size="10" data-page-list="[10, 20, 30]"
     data-pagination="true" data-height="450"
     data-striped="true" data-search="true" 
     data-search-align="right" data-toolbar="#toolbarReferencias" class="element-center" style="margin: auto">
    <thead>
    <tr>
        <th>Nombre</th>
        <th>Relaci&oacute;n</th>
        <th>Edad</th>
        <th>Tel&eacute;fono</th>
        <th style="width: 30px;">Acompaña al imputado durante el proceso</th>
        <th>Acci&oacute;n</th>
    </tr>
    </thead>
    <tbody id="meetingReferenceTbl">
    @if(Model.JsonReferences==null){	
    }
    else{
    foreach(var Jrfnc in Model.JsonReferences) {
   <tr id='tr-MRF-@Jrfnc.Id' class="tr-class-1" >
        <td id="td-id-1" class="td-class-1">
            @Jrfnc.FullName
        </td>
        <td>
@{switch(@Jrfnc.RelationshipId)
    {
        	case 18:   
			<label>Abuelo</label>
            break;  
            case 6:  
            <label>Amigo</label>
            break;  
            case 10:
            <label>Compañero de trabajo</label>
            break;  
            case 12:  
            <label>Empleado</label>
            break;  
            case 14:  
            <label>Esposa</label>
            break;  
            case 16:  
            <label>Familiar Político</label>
            break;  
            case 1:  
            <label>Hermano</label>
            break;  
            case 3: 
            <label>Hijo(a)</label>
            break;  
            case 20:
            <label>Imputado</label>
            break;  
            case 2:  
            <label>Madre</label>
            break;  
            case 8:  
            <label>Ninguno</label>
            break;  
            case 19:  
            <label>Otro</label>
            break;  
            case 17:  
            <label>Padre</label>
            break;  
            case 11:  
            <label>Padrino</label>
            break;  
            case 13:  
            <label>Pareja sentimental</label>
            break;  
            case 9:  
            <label>Patrón</label>
            break;  
            case 4:  
            <label>Primo(a)</label>
            break;  
            case 15:  
            <label>Suegra</label>
            break;  
            case 5:  
            <label>Tío(a)</label>
            break;  
            case 7:  
            <label>Vecino</label>
            break;  
            default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
        	@Jrfnc.Age
        </td>
        <td>
        	@Jrfnc.Phone
        </td>
        <td>
@{switch(@Jrfnc.IsAccompaniment)
    {
        case true:
            <label>Si</label>
            break;
        case false:
            <label>No</label>
            break;
        default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
        <a href="javascript:;" style="display:inline-block;" title="Eliminar Registro" onclick="btnDeleteReference('@Jrfnc.Id');"><span class="glyphicon glyphicon-trash"></span></a>&nbsp;&nbsp;
        <a href="javascript:;" style="display:inline-block;" title="Editar Registro" onclick="btnEditReference('@Jrfnc.Id');"><span class="glyphicon glyphicon-pencil"></span></a>
        </td>
    </tr>
	}
}
    </tbody>
</table>
    </div>
</div>
    <br/><br/>
<div class="row" >

    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessReferences" class="alert alert-success element-center success-font">
            <span>{{msgSuccessReferences}}</span>
        </div>
    </div>
    <form id="FormCommentReferenceId" name="FormCommentReferenceId" class="form-horizontal" role="form">
        <div class="col-xs-3 element-right">Observaciones:<br/>
            <label class="info-example">(no tiene donde vivir, existe violencia, etc.)</label></div>
        <div class="col-xs-8">
            <textarea class="width-100"
                      ng-model = "m.CommentReference" ng-init=''
                      data-val-required="Las observaciones es un campo requerido"
                      data-val="true"
                      data-val-required="Las observaciones es un campo requerido"
                      data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                      data-val-length-max="500"
                      data-val-length-min="1"
                      name="commentReference">${m.CommentReference}</textarea>
                <span class="field-validation-valid" data-valmsg-for="comment"
                      data-valmsg-replace="true"></span>
        </div>
    </form>
    <br/>
    <!--<div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgError" class="alert alert-danger element-center error-font">
            <span ng-bind-html="msgError"></span>
        </div>
    </div>-->
    <div class="col-xs-12">
        <div class="modal-footer">
                    <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true"
                          ng-click="saveReferences();">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                          Guardar
                    </span>
        </div>
    </div>
</div>
            </div><!--End of Referencias -->















            <div id="jobHistory" class="tab-pane"><!-- Begin of Historial laboral -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/job/index.jsp" -->
<div class="row element-center">
    <div class="col-xs-12">
        <h2><i class="pink icon-briefcase  bigger-100">&nbsp;</i>Historia Laboral</h2>
        <br/>
<div id="toolbarHistorialLaboral" class="btn-group">
	    <button type="button" class="btn btn-default" id="btnAddHistorialLaboral" ng-click="addJob();" >
	        <i class="glyphicon glyphicon-plus"></i>
	    </button>
	</div>
	<script>
	function elimirarJob(idJob){
		console.log("elimirarJob idJob>>"+idJob);
		var reslt = MeetingService.eraseLaboral(idJob);
		console.log("reslt>>"+reslt);
		$('#tr-MJB-'+idJob).remove();
		if($("#meetingJobTbl").html()==""){
       		$("#meetingJobTbl").html("<tr class='no-records-found'><td colspan='6'>No se encontraron registros</td></tr>");
        }
		askYesNo.hide();
	}

	function cancelElimirarJob(){
		console.log("cancelElimirarJob >>");
		askYesNo.hide();
	}

	function btnDeleteJob (idJob){
	askYesNo.yes = elimirarJob;
	askYesNo.no = cancelElimirarJob;
	askYesNo.referencia=idJob;
	askYesNo.show();
    	console.log("btnDeleteJob idJob>>"+idJob);
	}

	function btnEditJob (idJob){
    	console.log("btnEditReference>>"+idJob);
    	window.location.replace('hybrid:Meeting/EditJobMeeting?idJob='+idJob);
	}	
	</script>
<table data-toggle="table" data-page-size="10" data-page-list="[10, 20, 30]"
     data-pagination="true" data-height="450"
     data-striped="true" data-search="true" 
     data-search-align="right" data-toolbar="#toolbarHistorialLaboral" class="element-center" style="margin: auto">
    <thead>
    <tr>
        <th>Empresa</th>
        <th>Puesto</th>
        <th>Patr&oacute;n</th>
        <th>Tel&eacute;fono</th>
        <th>Tipo</th>
        <th>Acci&oacute;n</th>
    </tr>
    </thead>
    <tbody id="meetingJobTbl">
    @if(Model.JsonJobs==null){	
    }
    else{
    foreach(var Jjbs in Model.JsonJobs) {
    <tr id='tr-MJB-@Jjbs.Id' class="tr-class-1" >
        <td id="td-id-1" class="td-class-1">
            @Jjbs.Company
        </td>
        <td>
        	@Jjbs.Post
        </td>
        <td>
        	@Jjbs.NameHead
        </td>
        <td>
        	@Jjbs.Phone
        </td>
        <td>
@{switch(@Jjbs.RegisterTypeId)
    {
        case 1:
            // Use the text block below to separate html elements from code
                <label>Actual</label>
            break;  // Always break each case
        case 2:
            <label>Secundario</label>
            break;
        case 3:
       		<label>Anterior</label>
        	break;
        default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
        <a href="javascript:;" style="display:inline-block;" title="Eliminar Registro" onclick="btnDeleteJob('@Jjbs.Id');"><span class="glyphicon glyphicon-trash"></span></a>&nbsp;&nbsp;
        <a href="javascript:;" style="display:inline-block;" title="Editar Registro" onclick="btnEditJob('@Jjbs.Id');"><span class="glyphicon glyphicon-pencil"></span></a>
        </td>
    </tr>
	}
}
    </tbody>
</table>
    </div>
</div>
<br/>
<br/>

<div class="row" >

    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessLaboral" class="alert alert-success element-center success-font">
            <span>{{msgSuccessLaboral}}</span>
        </div>
    </div>
    <form id="FormCommentJobId" name="FormCommentJobId" class="form-horizontal" role="form">
        <div class="col-xs-3 element-right">Observaciones:<br/>
            <label class="info-example">(Este campo no es verificable)</label></div>
        <div class="col-xs-8">
            <textarea class="width-100"
                      data-val="true" ng-model="m.CommentJob"
                      ng-init=''
                      data-val-required="Las observaciones es un campo requerido"
                      data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                      data-val-length-max="500"
                      data-val-length-min="1"
                      name="commentJob">{{m.CommentJob}}</textarea>
                <span class="field-validation-valid" data-valmsg-for="commentJob"
                      data-valmsg-replace="true"></span>
        </div>
    </form>
    <br/>

    <!--<div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgError" class="alert alert-danger element-center error-font">
            <span ng-bind-html="msgError"></span>
        </div>
    </div>-->
    <div class="col-xs-12">
        <div class="modal-footer">
                    <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true"
                          ng-click="saveLaboral();">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                          Guardar
                    </span>
        </div>
    </div>
</div>
            </div><!--End of Historial laboral -->















            <div id="school" class="tab-pane"><!-- Begin of Red Historia escolar -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/school/index.jsp" -->
<div class="col-xs-12">
        <h2> <i class="orange icon-book  bigger-100">&nbsp;</i>Historia Escolar</h2>
        <br/>
        <div class="row" >
            <div class="col-xs-10 col-xs-offset-1">
                <div ng-show="msgSuccessEscolar" class="alert alert-success element-center success-font">
                    <span>{{msgSuccessEscolar}}</span>
                </div>
                <form id="FormSchool" name="FormSchool" ng-submit="submit('#FormSchool')" class="form-horizontal"
                      role="form">
                    <input type="hidden" value="${m.caseDetention.id}" name="caseDetention.id">

    <div class="row">
        <div class="col-xs-12 element-center" ng-init="">
            <div class="col-xs-6 element-right">
                &iquest;El imputado estudia actualmente?
            </div>
            <div class="col-xs-2">
                <input type="radio" name="school.block"
                id="blockYes" ng-value="true" ng-model="m.SchoolBlock" ng-change="fillModel()">
                <label for="blockYes">Si</label> &nbsp;&nbsp;&nbsp;
                <input type="radio" ng-checked="m.SchoolBlock==false" name="school.block"
                id="blockNo" ng-value="false" ng-model="m.SchoolBlock" ng-change="fillModel()">
                <label for="blockNo">No</label>
            </div>
        </div>
    </div>
    <br/>
    <div class="row">
        <div class="col-xs-2 element-left">
            <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
            ng-click="doConfirmVerifEqual('school.name')"></i>
            <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2"
            ng-show="verification" code="school.name"></i>
            <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
            ng-click="doConfirmVerifNotKnow('school.name')"></i>
            Escuela:
        </div>
        <div class="col-xs-10"><input class="form-control" data-val="true" ng-readonly="!m.SchoolBlock"
          data-val-length="Debe tener al menos 5 y m?ximo 200 caracteres"
          data-val-length-max="200" data-val-length-min="5"
          data-val-required="La escuela es un campo requerido" type="text" value=""
          ng-init=''
          ng-model="m.SchoolName" id="school.name" name="school.name"></div>
          <div class="row">
            <div class="col-xs-9 col-xs-offset-2 element-left"><span class="field-validation-valid"
             data-valmsg-for="school.name"
             data-valmsg-replace="true"></span></div>
         </div>
     </div>
     <br/>

     <div class="row">
        <div class="col-xs-2 element-left">
            <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
            ng-click="doConfirmVerifEqual('school.phone')"></i>
            <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="3"
            ng-show="verification" code="school.phone"></i>
            <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
            ng-click="doConfirmVerifNotKnow('school.phone')"></i>
            Tel&eacute;fono:
        </div>
        <div class="col-xs-4"><input class="form-control" data-val="true"
         data-val-length="Debe tener al menos 5 y m&aacute;ximo 30 caracteres"
         data-val-length-max="30" data-val-length-min="5" ng-readonly="!m.SchoolBlock"
         data-val-required="El tel&eacute;fono es un campo requerido" type="text"
         value=""
         ng-model="m.SchoolPhone" id="school.phone" name="school.phone"
         ng-init=''>
         <span class="field-validation-valid" data-valmsg-for="school.phone"
         data-valmsg-replace="true"></span>
     </div>


 </div>
 <br/>

 <div class="row">
    <div class="col-xs-2 element-left">
        <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
        ng-click="doConfirmVerifEqual('school.address')"></i>
        <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="3"
        ng-show="verification" code="school.address"></i>
        <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
        ng-click="doConfirmVerifNotKnow('school.address')"></i>
        Direcci&oacute;n:
    </div>
    <div class="col-xs-10"><textarea id="school.address" class="form-control" name="school.address"
     ng-model="m.SchoolAddress" ng-readonly="!m.SchoolBlock"
     ng-init=''
     data-val="true"
     data-val-required="La direcci&oacute;n es un campo requerido"
     data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres"
     data-val-length-max="500"
     data-val-length-min="6">{{m.SchoolAddress}}</textarea>

     <div class="col-xs-9 col-xs-offset-2 element-left"><span class="field-validation-valid"
         data-valmsg-for="school.address"
         data-valmsg-replace="true"></span>
     </div>
 </div>
</div>
<br/>

<div class="row">
    <div class="widget-box">
        <div class="widget-header">
            <div class="col-xs-10 element-left">
                <h4>Actual/&Uacute;ltimo nivel de estudios</h4>
            </div>
        </div>

        <div class="widget-body">
            <br/>
            <div class="row">
                <div class="col-xs-2  element-left col-xs-offset-1">
                    Nivel:
                </div>
                <div class="col-xs-4">
                    <select class="form-control element-center" ng-model="school.level"
                    ng-options="e.Name for e in lstLevel" ng-init=''
                    ng-change="gradeByNivel();"></select>
                </div>
                <div class="col-xs-1">
                    Grado:
                </div>
                <div class="col-xs-3">

                    <select class="form-control element-center" ng-model="school.degree"
                    ng-options="e.Name for e in lstDegree"
                    ng-change=" m.SchoolDegreeId = school.degree['Id'] "
                    ng-init=''></select>
                    <input type="hidden" ng-update-hidden ng-model=" school.degree.id" name="school.degree.id"
                    id="degreeId"
                    ng-init="">
                </div>

                <br/>
            </div>
            <br/>
            <div class="row" ng-show="school.level['Id'] == 7">
                <br/>

                <div class="col-xs-2  element-left col-xs-offset-1">
                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                    ng-click="doConfirmVerifEqual('school.degree')"></i>
                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="3"
                    ng-show="verification" code="school.degree"></i>
                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                    ng-click="doConfirmVerifNotKnow('school.degree')"></i>
                    Especif&iacute;que:
                </div>
                <div class="col-xs-8">
                    <input class="width-100" data-val="true"
                    data-val-length="Debe tener al menos 1 y m&aacute;ximo 300 caracteres"
                    data-val-length-max="300" data-val-length-min="1"
                    data-val-required="La especificaci&oacute;n  es un campo requerido" type="text" value=""
                    ng-model="m.SchoolSpecification" id="school.specification" name="school.specification"
                    ng-init=''>
                    <span class="field-validation-valid" data-valmsg-for="school.specification"
                    data-valmsg-replace="true"></span>
                </div>
            </div>
            <br/>
        </div>
    </div>
</div>


<div class="row" id="divSchedule" ng-show="m.SchoolBlock">
    <div class="row">
        <div class="col-xs-12">
            <div class="widget-header header-color-blue">
                <h5 class="bigger lighter">
                    <h6><i class="glyphicon-calendar "></i>Disponibilidad</h6>
                </h5>
            </div>

            <div class="widget-body">
                <br/>
<div id="divScheduleComponent">

    <link rel="stylesheet" href="content/themes/umeca/bootstrap-timepicker.css" />
    <script src="scripts/umeca/date-time/bootstrap-datepicker.min.js"></script>
    <script src="scripts/umeca/date-time/moment.min.js"></script>
    <script src="scripts/app/shared/dateTimePickerCursor.js"></script>
    <script src="scripts/app/reviewer/scheduleCtrl.js"></script>

    <div class="row element-center" ng-controller="scheduleController" id="divComponentSchedule">
        <input type="hidden" ng-model="schString" name="sch" id="hdnJsonScheduleSchool" ng-update-hidden >
        <input type="hidden" ng-model="content" ng-init="content =''+'School';" ng-update-hidden >
        <div class="col-xs-10 col-xs-offset-1">
            <div class="row">
                <div class="col-xs-4 element-center">
                 D&iacute;a(s)<br/>
                 <input class="form-control" type="text" value=""
                 ng-model="s.Day" ng-init='s.Day= ""'>
             </div>
             <div class="col-xs-3 element-center">
                Inicio<br/>
                <div class="input-group bootstrap-timepicker">
                    <input id="timepickerStart{{content}}" type="text" class="form-control umeca-time-picker tp" ng-model="s.Start"/>
                    <span class="input-group-addon">
                        <i class="icon-time bigger-60"></i>
                    </span>
                </div>
            </div>
            <div class="col-xs-3 element-center">
                Fin <br/>
                <div class="input-group bootstrap-timepicker">
                    <input id="timepickerEnd{{content}}" type="text" class="form-control umeca-time-picker tp" ng-model="s.End"/>
                    <span class="input-group-addon">
                        <i class="icon-time  bigger-40"></i>
                    </span>
                </div>
            </div>
            <div class="col-xs-2">
                Acciones<br/><div class="space-5"></div>
                <i class="icon-plus-sign orange" style="cursor:pointer;" ng-click="addSchedule()">	</i>
            </div>
        </div>
        <div class="row">
            <div class="hr hr-6"></div>
        </div>
        <div ng-show="msgError" class="alert-danger element-center">
            {{msgError}}
        </div>
        <div class="col-xs-12" ng-show="listSchedule.length==0">
            <br/>
            <br/>
            <br/>
        </div>
        <div class="col-xs-9 col-xs-offset-1" ng-show ="listSchedule.length > 0">
           <div class="row center">
               <div class="col-xs-5">
                   <h5 class="smaller lighter blue">D&iacute;a</h5>
                   <div class="hr hr-2"></div>
               </div>
               <div class="col-xs-2">
                   <h5 class="smaller lighter blue">Inicio</h5>
                   <div class="hr hr-2"></div>
               </div>
               <div class="col-xs-2">
                   <h5 class="smaller lighter blue">Fin</h5>
                   <div class="hr hr-2"></div>
               </div>
               <div class="col-xs-2">
                   <h5 class="smaller lighter blue">Acciones</h5>
                   <div class="hr hr-2"></div>
               </div>
           </div>
           <div class="row center" ng-repeat ="sch in listSchedule">
            <div class="col-xs-5">
                {{sch.Day}}
            </div>
            <div class="col-xs-2">
               {{sch.Start}}
           </div>
           <div class="col-xs-2">
            {{sch.End}}
        </div>
        <div class="col-xs-2">
            <i class="icon-trash red" style="cursor:pointer;" ng-click="deleteSchedule($index)"></i>
        </div>
    </div>
    <br/>
</div>
</div>
<br/>
</div>
</div>
            </div>
        </div>
    </div>

</div>
<br/><br/>

<div class="row">
    <div class="col-xs-3 element-left">Observaciones:<br/>
        <label class="info-example">(Este campo no es verificable)</label>
    </div>
    <div class="col-xs-9">
        <textarea class="width-100" ng-model="m.CommentSchool"
        data-val="true"
        data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
        data-val-length-max="500"
        data-val-length-min="1"
        name="school.commentSchool">{{m.CommentSchool}}</textarea>
        <span class="field-validation-valid" data-valmsg-for="comment"
        data-valmsg-replace="true"></span>
    </div>
</div>
                </form>
                <div ng-show="msgError" class="alert alert-danger element-center error-font">
                    <span ng-bind-html="msgError"></span>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="modal-footer">
                    <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true"
                          ng-click="saveEscolarship();">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                           Guardar
                    </span>
            </div>
        </div>
    </div>
            </div><!--End of Red Historia escolar -->
















            <div id="drugsSection" class="tab-pane"><!-- Begin of Consumo de sustancias -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/drug/index.jsp" -->
<div class="row element-center">
    <div class="col-xs-12">
        <h2> <i class="green icon-warning-sign  bigger-100">&nbsp;</i>Consumo de sustancias</h2>
        <br/>
<div id="toolbarDrug" class="btn-group">
	    <button type="button" class="btn btn-default" id="btnAddDrug" ng-click="addDrug();">
	        <i class="glyphicon glyphicon-plus"></i>
	    </button>
	</div>
	<script>
	function elimirarDrug(idDrug){
		console.log("elimirarDrug idDrug>>"+idDrug);
		var reslt = MeetingService.eraseDrug(idDrug);
		console.log("reslt>>"+reslt);
		$('#tr-MDRG-'+idDrug).remove();
		if($("#meetingDrugTbl").html()==""){
       		$("#meetingDrugTbl").html("<tr class='no-records-found'><td colspan='5'>No se encontraron registros</td></tr>");
        }
		askYesNo.hide();
	}

	function cancelElimirarDrug(){
		console.log("cancelElimirarDrug >>");
		askYesNo.hide();
	}

	function btnDeleteDrug (idDrug){
	askYesNo.yes = elimirarDrug;
	askYesNo.no = cancelElimirarDrug;
	askYesNo.referencia=idDrug;
	askYesNo.show();
    	console.log("btnDeleteDrug idDrug>>"+idDrug);
	}

	function btnEditDrug (idDrug){
    	console.log("btnEditReference>>"+idDrug);
    	window.location.replace('hybrid:Meeting/EditDrugMeeting?idDrug='+idDrug);
	}
	</script>
<table data-toggle="table" data-page-size="10" data-page-list="[10, 20, 30]"
     data-pagination="true" data-height="450"
     data-striped="true" data-search="true" 
     data-search-align="right" data-toolbar="#toolbarDrug" class="element-center" style="margin: auto">
    <thead>
    <tr>
        <th>Sustancia</th>
        <th>Periodicidad</th>
        <th>Cantidad</th>
        <th>&Uacute;ltimo consumo</th>
        <th>Acci&oacute;n</th>
    </tr>
    </thead>
    <tbody id="meetingDrugTbl">
    @if(Model.JsonDrugs==null){	
    }
    else{
    foreach(var Jdrg in Model.JsonDrugs) {
    <tr id='tr-MDRG-@Jdrg.Id' class="tr-class-1" >
        <td id="td-id-1" class="td-class-1">
            
@{switch(@Jdrg.DrugTypeId)
    {
    		case 1:
	<label>Alcohol</label>
            break;
            case 10:
	<label>Anfetaminas</label>
            break;
            case 8:
	<label>Cemento</label>
            break;
            case 3:
	<label>Cocacaína</label>
            break;
            case 12:
	<label>Extasis</label>
            break;
            case 4:
	<label>Heroína</label>
            break;
            case 13:
	<label>Hongos</label>
            break;
            case 9:
	<label>LSD</label>
            break;
            case 2:
	<label>Marihuana</label>
            break;
            case 11:
	<label>Metanfetaminas</label>
            break;
            case 15:
	<label>No consume</label>
            break;
            case 5:
	<label>Opiáceos</label>
            break;
            case 14:
	<label>Otro</label>
            break;
            case 6:
	<label>PBC(Pasta básica de cocaína)</label>
            break;
            case 7:
	<label>Solventes</label>
            break;
        	default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
@{switch(@Jdrg.PeriodicityId)
    {
case 3:
<label>Cada fin de semana</label>
break;
case 4:
<label>Cada quince días</label>
break;
case 2:
<label>Cada tercer día</label>
break;
case 1:
<label>Diariamente</label>
break;
case 7:
<label>En reuniones sociales</label>
break;
case 8:
<label>No consume</label>
break;
case 6:
<label>Una vez al año</label>
break;
case 5:
<label>Una vez al mes</label>
break;
        default:
            <label></label>
            break;                   
    }
}
        </td>
        <td>
        	@Jdrg.Quantity
        </td>
        <td>
        	@Jdrg.LastUse
        </td>
        <td>
       		<a href="javascript:;" style="display:inline-block;" title="Eliminar sustancia" onclick="btnDeleteDrug('@Jdrg.Id');"><span class="glyphicon glyphicon-trash"></span></a>&nbsp;&nbsp;
       		<a href="javascript:;" style="display:inline-block;" title="Editar sustancia" onclick="btnEditDrug('@Jdrg.Id');"><span class="glyphicon glyphicon-pencil"></span></a>
        </td>
    </tr>
	}
}
    </tbody>
</table>
    </div>
</div>

<br/><br/>
<div class="row" >

    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessDrugs" class="alert alert-success element-center success-font">
            <span>{{msgSuccessDrugs}}</span>
        </div>
    </div>
    <form id="FormCommentDrugId" name="FormCommentDrugId" class="form-horizontal" role="form">
        <div class="col-xs-3 element-right">Observaciones:<br/>
            <label class="info-example">(Este campo no es verificable)</label></div>
        <div class="col-xs-8">
            <textarea class="width-100"      ng-model = "m.CommentDrug" ng-init=''
                      data-val-required="Las observaciones es un campo requerido"
                      data-val="true"
                      data-val-required="Las observaciones es un campo requerido"
                      data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                      data-val-length-max="500"
                      data-val-length-min="1"
                      name="commentDrug">{{m.CommentDrug}}</textarea>
                <span class="field-validation-valid" data-valmsg-for="comment"
                      data-valmsg-replace="true"></span>
        </div>
    </form>
    <br/>
    <!--<div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgError" class="alert alert-danger element-center error-font">
            <span ng-bind-html="msgError"></span>
        </div>
    </div>-->
    <div class="col-xs-12">
        <div class="modal-footer">
                    <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true"
                          ng-click="saveDrugs();">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                          Guardar
                    </span>
        </div>
    </div>
</div>
            </div><!--End of Consumo de sustancias -->


















            <div id="leaveCountry" class="tab-pane"><!-- Begin of Facilidad abandonar el pais -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/leavingCountry/index.jsp" -->
 <div class="col-xs-10 element-center col-xs-offset-1">

        <div class="center row">
            <h2><i class="blue icon-globe bigger-100"></i> &nbsp;Facilidad de abandonar el pa&iacute;s</h2>
        </div>
        <br/>

        <div ng-show="msgSuccessLeaveCountry" class="alert alert-success element-center success-font">
            <span>{{msgSuccessLeaveCountry}}</span>
        </div>

        <form id="FormLeaveCountry" name="FormLeaveCountry" class="form-horizontal" role="form">
<div class="row">
<div class="row" ng-show="verification || selectSource">
    <div class="col-xs-10 col-xs-offset-1 element-left">
        <label class="text-primary">Observaciones: <b>{{m.commentCountry}}</b></label>
    </div>
</div>
<br/>

<div class="row">
    <br/>

    <div class="row" ng-show="readOnly == false">
        <div class="col-xs-12">

            &nbsp;&nbsp;&nbsp;&nbsp;
            <b> Establecer toda la informaci&oacute;n de Facilidad de abandonar el pa&iacute;s
                con:</b>
        </div>
        <div class="col-xs-10 col-xs-offset-1 text-info" style="padding-top: 8px;">
            <i class="purple glyphicon glyphicon-user bigger-160"
               ng-click=""
               style="cursor: pointer;"></i>
            &nbsp;&nbsp;&nbsp;Informaci&oacute;n que proporcion&oacute; el imputado.
        </div>
        <div class="col-xs-10 col-xs-offset-1 text-info" style="padding-top: 8px;">
            <i class="blue icon-question-sign  icon-only bigger-160" style="cursor: pointer;"
               ng-click=""></i>
            &nbsp;&nbsp;&nbsp;No se pudo verificar
        </div>
    </div>
    <div class="row" ng-show="readOnly == false">
        <div col-xs-12>
            <div class="hr hr-8"></div>
        </div>
    </div>

    <br/>

    <div>
        <div class="row">
            <div class="col-xs-12">
                <div class="col-xs-9 element-left">
                    <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                       ng-click="doConfirmVerifEqual('leaveCountry.officialDocumentation.id')"></i>
                    <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="4"
                       ng-show="verification" code="leaveCountry.officialDocumentation.id"></i>
                    <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                       ng-click="doConfirmVerifNotKnow('leaveCountry.officialDocumentation.id')"></i>
                    <i class="purple icon-list icon-only bigger-120" ng-show="selectSource"
                       ng-click="showChoices('leaveCountry.officialDocumentation.id')"></i>
                    &iquest;El imputado cuenta con documentaci&oacute;n oficial que facilite que abandone el pa&iacute;s?:
                </div>
                <div class="col-xs-3">
                    <input type="hidden" ng-update-hidden ng-model="l.docId"
                           name="leaveCountry.officialDocumentation.id"
                           id="doc"
                           ng-init=''>
                            <select class="form-control element-center" ng-model="Edocumento" 
                            ng-options="e.Name for e in listElection" value=""
                            ng-change="m.OfficialDocumentationId = Edocumento['Id'];" ng-init='listElection = @Model.JsonElection'></select>
                </div>
            </div>
        </div>
        <br/>

        <div class="row" ng-show="m.OfficialDocumentationId==1">
            <div class="col-xs-3">
                Documentaci&oacute;n:
            </div>
            <div class="col-xs-3"  >
                <input type="hidden" ng-update-hidden ng-model="l.immigrationDocId"
                       name="leaveCountry.immigrationDocument.id"
                       id="immigrationDcc" ng-show="m.OfficialDocumentationId==1"
                       ng-init=''>
                <select class="form-control element-center" ng-model="ImmigrationDoc"
                        ng-options="e.Name for e in listImmigrationDoc" value=""
                        ng-change="m.ImmigrationDocumentId = ImmigrationDoc['Id'];"
                        ng-init='documentosMigratoriosFill();'></select>
            </div>
            <div class="col-xs-2" ng-show="ImmigrationDoc['Specification']">
                Especifique documentaci&oacute;n:
            </div>
            <div class="col-xs-3" ng-show="m.OfficialDocumentationId == 1 && ImmigrationDoc['Specification']">
                <input class="form-control"    ng-show="m.OfficialDocumentationId  == 1 && ImmigrationDoc['Specification']"
                       data-val-length="Debe tener al menos 1 y m&aacute;ximo 50 caracteres"
                       data-val-length-max="50" data-val-length-min="1"
                       data-val-required="La especificaci&oacute;n es un campo requerido"
                       type="text" ng-model="m.SpecficationImmigranDoc" id="leaveCountry.specficationImmigranDoc"
                       name="leaveCountry.specficationImmigranDoc" value=""
                       ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.specficationImmigranDoc"
                              data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
</div>
<br/>

<div>
    <div class="row">
        <div class="col-xs-12">
            <div class="col-xs-9 element-left">
                <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
                   ng-click="doConfirmVerifEqual('leaveCountry.livedCountry.id')"></i>
                <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="4"
                   ng-show="verification" code="leaveCountry.livedCountry.id"></i>
                <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
                   ng-click="doConfirmVerifNotKnow('leaveCountry.livedCountry.id')"></i>
                <i class="purple icon-list icon-only bigger-120" ng-show="selectSource"
                   ng-click="showChoices('leaveCountry.livedCountry.id')"></i>
                &iquest;El detenido ha vivido en otro pa&iacute;s?:
            </div>
            <div class="col-xs-3">
                <input type="hidden" ng-update-hidden ng-model="m.LivedCountryId" name="leaveCountry.livedCountry.id" id="oc"
                       ng-init=''>
                <select class="form-control element-center" ng-model="l.oc"
                         ng-options="e.Name for e in listElection" value=""
                        ng-change="m.LivedCountryId = l.oc['Id'];" ng-init=''></select>
            </div>
        </div>
    </div>
    <div class="row" ng-show="m.LivedCountryId ==1">
        <br/>

        <div class="row">
            <div class="col-xs-2 element-left col-xs-offset-1">
                Pa&iacute;s:
            </div>
            <div class="col-xs-3">
                <input type="hidden" ng-update-hidden ng-model="m.CountryId" name="leaveCountry.country.id"
                       id="country" ng-show="m.LivedCountryId ==1"
                       ng-init=''>
                <select class="form-control element-center" ng-model="l.country"
                        ng-options="e.Name for e in listCountry" 
                        url-request="/catalogs/getStatesByCountry.json"
                        ng-change="m.CountryId = l.country['Id'];" ng-init=''></select>
            </div>
            <div class="col-xs-2 element-right">
                Estado:
            </div>
            <div class="col-xs-3">
                <input class="form-control"   ng-show="m.LivedCountryId ==1"
                       data-val-length="Debe tener al menos 3 y m&aacute;ximo 100 caracteres"
                       data-val-length-max="100" data-val-length-min="3"
                       data-val-required="El estado es un campo requerido"
                       type="text" ng-model="m.State" id="leaveCountry.state"
                       name="leaveCountry.state" value="{{m.State}}"
                       ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.state"
                              data-valmsg-replace="true"></span>
            </div>
        </div>

        <br/>
    </div>
    <div class="row" ng-show="m.LivedCountryId ==1">
        <div class="col-xs-3 element-right">
            &iquest;Hace cu&aacute;nto tiempo?:
        </div>
        <div class="col-xs-3"  ng-show="m.LivedCountryId ==1">
            <input class="form-control"
                   data-val-length="Debe tener al menos 3 y m&aacute;ximo 250 caracteres"
                   data-val-length-max="250" data-val-length-min="3" ng-show="m.LivedCountryId ==1"
                   data-val-required="El tiempo es un campo requerido"
                   type="text" ng-model="m.timeAgo" id="leaveCountry.timeAgo"
                   name="leaveCountry.timeAgo" value="{{m.timeAgo}}"
                   ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.timeAgo"
                              data-valmsg-replace="true"></span>
        </div>
        <div class="col-xs-2 element-right">
            A&ntilde;os que vivi&oacute; en el extranjero:
        </div>
        <div class="col-xs-3"  ng-show="m.LivedCountryId ==1">
            <input class="form-control"   ng-show="m.LivedCountryId ==1"
                   data-val-length="Debe tener al menos 1 y m&aacute;ximo 50 caracteres"
                   data-val-length-max="50" data-val-length-min="1"
                   data-val-required="A&ntilde;os que vivi&oacute; en el extranjero es un campo requerido"
                   type="text" ng-model="m.TimeResidence" id="leaveCountry.timeResidence"
                   name="leaveCountry.timeResidence" value="{{m.TimeResidence}}"
                   ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.timeResidence"
                              data-valmsg-replace="true"></span>
        </div>
    </div>
    <br/>

    <div class="row" ng-show="m.LivedCountryId ==1">
        <div class="col-xs-3 element-right">
            Motivo por el que ahora vive en M&eacute;xico:
        </div>
        <div class="col-xs-8"  ng-show="m.LivedCountryId ==1">
            <textarea id="leaveCountry.reason" class="form-control"  ng-show="m.LivedCountryId ==1"
                      data-val-length="Debe tener al menos 3 y m&aacute;ximo 500 caracteres"
                      data-val-length-max="500" data-val-length-min="3"
                      data-val-required="La raz&oacute;n es un campo requerido" ng-model="m.Reason"
                      name="leaveCountry.reason" 
                      ng-init=''>{{m.Reason}}</textarea>
                    <span class="field-validation-valid" data-valmsg-for="leaveCountry.reason"
                          data-valmsg-replace="true"></span>
        </div>
    </div>
    <br/>

    <div class="row" ng-show="m.LivedCountryId ==1">
        <div class="col-xs-3 element-right">
            Direcci&oacute;n:
        </div>
        <div class="col-xs-8"  ng-show="m.LivedCountryId ==1">
            <textarea ng-model="m.Address"    ng-show="m.LivedCountryId ==1"
                      ng-init=''
                      data-val-required="La direcci&oacute;n es un campo requerido"
                      class="form-control"
                      data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres"
                      name="leaveCountry.address" id="leaveCountry.address"
                      data-val-length-max="500" data-val-length-min="6">{{m.Address}}</textarea>

                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.address"
                              data-valmsg-replace="true"></span>
        </div>
    </div>
</div>
</div>
<br/>

<div>
    <div class="row">
        <br/>

        <div class="col-xs-9 element-left">
            <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
               ng-click="doConfirmVerifEqual('leaveCountry.familyAnotherCountry.id')"></i>
            <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="3"
               ng-show="verification" code="leaveCountry.familyAnotherCountry.id"></i>
            <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
               ng-click="doConfirmVerifNotKnow('leaveCountry.familyAnotherCountry.id')"></i>
            <i class="purple icon-list icon-only bigger-120" ng-show="selectSource"
               ng-click="showChoices('leaveCountry.familyAnotherCountry.id')"></i>
            &iquest;El detenido cuenta con familiares y/o amigos cercanos en otro pa&iacute;s?:
        </div>
        <div class="col-xs-3">
            <input type="hidden" ng-update-hidden ng-model="m.FamilyAnotherCountryId" name="leaveCountry.familyAnotherCountry.id"
                   id="fac"
                   ng-init=''>
            <select class="form-control element-center" ng-model="l.fac"
                    ng-options="e.Name for e in listElection" value=""
                    ng-change="m.FamilyAnotherCountryId = l.fac['Id'];" ng-init=''></select>
        </div>

    </div>
    <br/>

    <div class="row" ng-show="m.FamilyAnotherCountryId == 1">
        <div class="col-xs-3 element-left">
            &iquest;Mantiene comunicaci&oacute;n con ellos?:
        </div>
        <div class="col-xs-3" ng-show="m.FamilyAnotherCountryId == 1">
            <input type="hidden" ng-update-hidden ng-model="m.CommunicationFamilyId" name="leaveCountry.communicationFamily.id" id="cf"     ng-show="m.FamilyAnotherCountryId == 1"
                   ng-init=''>
            <select class="form-control element-center" ng-model="l.cf"
                    ng-options="e.Name for e in listElection" value=""
                    ng-change="m.CommunicationFamilyId = l.cf['Id'];" ng-init=''></select>
        </div>
        <div class="col-xs-3 element-left">
            &iquest;Por qu&eacute; medio?:
        </div>
        <div class="col-xs-3" ng-show="m.FamilyAnotherCountryId == 1">
            <input class="form-control"   ng-show="m.FamilyAnotherCountryId == 1"
                   data-val-length="Debe tener al menos 2 y m&aacute;ximo 50 caracteres"
                   data-val-length-max="50" data-val-length-min="2"
                   data-val-required="El medio es un campo requerido"
                   type="text" value="{{m.Media}}" id="leaveCountry.media" name="leaveCountry.media" ng-model="m.Media"
                   ng-init=''>
                     <span class="field-validation-valid" data-valmsg-for="leaveCountry.media"
                           data-valmsg-replace="true"></span>
        </div>
    </div>
    <br/>
    <div class="row" ng-show="m.FamilyAnotherCountryId ==1">
        <div class="col-xs-3 element-left">
            Relaci&oacute;n:
        </div>
        <div class="col-xs-3" ng-show="m.FamilyAnotherCountryId == 1">
            <input type="hidden" ng-update-hidden ng-model="m.RelationshipId" name="leaveCountry.relationship.id" id="rel"  ng-show="m.FamilyAnotherCountryId == 1"
                   ng-init=''>
            <select class="form-control element-center" ng-model="l.rel"
                    ng-options="e.Name for e in listRel" value="{{m.RelationshipId}}"
                    ng-change="m.RelationshipId = l.rel['Id'];" ng-init='relacionPersonalAll();'></select>
        </div>
        <div class="col-xs-3 element-left"  ng-show="l.rel['Specification']">
            Especifique relaci&oacute;n:
        </div>
        <div class="col-xs-3" ng-show="m.FamilyAnotherCountryId == 1 && l.rel['Specification']">
            <input class="form-control"     ng-show="m.FamilyAnotherCountryId == 1  && l.rel['Specification']"
                   data-val-length="Debe tener al menos 1 y m&aacute;ximo 255 caracteres"
                   data-val-length-max="255" data-val-length-min="1"
                   data-val-required="La especifici&oacute;n es un campo requerido"
                   type="text" value="{{m.SpecificationRelationship}}" id="leaveCountry.specificationRelationship" name="leaveCountry.specificationRelationship" ng-model="m.SpecificationRelationship"
                   ng-init=''>
                     <span class="field-validation-valid" data-valmsg-for="leaveCountry.specificationRelationship"
                           data-valmsg-replace="true"></span>
        </div>
    </div>
</div>
<br/>

<div class="row" ng-show="!verification && !selectSource">
    <div class="col-xs-3 element-left">Observaciones:<br/>
        <label class="info-example">(Este campo no es verificable)</label></div>
    <div class="col-xs-9">
        <textarea class="width-100" ng-model="m.CommentCountry"
                  ng-init=''

                  data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                  data-val-length-max="500"
                  data-val-length-min="1"
                  name="leaveCountry.commentCountry">{{m.CommentCountry}}</textarea>
                <span class="field-validation-valid" data-valmsg-for="leaveCountry.commentCountry"
                      data-valmsg-replace="true"></span>
    </div>
</div>
<br/>

<div class="row" ng-show="!verification && !selectSource">
    <div class="col-xs-3 element-left">
        Comentarios: <br/>
        <label class="info-example">(cooperaci&oacute;n, atenci&oacute;n, ansioso, etc.)</label>
    </div>
    <div class="col-xs-9">
        <textarea class="form-control" name="leaveCountry.commentSocialEnvironment" ng-show="!verification"
                  data-val-required="Los comentarios es un campo requerido" ng-model="m.comment" >{{m.comment}}</textarea>
         <span class="field-validation-valid" data-valmsg-for="leaveCountry.commentSocialEnvironment"
               data-valmsg-replace="true"></span>
    </div>
</div>
<div class="row" ng-show="verification || selectSource">
    <div class="col-xs-3 element-left">
        <i class="icon-ok-circle green  icon-only bigger-120" ng-show="verification"
           ng-click="doConfirmVerifEqual('socialEnvironment.comment')"></i>
        <i class="icon-remove-circle red  icon-only bigger-120" verif-comp level-child="2" ng-show="verification"
           code="socialEnvironment.comment"></i>
        <i class="icon-ban-circle gray icon-only bigger-120" ng-show="verification"
           ng-click="doConfirmVerifNotKnow('socialEnvironment.comment')"></i>
        <i class="purple icon-list icon-only bigger-120" ng-show="selectSource"
           ng-click="showChoices('socialEnvironment.comment')"></i>
        Comentarios: <br/>
        <label class="info-example">(cooperaci&oacute;n, atenci&oacute;n, ansioso, etc.)</label>
    </div>
    <div class="col-xs-9">
        <textarea class="form-control" name="socialEnvironment.comment" ng-model="m.comment"
                  data-val-required="Los comentarios es un campo requerido">{{m.comment}}</textarea>
        <span class="field-validation-valid" data-valmsg-for="socialEnvironment.comment"
              data-valmsg-replace="true"></span>
    </div>
</div>
        </form>
        <br/>

        <!--<div ng-show="msgError" class="alert alert-danger element-center error-font">
            <span ng-bind-html="msgError"></span>
        </div>-->
    </div>
    <div class="col-xs-12">
        <div class="modal-footer">
                    <span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true"
                          ng-click="saveLeaveCountry();">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                          Guardar
                    </span>
        </div>
    </div>
            </div><!--End of Facilidad abandonar el pais -->













        </div>
    </div>
</div>
</div>
<br/>

<div class="row">
    <div class="col-xs-12">
        <div ng-show="listMsgError['general']" class="alert alert-danger element-center error-font">
            <span ng-bind-html="listMsgError['general']">
            </span>
        </div>
    </div>
</div>
<div class="row">
    <div class="modal-footer">
    <a href="@Url.Action("Index","Meeting")">
        <span class="btn btn-default btn-sm" >
            Regresar
        </span>
</a>
        <!--<span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true" ng-confirm-actionconfirm-message="&iquest;Est&aacute; seguro que desea terminar la entrevista de riesgos procesales?"
        confirm-title="Terminar entrevista" confirm-type="info"
        confirmed-click-action="save();">
        Terminar
    	</span>-->

    	<span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true" 
        ng-click="askTerminateshow();">
        Terminar
    	</span>

</div>
</div>
</div>
    	<script>
$(function() {
        $("#ms").change(function() {
            console.log($(this).val());
        }).multipleSelect({
            	width: '100%',
    			filter:true,
				selectAll : false,
//				position : 'top',
				allSelected : 'Todas las opciones',
				minimumCountSelected : 7,
				countSelected : '# de % seleccionados'
        });
});
    	</script>






