@model UmecaApp.VerificationMeetingSourceDto
@inherits WebViewTemplate
@{
Layout = "UmecaApp.headUm";
}
<input id="hdnVerificationCaseId" type="hidden" value="@Model.CaseId" name="jsonString" />
<input id="hdnVerificationSourceId" type="hidden" value="@Model.SourceId" name="jsonString" />

<script>
function genderBend(bol){
	 $("#divElementVerif #verHdnGennder").val(bol);
}
</script>


<script>
var SingleVerify  = {};
SingleVerify.code = "";
SingleVerify.case = 0;
SingleVerify.source = 0;
SingleVerify.listid = 0;

SingleVerify.show = function (element){
	SingleVerify.code = "";
	SingleVerify.listid = 0;
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();
	if(caso!=undefined&&caso!=""&&SingleVerify.case==0){
		SingleVerify.case = caso;
	}
	if(fuente!=undefined&&fuente!=""&&SingleVerify.source==0){
		SingleVerify.source = fuente; 
	}
	$("#SingleVerifyBoxDlgIderrorMsg").text("");
	/*	var ele = $(this);
		var cosa = ele[0];
		for(prop in cosa){
		console.log("prop-->"+prop+ "    ...cosa[prop]=>"+cosa[prop]);
		}*/
		var jqElement = $("[code='"+element.getAttribute("code")+"']");
		var eleIDlist = element.getAttribute("id-element");
		if(eleIDlist!=undefined&&eleIDlist!=null&&eleIDlist!=""){
			SingleVerify.listid = parseInt(eleIDlist);
		}else{
			SingleVerify.listid = 0;
		}
		console.log("listid=>"+SingleVerify.listid);
		var finalElem=jqElement;
	    for(var i=0; i<element.getAttribute("level-child"); i++){
	    	finalElem = finalElem.parent();
	    }
	console.log("finalElem.html()"+finalElem.html()+"   ...childLevel=>"+element.getAttribute("level-child"));
	$("#divElementVerif").html(finalElem.html());
	$("#divElementVerif .icon-ok-circle").remove();
	$("#divElementVerif .icon-remove-circle").remove();
	$("#divElementVerif .icon-ban-circle").remove();
	$("#divElementVerif .icon-list").remove();
	$("#divElementVerif input").prop("disabled",false).attr('readonly', false).val("");
	$("#divElementVerif textarea").prop("disabled",false).attr('readonly', false).val("");
	$("#divElementVerif select").prop("disabled",false).attr('readonly', false).val("");
	$('#divElementVerif :radio').attr('checked', false);  

	var InformacionAnterior = VerificationService.searchFieldVerification(element.getAttribute("code"), SingleVerify.case, SingleVerify.source, SingleVerify.listid);
	console.log("InformacionAnterior-->"+InformacionAnterior);
	$("#SingleVerifyBoxDlgIdsearch").html(InformacionAnterior);
	var dlgMsgBox = $('#SingleVerifyBoxDlgId');
	window.scrollTo(0, 0);
	dlgMsgBox.show();
	SingleVerify.code = element.getAttribute("code");
	$('#FormVerifUpsertId .date-picker').datepicker({autoclose: true, endDate: new Date()}).next().on(ace.click_event, function () {
        $(this).prev().focus();
    });
    $('.date-picker','#FormVerifUpsertId').attr('readonly', true);
    $(".hidenStart", "#FormVerifUpsertId").addClass("ng-hide");
};

SingleVerify.hide = function (){
SingleVerify.listid = 0;
	SingleVerify.code = "";
	var dlgMsgBox = $('#SingleVerifyBoxDlgId');
	dlgMsgBox.hide();
	$("#divElementVerif").html("");
	$("#SingleVerifyBoxDlgIderrorMsg").text("");
};

SingleVerify.save = function (){
	var dlgMsgBox = $('#SingleVerifyBoxDlgId');		
	var data = $("#FormVerifUpsertId").serialize();
	var encoded = validateVerif(data);
	console.log("serialize del form =>"+data);
	console.log("encoded object list>"+encoded);
	console.log("encoded=json=>"+JSON.stringify(encoded));
	var saveStatus = VerificationService.saveFieldVerification(JSON.stringify(encoded), SingleVerify.case, SingleVerify.source, SingleVerify.listid);
	if(saveStatus==""){
		$("#SingleVerifyBoxDlgIderrorMsg").text("");
	}else{
		$("#SingleVerifyBoxDlgIderrorMsg").text(saveStatus);
		return 0;
	}
	dlgMsgBox.hide();
	$("#divElementVerif").html("");
	SingleVerify.code = "";
	$("#SingleVerifyBoxDlgIderrorMsg").text("");
SingleVerify.listid = 0;
};
</script>

<div class="modal-dialog" style="display:none; width:60%; position: relative;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="SingleVerifyBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
        <a name="singleVerificationFocus"></a>
                <div class="modal-header">
                    <div class="alert alert-danger ">
                        <h4 class="element-center">&nbsp;&nbsp;Dato proporcionado por la fuente</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                    	<div class="widget-box transparent">
                            <div class="widget-header">
                                <div class="row"> <input type="hidden"
                                                         ng-init=''/>
                                    <h4 class="lighter">Infomaci&oacute;n proporcionada por la fuente: </h4>
                                </div>
                                <div class="row">
                                    <div style="color: #808080;" class="col-xs-10 col-xs-offset-1">
                                        <ul>
                                            <p id="SingleVerifyBoxDlgIdsearch"></p>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row" ng-init="generalComponent = true"
                         id="divContentVerifId">
                        <div class="col-xs-10 col-xs-offset-1">
                            <form id="FormVerifUpsertId" name="FormVerifUpsertId"
                                  class="form-horizontal"
                                  role="form">
                                <div id="divElementVerif">
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div ng-show="MsgError" id="SingleVerifyBoxDlgIderrorMsg" style="display:none;" class="alert alert-danger element-center">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <span class="btn btn-default btn-sm" onclick="SingleVerify.hide();">
                        Cancelar
                    </span>
                    <span class="btn btn-danger btn-danger btn-sm" onclick="SingleVerify.save();">
                    	Guardar
                    </span>
                </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>
	










<!--IMPUTED HOME-->
<!-- imputed domicilio -->

<script>
    var ImputedHomeVerify  = {};
    ImputedHomeVerify.estados = [];
    ImputedHomeVerify.municipios = [];
    ImputedHomeVerify.localidades = [];

    ImputedHomeVerify.modelList = 0;
    ImputedHomeVerify.specificationHtml = "";


    ImputedHomeVerify.show = function (element){
    var eleIDlist = element.getAttribute("id-element");
	if(eleIDlist!=undefined&&eleIDlist!=null&&eleIDlist!=""){
		ImputedHomeVerify.modelList = parseInt(eleIDlist);
	}else{
		ImputedHomeVerify.modelList = 0;
	}
	console.log("listid=>"+SingleVerify.listid);
        $("#ImputedHomeVerifyBoxDlgIderrorMsg").html("").hide();
        var caso = $("#hdnVerificationCaseId").val();
        var fuente = $("#hdnVerificationSourceId").val();
        ImputedHomeVerify.estados = $.parseJSON(MeetingService.findAllStates());
        console.log("stringify estados>"+JSON.stringify(ImputedHomeVerify.estados));
        $('#slcImputedHomeState',"#divImputedHomeVerify").empty();
        for(var indx=0;indx<ImputedHomeVerify.estados.length;indx++){
            console.log("id estado val->"+ImputedHomeVerify.estados[indx].Id);
            console.log("ombr estad text->"+ImputedHomeVerify.estados[indx].Name);
           $('#slcImputedHomeState',"#divImputedHomeVerify").append("<option value='"+ImputedHomeVerify.estados[indx].Id+"' >"+ImputedHomeVerify.estados[indx].Name+"</option>");
           $('#slcImputedHomeState',"#divImputedHomeVerify").val("");
       }
       $("#divImputedHomeVerify input").prop("disabled",false).attr('readonly', false).val("");
       $("#divImputedHomeVerify select").prop("disabled",false).attr('readonly', false);


   var InformacionAnterior = VerificationService.searchFieldVerification("imputedHomes.address", caso, fuente, ImputedHomeVerify.modelList);
   console.log("InformacionAnterior-->"+InformacionAnterior);
   $("#ImputedHomeVerifyBoxDlgIdsearch").html(InformacionAnterior);
   var dlgMsgBox = $('#ImputedHomeVerifyBoxDlgId');
   window.scrollTo(0, 0);
   dlgMsgBox.show();
};

ImputedHomeVerify.hide = function (){
    var dlgMsgBox = $('#ImputedHomeVerifyBoxDlgId');
    dlgMsgBox.hide();
    ImputedHomeVerify.modelList = [];
    $("#divImputedHomeVerify input").prop("disabled",false).attr('readonly', false).val("");
        $('#slcImputedHomeState',"#divImputedHomeVerify").empty();
    $("#ImputedHomeVerifyBoxDlgIderrorMsg").html("").hide();
    ImputedHomeVerify.modelList = 0;
};

ImputedHomeVerify.save = function (){     
        var caso = $("#hdnVerificationCaseId").val();
        var fuente = $("#hdnVerificationSourceId").val();
        $("#ImputedHomeVerifyBoxDlgIderrorMsg").html("").hide();
        
        	if($('#slcImputedHomeLocation',"#divImputedHomeVerify").val()==undefined||$('#slcImputedHomeLocation',"#divImputedHomeVerify").val()==""){
	        	$("#ImputedHomeVerifyBoxDlgIderrorMsg").html("El código postal es un campo requerido").show();
	        	return false;
        	}
        	if($('#zipCode',"#divImputedHomeVerify").val()==undefined||$('#zipCode',"#divImputedHomeVerify").val()==""){
	        	$("#ImputedHomeVerifyBoxDlgIderrorMsg").html("La localidad/colonia es un campo requerido").show();
	        	return false;
        	}
        	if($('#street',"#divImputedHomeVerify").val()==undefined||$('#street',"#divImputedHomeVerify").val()==""){
	        	$("#ImputedHomeVerifyBoxDlgIderrorMsg").html("La calle es un campo requerido").show();
	        	return false;
        	}
        	if($('#outNum',"#divImputedHomeVerify").val()==undefined||$('#outNum',"#divImputedHomeVerify").val()==""){
	        	$("#ImputedHomeVerifyBoxDlgIderrorMsg").html("El número exterior es un campo requerido").show();
	        	return false;
        	}
    
    var data = $("#FormImputedHomeVerify").serialize();
    var encoded = [];
	var vars = data.split("&");
	var jsonVal = { "id":0, "street":"", "outNum":"", "innNum":"", "zipCode":"", "locationId":""};
	var strngVal = "";
    for (var i = 0; i < vars.length; i++) {
        var psEqual = vars[i].split("=");
        jsonVal[psEqual[0]]=decodeURIComponent(psEqual[1].replace(/\+/g, ' '));
        console.log("psEqual[0] ->"+psEqual[0]+"<-");
        console.log("psEqual[1] ->"+decodeURIComponent(psEqual[1].replace(/\+/g, ' '))+"<-");
    }
    jsonVal.id=ImputedHomeVerify.modelList;
    strngVal = "Calle: "+jsonVal["street"]+" No Ext: "+jsonVal["outNum"]+" No Int:"+jsonVal["innNum"]+", "+$('#slcImputedHomeLocation option:selected',"#divImputedHomeVerify").text()+". CP: "+jsonVal["zipCode"]+". "+$('#slcImputedHomeMunicipality option:selected',"#divImputedHomeVerify").text()+", "+$('#slcImputedHomeState option:selected',"#divImputedHomeVerify").text()+".";
    console.log("serialize del form =>"+data);
    console.log("encoded object list>"+jsonVal);
    console.log("encoded=json=>"+JSON.stringify(jsonVal));

    var saveStatus = VerificationService.saveScheduleVerification(strngVal, jsonVal, caso, fuente, "imputedHomes.address", ImputedHomeVerify.modelList);
    if(saveStatus==""){
      $("#MaritalStatusVerifyBoxDlgIderrorMsg").text("");
    }else{
          $("#MaritalStatusVerifyBoxDlgIderrorMsg").text(saveStatus);
          return 0;
    }
  ImputedHomeVerify.hide();
};

ImputedHomeVerify.munByEdo = function (estado){
console.log("$(estado).val()="+$(estado).val());
    var municipios = $.parseJSON(MeetingService.findMunicipalityByState($(estado).val()));
			    if(municipios!=undefined&&municipios!=null&&municipios!=""){
				    try{
				    	$('#slcImputedHomeMunicipality',"#divImputedHomeVerify").empty();
				    	for(var indx=0;indx<municipios.length;indx++){
				            console.log("id municipios val->"+municipios[indx].Id);
				            console.log("nombre municipios text->"+municipios[indx].Name);
				           	$('#slcImputedHomeMunicipality',"#divImputedHomeVerify").append("<option value='"+municipios[indx].Id+"' >"+municipios[indx].Name+"</option>");
				           	$('#slcImputedHomeMunicipality',"#divImputedHomeVerify").val("");
				       	}
				       	$('#slcImputedHomeLocation',"#divImputedHomeVerify").val("").empty();
				    	}catch(e){
			    			console.log("exception caugth at MunByEdo Message >>"+e.Message);
						}
			    }
};
ImputedHomeVerify.locByMun = function (municipio){
console.log("$(municipio).val()="+$(municipio).val());
    var locations = $.parseJSON(MeetingService.findLocationByMunicipality($(municipio).val()));
			    if(locations!=undefined&&locations!=null&&locations!=""){
				    try{
				    	$('#slcImputedHomeLocation',"#divImputedHomeVerify").empty();
				    	for(var indx=0;indx<locations.length;indx++){
				            console.log("id municipios val->"+locations[indx].Id);
				            console.log("nombre municipios text->"+locations[indx].Name);
				           	$('#slcImputedHomeLocation',"#divImputedHomeVerify").append("<option value='"+locations[indx].Id+"' >"+locations[indx].Name+"</option>");
				       	}
				       	$('#slcImputedHomeLocation',"#divImputedHomeVerify").val("");
				    	}catch(e){
			    			console.log("exception caugth at MunByEdo Message >>"+e.Message);
						}
			    }
};

ImputedHomeVerify.ZipCodeSearch = function(){
			if($('#zipCode',"#divImputedHomeVerify").val()!=undefined && $('#zipCode',"#divImputedHomeVerify").val().length>=5){
	        	console.log(MeetingService.findAddressByCp($('#zipCode',"#divImputedHomeVerify").val()));
    			var jsonStrngData = MeetingService.findAddressByCp($('#zipCode',"#divImputedHomeVerify").val());
    			if(jsonStrngData==""){
    				$scope.msgZipCode = "El código postal "+$('#zipCode',"#divImputedHomeVerify").val()+" no existe.";
    			}
    			else{
    				var domicilioData = JSON.parse(jsonStrngData);
    				$('#slcImputedHomeState',"#divImputedHomeVerify").val(domicilioData.StateId);
    				ImputedHomeVerify.munByEdo($('#slcImputedHomeState',"#divImputedHomeVerify"));
    				$('#slcImputedHomeMunicipality',"#divImputedHomeVerify").val(domicilioData.MunicipalityId);
    				ImputedHomeVerify.locByMun($('#slcImputedHomeMunicipality',"#divImputedHomeVerify"));
					$('#slcImputedHomeLocation',"#divImputedHomeVerify").val();
    			}
        	}  
    	};

</script>

<div class="modal-dialog" style="display:none; width:60%; position: relative;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="ImputedHomeVerifyBoxDlgId" >
    <div class="modal-content" style="z-index: 1000;">
        <a name="ImputedHomeVerifyFocus"></a>
        <div class="modal-header">
            <div class="alert alert-danger ">
                <h4 class="element-center">&nbsp;&nbsp;Dato proporcionado por la fuente</h4>
            </div>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="widget-box transparent">
                    <div class="widget-header">
                        <div class="row"> <input type="hidden" />
                            <h4 class="lighter">Infomaci&oacute;n proporcionada por la fuente: </h4>
                        </div>
                        <div class="row">
                            <div style="color: #808080;" class="col-xs-10 col-xs-offset-1">
                                <ul>
                                    <p id="ImputedHomeVerifyBoxDlgIdsearch"></p>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" >
                <input name="activities" type="hidden" value="" id="hdnJsonImputedHomeVerify" >
                <div class="col-xs-10 col-xs-offset-1">
                    <form id="FormImputedHomeVerify" name="FormImputedHomeVerify"
                    class="form-horizontal"
                    role="form">
                        <div id="divImputedHomeVerify">
                            <!---->
                            <div class="row">
                                    <div class="col-xs-12">
                                       			<div class="row" >
													<div class="col-xs-5">
											            <label for="zipCode">Código postal:</label>
											            <input type="text" id="zipCode" name="zipCode" data-val="true" data-val-required="El código postal es un campo requerido" 
											            placeholder="Escriba su C.P. para buscar.." data-val-length-max="6" data-val-length-min="1" 
											            data-val-length="Debe tener al menos 1 y máximo 6 caracteres." onchange="ImputedHomeVerify.ZipCodeSearch();">
											            <br>
											            <span class="field-validation-valid" data-valmsg-for="zipCode" data-valmsg-replace="true"></span>
											        </div>
                                                </div>
                                       			<div class="row" >
                                                    <div class="col-xs-6">
                                                        <label>Estado:</label>
                                                        <select class="form-control element-center" onchange="ImputedHomeVerify.munByEdo(this);"
                                                        id="slcImputedHomeState"></select><br/>
                                                    </div>
                                                    <div class="col-xs-6">
                                                        <label>Municipio:</label>
                                                        <select class="form-control element-center"  
                                                        onchange="ImputedHomeVerify.locByMun(this);" id="slcImputedHomeMunicipality" ></select><br/>
                                                    </div>
                                                </div>
                                                <br/>
                                                <div class="row">
                                                    <div class="col-xs-12 element-right"  >
                                                        <label>Localidad/Colonia:</label>
                                                        <br />
                                                        <select class="form-control" name="locationId"
                                                        id="slcImputedHomeLocation" ></select>
                                                    </div>
                                                </div>
												<div class="row">
													  	<div class="col-xs-6">
														    Calle <br/>
														    <input class="form-control" data-val="true" data-val-required="La calle es un campo requerido"
														    data-val-length-max="100" data-val-length-min="1"
														    data-val-length="Debe tener al menos 1 y m&aacute;ximo 100 caracteres."
														    type="text" value="" name="street" id="street">
														    <span class="field-validation-valid" data-valmsg-for="street"
														    data-valmsg-replace="true"></span>
														  </div>
												</div>
												<div class="row">
														  <div class="col-xs-3">
														    No Ext <br/>
														    <input class="form-control" data-val="true"
														    data-val-length="Debe tener al menos 1 y m&aacute;ximo 10 caracteres"
														    data-val-length-max="10" data-val-length-min="1"
														    data-val-required="El n&uacute;mero exterior es un campo requerido"
														    type="text"
														    id="outNum"
														    name="outNum">
														    <span class="field-validation-valid" data-valmsg-for="outNum"
														    data-valmsg-replace="true"></span>
														  </div>
														  <div class="col-xs-3">
														    No Int <br/>
														    <input data-val="true"
														    data-val-length="Debe tener al menos 1 y m&aacute;ximo 10 caracteres"
														    data-val-length-max="10" data-val-length-min="1"
														    type="text"
														    id="innNum"
														    name="innNum">
														    <span class="field-validation-valid" data-valmsg-for="innNum"
														    data-valmsg-replace="true"></span>
														  </div>
												</div>
                                    </div>
                            </div>
                            <!---->
                        </div>
                    </form>
      </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
        <div ng-show="MsgError" id="ImputedHomeVerifyBoxDlgIderrorMsg" style="display:none;" class="alert alert-danger element-center">
        </div>
    </div>
</div>
</div>
<div class="modal-footer">
    <span class="btn btn-default btn-sm" onclick="ImputedHomeVerify.hide();">
        Cancelar
    </span>
    <span class="btn btn-danger btn-danger btn-sm" onclick="ImputedHomeVerify.save();">
        Guardar
    </span>
</div>
</div>
<div class="blocker" style="z-index:999;">
    <div>
        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
    </div>
</div>
</div>

<!--END IMPUTEDHOME-->








<!--nuevo marital status-->
<script>
var MaritalStatusVerify  = {};
MaritalStatusVerify.reference = 0;


function showMaritalYears(valor){
console.log("showmari"+valor);
MaritalStatusVerify.reference = valor; 
$('#FormVerifMaritalYears #newVerifMaritalYears').removeClass("ng-hide");
}
function hideMaritalYears(valor){
console.log("hidemari"+valor);
MaritalStatusVerify.reference = valor;
$('#FormVerifMaritalYears #newVerifMaritalYears').addClass("ng-hide");
$("#divElementMaritalStatusVerify input").val("");
}

MaritalStatusVerify.show = function (element){
var caso = $("#hdnVerificationCaseId").val();
var fuente = $("#hdnVerificationSourceId").val();
$("#divElementMaritalStatusVerify input").val("");
var InformacionAnterior = VerificationService.searchFieldVerification("imputed.maritalStatus.id", caso, fuente, 0);
console.log("InformacionAnterior-->"+InformacionAnterior);
$("#MaritalStatusVerifyBoxDlgIdsearch").html(InformacionAnterior);
	var dlgMsgBox = $('#MaritalStatusVerifyBoxDlgId');
	window.scrollTo(0, 0);
	dlgMsgBox.show();
	$("#FormVerifMaritalYears input").prop( "disabled", false );
};

MaritalStatusVerify.hide = function (){
	MaritalStatusVerify.code = "";
	var dlgMsgBox = $('#MaritalStatusVerifyBoxDlgId');
	dlgMsgBox.hide();
$("#divElementMaritalStatusVerify input").val("");
};

MaritalStatusVerify.save = function (){
var caso = $("#hdnVerificationCaseId").val();
var fuente = $("#hdnVerificationSourceId").val();
	var dlgMsgBox = $('#MaritalStatusVerifyBoxDlgId');		
	var data = $("#FormVerifMaritalYears").serialize();
	data = data.replace("imputed.maritalStatus.id=&","imputed.maritalStatus.id="+MaritalStatusVerify.reference+"&");
	var encoded = [];
	var vars = data.split("&");
    for (var i = 0; i < vars.length; i++) {
        var psEqual = vars[i].split("=");
        var e = {};
        e.name = psEqual[0];
        e.value = psEqual[1];
        console.log("psEqual[0] ->"+psEqual[0]+"<-");
        console.log("psEqual[1] ->"+psEqual[1]+"<-");
        if(e.value!=undefined&&e.value!=null&&e.value!=""){
        encoded.push(e);
        }
    }
	console.log("serialize del form =>"+data);
	console.log("encoded object list>"+encoded);
	console.log("encoded=json=>"+JSON.stringify(encoded));
	var saveStatus = VerificationService.saveFieldVerification(JSON.stringify(encoded), caso, fuente, 0);
	if(saveStatus==""){
		$("#MaritalStatusVerifyBoxDlgIderrorMsg").text("");
	}else{
		$("#MaritalStatusVerifyBoxDlgIderrorMsg").text(saveStatus);
		return 0;
	}
	dlgMsgBox.hide();
$("#divElementMaritalStatusVerify input").val("");
}
</script>
<div class="modal-dialog" style="display:none; width:60%; position: relative;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="MaritalStatusVerifyBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
        <a name="MaritalStatusVerifyFocus"></a>
                <div class="modal-header">
                    <div class="alert alert-danger ">
                        <h4 class="element-center">&nbsp;&nbsp;Dato proporcionado por la fuente</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                    	<div class="widget-box transparent">
                            <div class="widget-header">
                                <div class="row"> <input type="hidden"
                                                         ng-init=''/>
                                    <h4 class="lighter">Infomaci&oacute;n proporcionada por la fuente: </h4>
                                </div>
                                <div class="row">
                                    <div style="color: #808080;" class="col-xs-10 col-xs-offset-1">
                                        <ul>
                                            <p id="MaritalStatusVerifyBoxDlgIdsearch"></p>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row" 
                         id="divContentVerifId">
                        <div class="col-xs-10 col-xs-offset-1">
                            <form id="FormVerifMaritalYears" name="FormVerifMaritalYears"
                                  class="form-horizontal"
                                  role="form">
                                <div id="divElementMaritalStatusVerify">
<div class="col-xs-12">
    <div class="widget-box">
        <div class="widget-header">
        <div class="col-xs-2">
        </div>
        <div class="col-xs-9 element-left">
            <h5>Estado civil</h5>
        </div>

    </div>
    <div class="widget-body">
        <div class="row">
            <div class="col-xs-6">
                <div class="control-group">
                    <div class="radio element-left">
                        <label>
                            <input name="imputed.maritalStatus.id" type="radio" class="ace" value="1"
                            onclick="hideMaritalYears('1');" />
                            <span class="lbl">Soltero</span>
                        </label>
                    </div>

                    <div class="radio element-left">
                        <label>
                            <input name="imputed.maritalStatus.id" type="radio" class="ace"
                            value="2" onclick="showMaritalYears('2');"/>
                            <span class="lbl">Casado</span>

                        </label>
                    </div>
                </div>

                <div class="radio element-left">
                    <label>
                        <input name="imputed.maritalStatus.id" type="radio" class="ace" value="3"
                        onclick="hideMaritalYears('3');" />
                        <span class="lbl">Divorciado</span>
                    </label>
                </div>

                <div class="radio element-left">
                    <label>
                        <input name="imputed.maritalStatus.id" type="radio" class="ace" value="4"
                        onclick="showMaritalYears('4');" />
                        <span class="lbl">Uni&oacute;n libre</span>
                    </label>
                </div>

                <div class="radio element-left">
                    <label>
                        <input name="imputed.maritalStatus.id" type="radio" class="ace" value="5"
                        onclick="hideMaritalYears('5');" />
                        <span class="lbl">Viudo</span>
                    </label>
                </div>
            </div>
            <div class="col-xs-5 ng-hide" id="newVerifMaritalYears">
                <div class="space-10"></div>
                <div class="widget-main">
                    <input type="text" class="input-mini"
                    value=""
                    name="imputed.yearsMaritalStatus" id="imputed.yearsMaritalStatus" data-val="true"
                    data-val-regex-pattern="([0-9]+)" ng-model="m.YearsMaritalStatus"
                    data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                    data-val-length-max="3" data-val-length-min="1"
                    data-val-required="El n&uacute;mero de a&ntilde;os es un campo requerido"
                    data-val-regex="La cantidad de a&ntilde;os s&oacute;lo pueden ser n&uacute;meros"/> A&ntilde;os
                    <br/>
                    <span class="field-validation-valid" data-valmsg-for="imputed.yearsMaritalStatus"
                    data-valmsg-replace="true"></span>
                </div>
            </div>
        </div>
        <br/>
    </div>
</div>
</div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div ng-show="MsgError" id="MaritalStatusVerifyBoxDlgIderrorMsg" style="display:none;" class="alert alert-danger element-center">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <span class="btn btn-default btn-sm" onclick="MaritalStatusVerify.hide();">
                        Cancelar
                    </span>
                    <span class="btn btn-danger btn-danger btn-sm" onclick="MaritalStatusVerify.save();">
                    	Guardar
                    </span>
                </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>


<!--nuevo list of activities-->
<!--nuevo marital status-->

<script>
var ImputedActivitiesVerify  = {};
ImputedActivitiesVerify.actList = [];
ImputedActivitiesVerify.modelList = [];
ImputedActivitiesVerify.specificationHtml = "";


ImputedActivitiesVerify.show = function (element){
    $("#ImputedActivitiesVerifyBoxDlgIderrorMsg").html("");
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();
	var convertableString = VerificationService.actividadesImputado();
	ImputedActivitiesVerify.actList = $.parseJSON(convertableString);
	console.log("ImputedActivitiesVerify.actList.lenght>"+ImputedActivitiesVerify.actList.length+"ImputedActivitiesVerify.actList type>"+typeof ImputedActivitiesVerify.actList);
	console.log("stringify jsonable>"+JSON.stringify(ImputedActivitiesVerify.actList));
	ImputedActivitiesVerify.modelList = [];
	if (ImputedActivitiesVerify.specificationHtml=="") {
		$("#divActivitySpecificationList input").prop("disabled",false).attr('readonly', false).val("");
	    ImputedActivitiesVerify.specificationHtml = $("#divActivitySpecificationList").html();
	}
	$("#divActivitySpecificationList").html("");
	$('#slctMultipleActivitiesVerify').empty();
	$('#slctMultipleActivitiesVerify').append("<option value=''> </option>");
	//llenado del select
	for(var indx=0;indx<ImputedActivitiesVerify.actList.length;indx++){
		console.log("val->"+ImputedActivitiesVerify.actList[indx].Id);
		console.log("text->"+ImputedActivitiesVerify.actList[indx].Name);
	    $('#slctMultipleActivitiesVerify').append("<option value='"+ImputedActivitiesVerify.actList[indx].Id+"' >"+ImputedActivitiesVerify.actList[indx].Name+"</option>");
	}
	$('#slctMultipleActivitiesVerify').prop("disabled",false).attr('readonly', false).val("");
	$('#slctMultipleActivitiesVerify').change(function() {
    	console.log($(this).val());
    }).multipleSelect({
    	width: '100%',
        filter:true,
        selectAll : false,
        allSelected : 'Todas las opciones',
        minimumCountSelected : 7,
        countSelected : '# de % seleccionados',
        styler: function(value) {
                if (value == '') {
                    return 'display:none;';
                }
            }
    });
	var InformacionAnterior = VerificationService.searchFieldVerification("socialEnvironment.activities", caso, fuente, 0);
	console.log("InformacionAnterior-->"+InformacionAnterior);
	$("#ImputedActivitiesVerifyBoxDlgIdsearch").html(InformacionAnterior);
    var dlgMsgBox = $('#ImputedActivitiesVerifyBoxDlgId');
    window.scrollTo(0, 0);
    dlgMsgBox.show();
    console.log($("#FormImputedActivitiesVerify").html());
};

ImputedActivitiesVerify.hide = function (){
    var dlgMsgBox = $('#ImputedActivitiesVerifyBoxDlgId');
    dlgMsgBox.hide();
    ImputedActivitiesVerify.modelList = [];
    $("#divActivitySpecificationList").html("");
    $('#slctMultipleActivitiesVerify').empty();
    $("#ImputedActivitiesVerifyBoxDlgIderrorMsg").html("");
};

ImputedActivitiesVerify.save = function (){
	var ids = $('#slctMultipleActivitiesVerify').multipleSelect('getSelects');
	var data =[];
	var JsonVal = "";
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();
	if(ids==undefined||ids==null||ids.length<=0){
    	$("#ImputedActivitiesVerifyBoxDlgIderrorMsg").html("Las actividades que realiza el imputado es un campo requerido.");
    	return false;
    }else{
    	for(var actInd=0;actInd<ImputedActivitiesVerify.actList.length;actInd++){
    	var actividad = { "activity":{"id":0}, "specification":""};
		    console.log("ImputedActivitiesVerify.actList[actInd].Id"+ImputedActivitiesVerify.actList[actInd].Id);
	    	if($.inArray(ImputedActivitiesVerify.actList[actInd].Id.toString(), ids)!="-1"){
	    		//si esta en los elejidos
	    		actividad["activity"].id = ImputedActivitiesVerify.actList[actInd].Id;
	    		JsonVal += ImputedActivitiesVerify.actList[actInd].Name;
	    		if(ImputedActivitiesVerify.actList[actInd].Specification){
	    			var complete = $("#specification"+ImputedActivitiesVerify.actList[actInd].Id).val();
	    			console.log("complete"+complete);
	    			if(complete!=undefined&&complete!=null&&complete!=""){
		    			actividad["specification"] = complete;
		    			JsonVal +=": "+complete+";";
		    		}
		    		else{
		    			$("#ImputedActivitiesVerifyBoxDlgIderrorMsg").html("Debe agregar las especificaciones de cada actividad requerida.");
		    			return false;
		    		}
	    		}//end de especificacion
	    		else{
	    		JsonVal += ";";
	    		}
	    		data.push(actividad);
	    	}//end dentro 
	    }//end de iteracion de actividades
    }//end else donde si hay actividades 
    console.log("encoded object list>"+data);
    console.log("encoded=json=>"+JSON.stringify(data));
     console.log("JsonVal value to display=>"+JsonVal);
    var saveStatus = VerificationService.saveActivitiesVerification(JsonVal, JSON.stringify(data), caso, fuente);
	if(saveStatus==""){
		$("#MaritalStatusVerifyBoxDlgIderrorMsg").text("");
	}else{
		$("#MaritalStatusVerifyBoxDlgIderrorMsg").text(saveStatus);
		return 0;
	}	
    ImputedActivitiesVerify.hide();
};

ImputedActivitiesVerify.drawActivityEspecifications = function (){
    var ids = $('#slctMultipleActivitiesVerify','#ImputedActivitiesVerifyBoxDlgId').multipleSelect('getSelects');
console.log("html="+$('#slctMultipleActivitiesVerify','#ImputedActivitiesVerifyBoxDlgId'));
console.log("ids="+ids);
    if(ids==undefined||ids==null||ids.length<=0){
    	$("#divActivitySpecificationList").html("");
    }
    console.log("ImputedActivitiesVerify.actList.json="+JSON.stringify(ImputedActivitiesVerify.actList));
    for(var actInd=0;actInd<ImputedActivitiesVerify.actList.length;actInd++){
    	if($.inArray(ImputedActivitiesVerify.actList[actInd].Id.toString(), ids)=="-1"){
    		$("#divSpecification"+ImputedActivitiesVerify.actList[actInd].Id,"#ImputedActivitiesVerifyBoxDlgId").remove();
console.log("not in array");
    	}else{
    		var already = $("#specification"+ImputedActivitiesVerify.actList[actInd].Id,"#ImputedActivitiesVerifyBoxDlgId").val();
    		if(already==undefined||already==""){
    			$("#divSpecification"+ImputedActivitiesVerify.actList[actInd].Id,"#ImputedActivitiesVerifyBoxDlgId").remove();
    			if(ImputedActivitiesVerify.actList[actInd].Specification){
    				$("#divActivitySpecificationList","#ImputedActivitiesVerifyBoxDlgId").append(ImputedActivitiesVerify.specificationHtml.replace(/Idntity/g,""+ImputedActivitiesVerify.actList[actInd].Id).replace(/entity/g,""+ImputedActivitiesVerify.actList[actInd].Name));
    				console.log("agregando => "+ImputedActivitiesVerify.actList[actInd].Name);
    			}
    		}
    		console.log("already => "+already);
    	}
    }
};
</script>

<div class="modal-dialog" style="display:none; width:60%; position: relative;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="ImputedActivitiesVerifyBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
        <a name="ImputedActivitiesVerifyFocus"></a>
                <div class="modal-header">
                    <div class="alert alert-danger ">
                        <h4 class="element-center">&nbsp;&nbsp;Dato proporcionado por la fuente</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="widget-box transparent">
                            <div class="widget-header">
                                <div class="row"> <input type="hidden" />
                                    <h4 class="lighter">Infomaci&oacute;n proporcionada por la fuente: </h4>
                                </div>
                                <div class="row">
                                    <div style="color: #808080;" class="col-xs-10 col-xs-offset-1">
                                        <ul>
                                            <p id="ImputedActivitiesVerifyBoxDlgIdsearch"></p>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" >
                            <input name="activities" type="hidden" value="" id="hdnJsonImputedActivitiesVerify" >
                            <input name="listOfActivities" type="hidden" value="@Model.JsonActivities" id="hdnJsonActivityListVerify" >
                        <div class="col-xs-10 col-xs-offset-1">
                            <form id="FormImputedActivitiesVerify" name="FormImputedActivitiesVerify"
                                  class="form-horizontal"
                                  role="form">
                                <div id="diverifMaritalYears">

                    <div class="row">
                        <div class="col-xs-3 element-left">
                            &iquest;Qu&eacute; actividades realiza?:  <br/>
                            <label class="info-example">(deportivas, educativas, voluntariado, etc.)</label>
                        </div>
                        <div class="col-xs-9 element-left">
                            <select onchange="ImputedActivitiesVerify.drawActivityEspecifications();"
                                    id="slctMultipleActivitiesVerify" style="width:450px;heigth: 100%;"
                                    multiple >
                                    <option value="">Selecciona un delito</option>
                            </select>
                        </div>
                    </div>
                    <br/>
                    <div class="row" id="divActivitySpecificationList">
                          <div id="divSpecificationIdntity">
                              <div class="col-xs-3">
                                  Especif&iacute;que actividades entity:
                              </div>
                              <div class="col-xs-9">
                                  <input class="form-control" data-val="true"
                                         data-val-length="Debe tener al menos 3 y m&aacute;ximo 255 caracteres"
                                         data-val-length-max="255" data-val-length-min="3"
                                         data-val-required="La especificaci&oacute;n de actividades entity es un campo requerido"
                                         type="text" value="" 
                                         id="specificationIdntity" name="specificationIdntity"
                                         onchange="matchActivities()"><br/>
                                    <span class="field-validation-valid" data-valmsg-for="specificationIdntity"
                                          data-valmsg-replace="true"></span>
                                  <br/>
                              </div>
                          </div>
                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div ng-show="MsgError" id="ImputedActivitiesVerifyBoxDlgIderrorMsg" style="display:none;" class="alert alert-danger element-center">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <span class="btn btn-default btn-sm" onclick="ImputedActivitiesVerify.hide();">
                        Cancelar
                    </span>
                    <span class="btn btn-danger btn-danger btn-sm" onclick="ImputedActivitiesVerify.save();">
                        Guardar
                    </span>
                </div>
        </div>
        <div class="blocker" style="z-index:999;">
            <div>
                Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
            </div>
        </div>
    </div>


<!-- imputed domicilio -->

<script>
    var ImputedBirthPlaceVerify  = {};
    ImputedBirthPlaceVerify.paises = [];
    ImputedBirthPlaceVerify.estados = [];
    ImputedBirthPlaceVerify.municipios = [];
    ImputedBirthPlaceVerify.localidades = [];

    ImputedBirthPlaceVerify.modelList = [];
    ImputedBirthPlaceVerify.specificationHtml = "";


    ImputedBirthPlaceVerify.show = function (element){
        $("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html("").hide();
        var caso = $("#hdnVerificationCaseId").val();
        var fuente = $("#hdnVerificationSourceId").val();
        ImputedBirthPlaceVerify.paises = $.parseJSON(MeetingService.findAllCountry());
        ImputedBirthPlaceVerify.estados = $.parseJSON(MeetingService.findAllStates());
        console.log("stringify paises>"+JSON.stringify(ImputedBirthPlaceVerify.paises));
        console.log("stringify estados>"+JSON.stringify(ImputedBirthPlaceVerify.estados));
        $('#slcVerifyBirthState',"#divImputedBirthPlaceVerify").empty();
        $('#slcVerifyBirthCountry',"#divImputedBirthPlaceVerify").empty();
        for(var indx=0;indx<ImputedBirthPlaceVerify.paises.length;indx++){
                console.log("id pais val->"+ImputedBirthPlaceVerify.paises[indx].Id);
                console.log("name pais text->"+ImputedBirthPlaceVerify.paises[indx].Name);
               $('#slcVerifyBirthCountry',"#divImputedBirthPlaceVerify").append("<option value='"+ImputedBirthPlaceVerify.paises[indx].Id+"' >"+ImputedBirthPlaceVerify.paises[indx].Name+"</option>");
        }
        for(var indx=0;indx<ImputedBirthPlaceVerify.estados.length;indx++){
            console.log("id estado val->"+ImputedBirthPlaceVerify.estados[indx].Id);
            console.log("ombr estad text->"+ImputedBirthPlaceVerify.estados[indx].Name);
           $('#slcVerifyBirthState',"#divImputedBirthPlaceVerify").append("<option value='"+ImputedBirthPlaceVerify.estados[indx].Id+"' >"+ImputedBirthPlaceVerify.estados[indx].Name+"</option>");
           $('#slcVerifyBirthState',"#divImputedBirthPlaceVerify").val("");
       }

       $("#divImputedBirthPlaceVerify input").prop("disabled",false).attr('readonly', false).val("");
       $("#divImputedBirthPlaceVerify select").prop("disabled",false).attr('readonly', false);

        $(".iner-mex").hide();
        $(".outer-mex").show();

   var InformacionAnterior = VerificationService.searchFieldVerification("imputed.birthCountry.id", caso, fuente, 0);
   console.log("InformacionAnterior-->"+InformacionAnterior);
   $("#ImputedBirthPlaceVerifyBoxDlgIdsearch").html(InformacionAnterior);
   var dlgMsgBox = $('#ImputedBirthPlaceVerifyBoxDlgId');
   window.scrollTo(0, 0);
   dlgMsgBox.show();
};

ImputedBirthPlaceVerify.hide = function (){
    var dlgMsgBox = $('#ImputedBirthPlaceVerifyBoxDlgId');
    dlgMsgBox.hide();
    ImputedBirthPlaceVerify.modelList = [];
    $("#divImputedBirthPlaceVerify input").prop("disabled",false).attr('readonly', false).val("");
        $('#slcVerifyBirthState',"#divImputedBirthPlaceVerify").empty();
        $('#slcVerifyBirthCountry',"#divImputedBirthPlaceVerify").empty();
    $('#slctMultipleActivitiesVerify').empty();
    $("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html("").hide();
};

ImputedBirthPlaceVerify.save = function (){     
        var caso = $("#hdnVerificationCaseId").val();
        var fuente = $("#hdnVerificationSourceId").val();
        var selectedPais = $('#slcVerifyBirthCountry',"#divImputedBirthPlaceVerify").val();
        $("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html("").hide();
        if(selectedPais==1||selectedPais=="1"){
        	if($('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").val()==undefined||$('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").val()==""){
        	$("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html("La localidad/colonia es un campo requerido").show();
        	return false;
.        }else{
        var errors=false;
	        if($('#txtVerifyBirthState',"#divImputedBirthPlaceVerify").val()==undefined||$('#txtVerifyBirthState',"#divImputedBirthPlaceVerify").val()==""){
	    		$("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html("El estado es un campo requerido").show();
	    		errors=true;
	    	}
	    	if($('#txtVerifyBirthMunicipality',"#divImputedBirthPlaceVerify").val()==undefined||$('#txtVerifyBirthMunicipality',"#divImputedBirthPlaceVerify").val()==""){
	    		$("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html($("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html()+"<br />El municipio es un campo requerido").show();
	    		errors=true;
	    	}
	    	if($('#txtVerifyBirthLocation',"#divImputedBirthPlaceVerify").val()==undefined||$('#txtVerifyBirthLocation',"#divImputedBirthPlaceVerify").val()==""){
	    		$("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html($("#ImputedBirthPlaceVerifyBoxDlgIderrorMsg").html()+"<br />La Localidad/Colonia es un campo requerido").show();
	    		errors=true;
	    	}
	    	if(errors){
	    	return !errors;
	    	}
    	}

    var data = $("#FormImputedBirthPlaceVerify").serialize();
    var encoded = [];
	var vars = data.split("&");
    for (var i = 0; i < vars.length; i++) {
        var psEqual = vars[i].split("=");
        var e = {};
        e.name = psEqual[0];
        e.value = decodeURIComponent(psEqual[1].replace(/\+/g, ' '));
        console.log("psEqual[0] ->"+psEqual[0]+"<-");
        console.log("psEqual[1] ->"+psEqual[1]+"<-");

        console.log("e.name ->"+e.name);
        console.log("e.value ->"+e.value);

        if(e.value!=undefined&&e.value!=null&&e.value!=""){
        encoded.push(e);
        }
    }
    console.log("serialize del form =>"+data);
    console.log("encoded object list>"+encoded);
    console.log("encoded=json=>"+JSON.stringify(encoded));
    var saveStatus = VerificationService.saveFieldVerification(JSON.stringify(encoded), caso, fuente, 0);
    if(saveStatus==""){
      $("#MaritalStatusVerifyBoxDlgIderrorMsg").text("");
    }else{
          $("#MaritalStatusVerifyBoxDlgIderrorMsg").text(saveStatus);
          return 0;
    }
  ImputedBirthPlaceVerify.hide();
};

ImputedBirthPlaceVerify.showInnerAddress = function (pais){
    var idPais = $(pais).val();
    if(idPais==1||idPais=="1"){
		$(".iner-mex").show();
        $(".outer-mex").hide();
        $("#divImputedBirthPlaceVerify input").prop("disabled",false).attr('readonly', false).val("");
    }else{
		$(".iner-mex").hide();
        $(".outer-mex").show();
       $('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").val("");
    }
};
ImputedBirthPlaceVerify.munByEdo = function (estado){
console.log("$(estado).val()="+$(estado).val());
    var municipios = $.parseJSON(MeetingService.findMunicipalityByState($(estado).val()));
			    if(municipios!=undefined&&municipios!=null&&municipios!=""){
				    try{
				    	$('#slcVerifyBirthMunicipality',"#divImputedBirthPlaceVerify").empty();
				    	for(var indx=0;indx<municipios.length;indx++){
				            console.log("id municipios val->"+municipios[indx].Id);
				            console.log("nombre municipios text->"+municipios[indx].Name);
				           	$('#slcVerifyBirthMunicipality',"#divImputedBirthPlaceVerify").append("<option value='"+municipios[indx].Id+"' >"+municipios[indx].Name+"</option>");
				           	$('#slcVerifyBirthMunicipality',"#divImputedBirthPlaceVerify").val("");
				       	}
				       	$('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").val("").empty();
				    	}catch(e){
			    			console.log("exception caugth at MunByEdo Message >>"+e.Message);
						}
			    }
};
ImputedBirthPlaceVerify.locByMun = function (municipio){
console.log("$(municipio).val()="+$(municipio).val());
    var locations = $.parseJSON(MeetingService.findLocationByMunicipality($(municipio).val()));
			    if(locations!=undefined&&locations!=null&&locations!=""){
				    try{
				    	$('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").empty();
				    	for(var indx=0;indx<locations.length;indx++){
				            console.log("id municipios val->"+locations[indx].Id);
				            console.log("nombre municipios text->"+locations[indx].Name);
				           	$('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").append("<option value='"+locations[indx].Id+"' >"+locations[indx].Name+"</option>");
				       	}
				       	$('#slcVerifyBirthLocation',"#divImputedBirthPlaceVerify").val("");
				    	}catch(e){
			    			console.log("exception caugth at MunByEdo Message >>"+e.Message);
						}
			    }
};
</script>

<div class="modal-dialog" style="display:none; width:60%; position: relative;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="ImputedBirthPlaceVerifyBoxDlgId" >
    <div class="modal-content" style="z-index: 1000;">
        <a name="ImputedBirthPlaceVerifyFocus"></a>
        <div class="modal-header">
            <div class="alert alert-danger ">
                <h4 class="element-center">&nbsp;&nbsp;Dato proporcionado por la fuente</h4>
            </div>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="widget-box transparent">
                    <div class="widget-header">
                        <div class="row"> <input type="hidden" />
                            <h4 class="lighter">Infomaci&oacute;n proporcionada por la fuente: </h4>
                        </div>
                        <div class="row">
                            <div style="color: #808080;" class="col-xs-10 col-xs-offset-1">
                                <ul>
                                    <p id="ImputedBirthPlaceVerifyBoxDlgIdsearch"></p>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" >
                <input name="activities" type="hidden" value="" id="hdnJsonImputedBirthPlaceVerify" >
                <div class="col-xs-10 col-xs-offset-1">
                    <form id="FormImputedBirthPlaceVerify" name="FormImputedBirthPlaceVerify"
                    class="form-horizontal"
                    role="form">
                        <div id="divImputedBirthPlaceVerify">
                            <!---->
                                                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="widget-box">
                                            <div class="widget-header">
                                                <div class="col-xs-3" >
                                                </div>
                                                <div class="col-xs-9 element-left">
                                                    <h4>Lugar de nacimiento</h4>
                                                </div>
                                            </div>

                                            <div class="widget-body">
                                                <br/>

                                                <div class="row" >
                                                    <div class="col-xs-2 element-left col-xs-offset-1">
                                                        Pa&iacute;s:
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <select class="form-control element-center" id="slcVerifyBirthCountry"
                                                        name="imputed.birthCountry.id" onchange="ImputedBirthPlaceVerify.showInnerAddress(this);"></select>
                                                   </div>
                                                    <div class="col-xs-2 element-right outer-mex">
                                                        Estado:
                                                    </div>
                                                    <div class="col-xs-3 outer-mex" >
                                                        <input class="form-control"
                                                        type="text" id="txtVerifyBirthState" name="imputed.birthState" />
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthState"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-right iner-mex">
                                                        Estado:
                                                    </div>
                                                    <div class="col-xs-3 iner-mex">
                                                        <select class="form-control element-center" onchange="ImputedBirthPlaceVerify.munByEdo(this);"
                                                        id="slcVerifyBirthState"></select><br/>
                                                    </div>
                                                </div>
                                                <br/>
                                                <div class="row">
                                                    <div class="col-xs-2 element-left col-xs-offset-1 outer-mex">
                                                        Municipio:
                                                    </div>
                                                    <div class="col-xs-3 outer-mex" >
                                                        <input class="form-control"
                                                        type="text" id="txtVerifyBirthMunicipality" 
                                                        name="imputed.birthMunicipality" >
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthMunicipality"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-left col-xs-offset-1 iner-mex"  >
                                                        Municipio:
                                                    </div>
                                                    <div class="col-xs-3 iner-mex"  >
                                                        <select class="form-control element-center"  
                                                        onchange="ImputedBirthPlaceVerify.locByMun(this);" id="slcVerifyBirthMunicipality" ></select><br/>
                                                    </div>
                                                    <div class="col-xs-2 element-right outer-mex" >
                                                        Localidad/Colonia:
                                                    </div>
                                                    <div class="col-xs-3 outer-mex" >
                                                        <input class="form-control" id="txtVerifyBirthLocation" 
                                                        type="text" id="imputed.birthLocation" name="imputed.birthLocation" >
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthLocation"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-right iner-mex"  >
                                                        Localidad/Colonia:
                                                    </div>
                                                    <div class="col-xs-3 iner-mex" >
                                                        <select class="form-control" name="imputed.location.id"
                                                        id="slcVerifyBirthLocation" ></select>
                                                    </div>
                                                    <div class="col-xs-10 col-xs-offset-1">
                                                    </div>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <!---->
                        </div>
                    </form>
      </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
        <div ng-show="MsgError" id="ImputedBirthPlaceVerifyBoxDlgIderrorMsg" style="display:none;" class="alert alert-danger element-center">
        </div>
    </div>
</div>
</div>
<div class="modal-footer">
    <span class="btn btn-default btn-sm" onclick="ImputedBirthPlaceVerify.hide();">
        Cancelar
    </span>
    <span class="btn btn-danger btn-danger btn-sm" onclick="ImputedBirthPlaceVerify.save();">
        Guardar
    </span>
</div>
</div>
<div class="blocker" style="z-index:999;">
    <div>
        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
    </div>
</div>
</div>








<!-- disponibilidad -->

<script>

    var DisponibilidadVerify  = {};
    DisponibilidadVerify.specificationHtml = "";
    DisponibilidadVerify.scheduleList = [];
    DisponibilidadVerify.ramdom = 0;
    DisponibilidadVerify.codigo = "";
    DisponibilidadVerify.idList = 0;

DisponibilidadVerify.show = function (code,idlist){
    DisponibilidadVerify.codigo = "";
    DisponibilidadVerify.idList = 0;
    DisponibilidadVerify.ramdom = 0;
	if(code!=undefined&&code!=null&&code!=""){
		DisponibilidadVerify.codigo = code;
	}
	if(idlist!=undefined&&idlist!=null&&idlist!=0){
		DisponibilidadVerify.idList=idlist;
	}
        $("#DisponibilidadVerifyBoxDlgIderrorMsg").html("").hide();
        if(DisponibilidadVerify.specificationHtml == ""){
        	DisponibilidadVerify.specificationHtml = $("#listscheduleDisponibilidadVerify","#FormDisponibilidadVerify").html();
        }
        $("#listscheduleDisponibilidadVerify","#FormDisponibilidadVerify").html("");
        DisponibilidadVerify.scheduleList = [];
        var caso = $("#hdnVerificationCaseId").val();
        var fuente = $("#hdnVerificationSourceId").val();

        $("#timepickerEndScheduleVerify","#divDisponibilidadVerify").timepicker({
            minuteStep: 1,
            showSeconds: false,
            showMeridian: false
        }).prop("disabled",false).attr('readonly', true).next().on(ace.click_event, function(){
                $(this).prev().focus();
            });
        $("#timepickerStartScheduleVerify","#divDisponibilidadVerify").timepicker({
            minuteStep: 1,
            showSeconds: false,
            showMeridian: false
        }).prop("disabled",false).attr('readonly', true).next().on(ace.click_event, function(){
                $(this).prev().focus();
            });

            $("#txtDayScheduleVerify","#divDisponibilidadVerify").prop("disabled",false).attr('readonly', false).val("");
   $(".schedule-verif").hide();
   var InformacionAnterior = VerificationService.searchFieldVerification(DisponibilidadVerify.codigo, caso, fuente, DisponibilidadVerify.idList);
   console.log("InformacionAnterior-->"+InformacionAnterior);
   $("#DisponibilidadVerifyBoxDlgIdsearch").html(InformacionAnterior);
   var dlgMsgBox = $('#DisponibilidadVerifyBoxDlgId');
   window.scrollTo(0, 0);
   dlgMsgBox.show();
};


DisponibilidadVerify.hide = function (){
    var dlgMsgBox = $('#DisponibilidadVerifyBoxDlgId');
    dlgMsgBox.hide();
    DisponibilidadVerify.modelList = [];
    $("#txtDayScheduleVerify","#divDisponibilidadVerify").prop("disabled",false).attr('readonly', false).val("");
     
        $("#listscheduleDisponibilidadVerify","#FormDisponibilidadVerify").html("");
        DisponibilidadVerify.scheduleList = [];
	    DisponibilidadVerify.codigo = "";
	    DisponibilidadVerify.idList = 0;
	    DisponibilidadVerify.ramdom = 0;
    
    $("#DisponibilidadVerifyBoxDlgIderrorMsg").html("").hide();
};

DisponibilidadVerify.save = function (){
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();
	$("#DisponibilidadVerifyBoxDlgIderrorMsg").html("").hide();
	if(DisponibilidadVerify.scheduleList.length==null||DisponibilidadVerify.scheduleList.length<=0){
		$("#DisponibilidadVerifyBoxDlgIderrorMsg").html("Favor de ingresar un día, una hora de inicio y una hora de fin").show();
		return false;
	}else{
		var auxObj = {};
		var json = [];
		var valueTxt = "";
		for(var i=0;i<DisponibilidadVerify.scheduleList.length;i++){
			auxObj = {};
			auxObj.day=DisponibilidadVerify.scheduleList[i].day;
			auxObj.start=DisponibilidadVerify.scheduleList[i].start;
			auxObj.end=DisponibilidadVerify.scheduleList[i].end;
			json.push(auxObj);
			valueTxt += "Día(s): "+DisponibilidadVerify.scheduleList[i].day+": Inicio: "+DisponibilidadVerify.scheduleList[i].start+" Fin: "+DisponibilidadVerify.scheduleList[i].end+"; ";
		}
		var saveStatus = VerificationService.saveScheduleVerification(valueTxt, JSON.stringify(json), caso, fuente, DisponibilidadVerify.codigo, DisponibilidadVerify.idList);
	    if(saveStatus==""){
	      $("#MaritalStatusVerifyBoxDlgIderrorMsg").text("");
	    }else{
	          $("#MaritalStatusVerifyBoxDlgIderrorMsg").text(saveStatus);
	          return 0;
	    }
		console.log("valueTxt>>"+valueTxt);
		console.log("json>>"+JSON.stringify(json));
	}
	DisponibilidadVerify.hide();
};


DisponibilidadVerify.addSchedule = function (){
	var e = {};
	var daytxt = $("#txtDayScheduleVerify","#FormDisponibilidadVerify").val();
	var init = $("#timepickerStartScheduleVerify").val();
	var fin = $("#timepickerEndScheduleVerify").val();
	$("#DisponibilidadVerifyBoxDlgIderrorMsg").html("").hide();
	if(daytxt==""||init==""||fin==""){
		$("#DisponibilidadVerifyBoxDlgIderrorMsg").html("Favor de ingresar un día, una hora de inicio y una hora de fin").show();
		return false;
	}else{
		e.day=daytxt;
		e.start=init;
		e.end=fin;
		e.indice="idx"+DisponibilidadVerify.ramdom;
		$("#txtDayScheduleVerify","#FormDisponibilidadVerify").val("");
	}
	DisponibilidadVerify.scheduleList.push(e);
	var nuevoItem = DisponibilidadVerify.specificationHtml;
	nuevoItem = nuevoItem.replace(/Index/g,"idx"+DisponibilidadVerify.ramdom);
	nuevoItem = nuevoItem.replace(/Day/g,daytxt);
	nuevoItem = nuevoItem.replace(/Start/g,e.start);
	nuevoItem = nuevoItem.replace(/End/g,e.end);
	DisponibilidadVerify.ramdom++;
	$("#listscheduleDisponibilidadVerify").append(nuevoItem);
	console.log("string list>"+JSON.stringify(DisponibilidadVerify.scheduleList));
	$(".schedule-verif").show();
};


DisponibilidadVerify.deleteSchedule = function (idIndex){
	$("#DisponibilidadVerifyBoxDlgIderrorMsg").html("").hide();
	$("#listScheduleRow"+idIndex,"#FormDisponibilidadVerify").remove();
	var target;
	for(var i=0;i<DisponibilidadVerify.scheduleList.length;i++){
		if(idIndex==DisponibilidadVerify.scheduleList[i].indice){
			target = i;
		}
	}
	if(target != undefined&&target != null){
		DisponibilidadVerify.scheduleList.splice(target,1);
	}
	if(DisponibilidadVerify.scheduleList.length==null||DisponibilidadVerify.scheduleList.length<=0){
		$(".schedule-verif").hide();
	}
	console.log("string list>"+JSON.stringify(DisponibilidadVerify.scheduleList));
};
</script>
			<div class="modal-dialog" style="display:none; width:60%; position: relative;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="DisponibilidadVerifyBoxDlgId" >
			    <div class="modal-content" style="z-index: 1000;">
			        <a name="DisponibilidadVerifyFocus"></a>
			        <div class="modal-header">
			            <div class="alert alert-danger ">
			                <h4 class="element-center">&nbsp;&nbsp;Dato proporcionado por la fuente</h4>
			            </div>
			        </div>
			        <div class="modal-body">
			            <div class="row">
			                <div class="widget-box transparent">
			                    <div class="widget-header">
			                        <div class="row"> <input type="hidden" />
			                            <h4 class="lighter">Infomaci&oacute;n proporcionada por la fuente: </h4>
			                        </div>
			                        <div class="row">
			                            <div style="color: #808080;" class="col-xs-10 col-xs-offset-1">
			                                <ul>
			                                    <p id="DisponibilidadVerifyBoxDlgIdsearch"></p>
			                                </ul>
			                            </div>
			                        </div>
			                    </div>
			                </div>
			            </div>
			            <div class="row" >
			                <input name="activities" type="hidden" value="" id="hdnJsonDisponibilidadVerify" >
			                <div class="col-xs-10 col-xs-offset-1">
			                    <form id="FormDisponibilidadVerify" name="FormDisponibilidadVerify"
			                    class="form-horizontal"
			                    role="form">
			                        <div id="divDisponibilidadVerify">
			                            <!---->
			                                <!--schedule component-->
			<div>

			  <link rel="stylesheet" href="content/themes/umeca/bootstrap-timepicker.css" />
			  <script src="scripts/umeca/date-time/bootstrap-datepicker.min.js"></script>
			  <script src="scripts/umeca/date-time/moment.min.js"></script>
			  <script src="scripts/app/shared/dateTimePickerCursor.js"></script>

			  <div class="row element-center">
			    <div class="col-xs-10 col-xs-offset-1">
			      <div class="row">
			        <div class="col-xs-4 element-center">
			         D&iacute;a(s)<br/>
			         <input class="form-control" type="text" value="" id="txtDayScheduleVerify">
			       </div>
			       <div class="col-xs-3 element-center">
			        Inicio<br/>
			        <div class="input-group bootstrap-timepicker">
			          <input id="timepickerStartScheduleVerify" type="text" class="form-control umeca-time-picker tp" value="" readonly="readonly"/>
			          <span class="input-group-addon">
			            <i class="icon-time bigger-60"></i>
			          </span>
			        </div>
			      </div>
			      <div class="col-xs-3 element-center">
			        Fin <br/>
			        <div class="input-group bootstrap-timepicker">
			          <input id="timepickerEndScheduleVerify" type="text" class="form-control umeca-time-picker tp" value=""  readonly="readonly" />
			          <span class="input-group-addon">
			            <i class="icon-time  bigger-40"></i>
			          </span>
			        </div>
			      </div>
			      <div class="col-xs-2">
			        Acciones<br/><div class="space-5"></div>
			        <i class="icon-plus-sign orange" style="cursor:pointer;" onclick="DisponibilidadVerify.addSchedule();">  </i>
			      </div>
			    </div>
			    <div class="row">
			      <div class="hr hr-6"></div>
			    </div>
			    <div class="alert-danger element-center " style="display:none;">
			    </div>
			    <div class="col-xs-12" ng-show="listSchedule.length==0">
			      <br/>
			      <br/>
			      <br/>
			    </div>
			    <div class="col-xs-9 col-xs-offset-1 schedule-verif">
			     <div class="row center">
			       <div class="col-xs-5">
			         <h5 class="smaller lighter blue">D&iacute;a</h5>
			         <div class="hr hr-2"></div>
			       </div>
			       <div class="col-xs-2">
			         <h5 class="smaller lighter blue">Inicio</h5>
			         <div class="hr hr-2"></div>
			       </div>
			       <div class="col-xs-2">
			         <h5 class="smaller lighter blue">Fin</h5>
			         <div class="hr hr-2"></div>
			       </div>
			       <div class="col-xs-2">
			         <h5 class="smaller lighter blue">Acciones</h5>
			         <div class="hr hr-2"></div>
			       </div>
			     </div>
			     <div id="listscheduleDisponibilidadVerify">
				     <div class="row center" id="listScheduleRowIndex">
				      	<div class="col-xs-5">
				        	Day
				      	</div>
				      	<div class="col-xs-2">
				       		Start
				     	</div>
				     	<div class="col-xs-2">
				      		End
					    </div>
					    <div class="col-xs-2">
					      <i class="icon-trash red" style="cursor:pointer;" onclick="DisponibilidadVerify.deleteSchedule('Index');"></i>
					    </div>
				  	 </div>
			     </div>
			  <br/>
			</div>
			</div>
			<br/>
			</div>
			</div>
			            <!--schedule component-->
			                            <!---->
			                        </div>
			                    </form>
			      </div>
			  </div>
			  <div class="row">
			    <div class="col-xs-12">
			        <div ng-show="MsgError" id="DisponibilidadVerifyBoxDlgIderrorMsg" style="display:none;" class="alert alert-danger element-center">
			        </div>
			    </div>
			</div>
			</div>
			<div class="modal-footer">
			    <span class="btn btn-default btn-sm" onclick="DisponibilidadVerify.hide();">
			        Cancelar
			    </span>
			    <span class="btn btn-danger btn-danger btn-sm" onclick="DisponibilidadVerify.save();">
			        Guardar
			    </span>
			</div>
			</div>
			<div class="blocker" style="z-index:999;">
			    <div>
			        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
			    </div>
			</div>
			</div>










<script>
app.controller('MeettingDatosPersonalesController', function($scope, $http, $timeout, $sce){
//GENERAL CONTROLLER STATE OF MEETING
        $scope.m = {};
        $scope.verification = true;
        $scope.readOnly = true;
        $scope.listMsgError = [];
        /*$scope.listMsgError['personalData'] = true;
        $scope.listMsgError['imputedHome'] = true;
        $scope.listMsgError['socialNetwork'] = false;
        $scope.listMsgError['reference'] = false;
        $scope.listMsgError['job'] = false;
        $scope.listMsgError['school'] = true;
        $scope.listMsgError['drug'] = false;
        $scope.listMsgError['leavingCountry'] = true;*/

        $scope.putasHarry=function(){
        $timeout(function(){
        	$("#axelMulti").chosen();
        	},0);
        };

////////////////DATOS PERSONALES CONTROLLER

        ////////////////VARIABLES///////////////
    	//genero
        $scope.gen = {};

        //pais nacimiento
        $scope.listCountry = [];
        $scope.listState = [];
        $scope.listMuni = [];
        $scope.listLocalidades = [];
        $scope.listMunByEdo = [];
        $scope.SeceltedCountry = {};
        $scope.SeceltedEstate = {};
        $scope.SeceltedMuni = {};
        $scope.SeceltedLocation = {};

        //actividades que realiza
	$scope.specification = {};
    $scope.lstActivity = [];
    $scope.activityModel = [];
    $scope.activityList = [];

    ///////////////////METHODS//////////////////
    //Init de country 
    $scope.InitCountryPD = function(){
	    if($scope.m.BirthCountry!=undefined&&$scope.m.BirthCountry!=null){
		    for(x=0;x<$scope.listCountry.length;x++){
		    	if($scope.listCountry[x].Id==$scope.m.BirthCountry){
		    		$scope.SeceltedCountry = $scope.listCountry[x];
		    		//alert("$scope.listCountry[x]"+JSON.stringify($scope.listCountry[x]));
		    		//alert("$scope.SeceltedCountry"+JSON.stringify($scope.SeceltedCountry));
		    		$scope.InitMunicipalityDP();
		    		break;
		    	}
		    }
		}
		else{
    		$scope.SeceltedCountry = $scope.listCountry[0];
		}
	};

    $scope.InitMunicipalityDP = function(){
    //alert("InitMunicipalityDP -> $scope.m.LocationId>>"+$scope.m.LocationId);
	    if($scope.m.LocationId!=undefined&&$scope.m.LocationId!=null){
	    	var data = JSON.parse(MeetingService.findAllByLocation($scope.m.LocationId));
	    	//alert("InitMunicipalityDP -> data>>"+JSON.stringify(data));
	    	//alert("InitMunicipalityDP -> data.StateId="+data.StateId+"    data.MunicipalityId="+data.MunicipalityId);
		    for(x=0;x<$scope.listState.length;x++){
		    	if($scope.listState[x].Id==data.StateId){
		    		$scope.SeceltedEstate = $scope.listState[x];
		    		//alert("$scope.SeceltedEstate[x]"+JSON.stringify($scope.SeceltedEstate));
		    		$scope.MunByEdo();
		    			for(y=0;y<$scope.listMunByEdo.length;y++){
			    			if($scope.listMunByEdo[y].Id==data.MunicipalityId){
			    				$scope.SeceltedMuni = $scope.listMunByEdo[y];
			    				$scope.LocByMun();
				    				for(z=0;z<$scope.listLocalidades.length;z++){
				    					if($scope.listLocalidades[z].Id==$scope.m.LocationId){
				    						$scope.SeceltedLocation = $scope.listLocalidades[z];
				    						break;
				    					}
				    				}
				    			break;
			    			}
		    			}
		    		break;
		    	}
		    }
		}
	};

		//cuando se elije un estado se filtran los municipios
		$scope.MunByEdo = function(){
			$scope.listMunByEdo = [];
	        $scope.SeceltedMuni = {};
	        $scope.SeceltedLocation = {};
	        $scope.listLocalidades = [];
			    var em=0;
			    var municipios = MeetingService.findMunicipalityByState($scope.SeceltedEstate['Id']);
			    //alert("string de selected__>"+JSON.stringify($scope.SeceltedEstate) +"   and \n municipios _>"+municipios);
			    if(municipios!=undefined&&municipios!=null&&municipios!=""){
				    try{
				    	$scope.listMunByEdo = JSON.parse(municipios);
				    	}catch(e){
			    			console.log("exception caugth at MunByEdo Message >>"+e.Message);
			    			$scope.listMunByEdo = [];
						}
			    }
		};


		$scope.selectedActivities = function (lstActivity, lstActivitySelect) {
	        for (var i = 0; i < lstActivitySelect.length; i++) {
	            for (var j = 0; j < lstActivity.length; j++) {
	                if (lstActivity[j].id === lstActivitySelect[i].id) {
	                    $scope.activityModel.push(lstActivity[j]);
	                    if (lstActivity[j].specification) {
	                        $scope.specification[lstActivity[j].name] = lstActivitySelect[i].specification;
	                    }
	                }
	            }
	        }
	        $scope.matchActivities();
	    };

    $scope.matchActivities = function () {
        $scope.relActivities = [];
        for (var i = 0; i < $scope.activityModel.length; i++) {
            var model = {};
            model.ActivityId = $scope.activityModel[i].id;
            if ($scope.specification[$scope.activityModel[i].name] != undefined) {
                model.specification = $scope.specification[$scope.activityModel[i].name];
            } else {
                model.specification = "";
            }
            $scope.relActivities.push(model);
        }
        $scope.m.Activities = JSON.stringify($scope.relActivities);
        return true;
    };


		//cuando se elije un municipio se filtran las localidades
		$scope.LocByMun = function(){
        $scope.SeceltedLocation = {};
			    $scope.listLocalidades = [];
			    var em=0;
			    var locations = MeetingService.findLocationByMunicipality($scope.SeceltedMuni['Id']);
			    //alert("string de selected__>"+JSON.stringify($scope.SeceltedEstate) +"   and \n municipios _>"+municipios);
			    if(locations!=undefined&&locations!=null&&locations!=""){
				    try{
				    	$scope.listLocalidades = JSON.parse(locations);
				    	}catch(e){
			    			console.log("exception caugth at LocByMun Message >>"+e.Message);
			    			$scope.listLocalidades = [];
						}
			    }
		};


		//cuando se elije un estado se filtran los municipios 
		//TODO: se cambiara a una peticion a methodo
		$scope.InitActivities = function(){
			if($scope.m.Activities!=undefined&&$scope.m.Activities!=null){
			    var actividades = JSON.parse($scope.m.Activities);
			    var ids = [];
			    //alert("string de actividades>"+JSON.stringify(actividades));
			    //iterates activities
			    for(a in actividades){
				    for(e in $scope.lstActivity){
					    if($scope.lstActivity[e].id==actividades[a].ActivityId){
			    			console.log("coincidence >>>"+actividades[a].ActivityId);
			    			ids.push(e);
					    	$scope.activityModel.push($scope.lstActivity[e]);
		                    if ($scope.lstActivity[e].specification) {
		                        $scope.specification[$scope.lstActivity[e].name] = actividades[a].specification; 
		                    } 
					    }
				    }
			    }
			    $('#ms').multipleSelect("setSelects",ids);
			}
		};

		$scope.locationDp = function(){
			$scope.m.LocationId = $scope.SeceltedLocation['Id'];
		}


		//guarda los cambios realizados a la seccion de datos personales
         $scope.savePersonalData = function () {
         if($("#FormPersonalData").valid() == false){
         return false;
         }else{
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgExito = MeetingService.upsertPersonalData(JSON.stringify($scope.m));
			}
	    };
        //END DATOS PERSONALES


        ////////////Domicilios///////////
 		$scope.saveDomicilios = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessDom = MeetingService.upsertDomicilioComment(JSON.stringify($scope.m));
	    };
        ///////////end domicilios///////////

        ////////////SocialNetwork///////////
 		$scope.saveSocialNetwork = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessSocNet = MeetingService.upsertRedSocialComment(JSON.stringify($scope.m));
	    };
        ///////////end SocialNetwork///////////

        ////////////Referencias///////////
 		$scope.saveReferences = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessReferences = MeetingService.upsertReferenciasComment(JSON.stringify($scope.m));
	    };
        ///////////end Referencias///////////

        ////////////Laboral///////////
 		$scope.saveLaboral = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessLaboral = MeetingService.upsertLaboralComment(JSON.stringify($scope.m));
	    };
        ///////////end Laboral///////////

        ////////////Drugs///////////
 		$scope.saveDrugs = function () {
	        var jsonData = JSON.stringify($scope.m);
			$scope.msgSuccessDrugs = MeetingService.upsertDrugComment(JSON.stringify($scope.m));
	    };
        ///////////end Drugs///////////

/////////////para historia escolar
        $scope.block = true;
        $scope.school = {};
        $scope.school.level={};
        $scope.school.degree={};

	   	$scope.gradeByNivel = function(){
	   	//alert("$scope.school.level=="+JSON.stringify($scope.school.level));
        $scope.lstDegree=JSON.parse(MeetingService.gradeByNivel( $scope.school.level['Id']));
	   	}

        $scope.fillModel = function(){
	       var template ="NO ESTUDIA";
	       if($scope.m.SchoolBlock == false){
	            $scope.m.SchoolName=template;
	           $scope.m.SchoolPhone = template;
	           $scope.m.SchoolAddress = template;
	       }else{
	            $scope.m.SchoolName="";
	           $scope.m.SchoolPhone = "";
	           $scope.m.SchoolAddress = "";
	       }
	   };

	   $scope.saveEscolarship = function(){
		   if($("#FormSchool").valid() == false){
	         return false;
	       }else{
		   		$scope.m.ScheduleSchool = $("#hdnJsonScheduleSchool").val();
		   		var jsonData = JSON.stringify($scope.m);
				$scope.msgSuccessEscolar = MeetingService.upsertSchoolarship(JSON.stringify($scope.m));
			}
	   }

	   $scope.InitSchool = function(){
	   if($scope.m.ScheduleSchool!=undefined&&$scope.m.ScheduleSchool!=null){
	   	$("#hdnJsonScheduleSchool").val($scope.m.ScheduleSchool);
	   	console.log("hdnJsonScheduleSchool-->"+$("#hdnJsonScheduleSchool").val());
	   }
	   	if($scope.m.SchoolBlock!=true){
	   		$scope.fillModel();
	   	}
	   		
	   		$scope.lstLevel=JSON.parse(MeetingService.allAcademicLevels());
	   		if($scope.m.SchoolDegreeId!=undefined&&$scope.m.SchoolDegreeId!=null){
	   			$scope.lstDegree=JSON.parse(MeetingService.gradesBySelectedDegree($scope.m.SchoolDegreeId));
	   			for(a in $scope.lstDegree){
	   				if($scope.lstDegree[a].Id==$scope.m.SchoolDegreeId){
	   					$scope.school.degree = $scope.lstDegree[a];
	   					break;
	   				}
	   			}
	   			for(b in $scope.lstLevel){
	   				if($scope.lstLevel[b].Id==$scope.school.degree.AcademicLevelId){
	   					$scope.school.level=$scope.lstLevel[b];
	   					break;
	   				}
	   			}
	   		}
	   		//alert("model "+ JSON.stringify($scope.m));
	   };
////////////////END historia escolar

////////para Leave country 
        $scope.Edocumento = {};
        $scope.ImmigrationDoc = {};
        $scope.ImmigrationDocId = {};

        $scope.specficationImmigranDoc = "";

        $scope.listImmigrationDoc = [];

	   	$scope.l={};
	   	$scope.l.oc={};
	   		
	   	$scope.l.fac={};

	   	$scope.l.rel={};

	   	$scope.l.cf={};

	   	$scope.documentosMigratoriosFill = function(){
	   	//alert("$scope.school.level=="+JSON.stringify($scope.school.level));
        $scope.listImmigrationDoc=JSON.parse(MeetingService.documentosMigratorios());
	   	};

	   	$scope.relacionPersonalAll = function(){
        $scope.listRel=JSON.parse(MeetingService.relacionPersonal());
	   	};


	   	$scope.saveLeaveCountry = function () {
		   	if($("#FormLeaveCountry").valid() == false){
		         return false;
		    }else{
	        	var jsonData = JSON.stringify($scope.m);
				$scope.msgSuccessLeaveCountry = MeetingService.upsertLeaveCountry(JSON.stringify($scope.m));
			}
	    };

	    $scope.InitLeaveCountry = function () {
	    console.log("InitLeaveCountry");
	    if($scope.m.OfficialDocumentationId==undefined){
	    	$scope.m.OfficialDocumentationId=2;
	    }
	    $scope.Edocumento = $scope.itemListById($scope.m.OfficialDocumentationId, $scope.listElection);

	    $scope.ImmigrationDoc = $scope.itemListById($scope.m.ImmigrationDocumentId, $scope.listImmigrationDoc);

	    console.log("$scope.ImmigrationDoc"+JSON.stringify($scope.ImmigrationDoc));
	    console.log("$scope.listImmigrationDoc"+JSON.stringify($scope.listImmigrationDoc));

	    if($scope.m.LivedCountryId==undefined){
	    	$scope.m.LivedCountryId=2;
	    }
	    $scope.l.oc = $scope.itemListById($scope.m.LivedCountryId, $scope.listElection);
	    $scope.l.country = $scope.itemListById($scope.m.CountryId, $scope.listCountry);
	    if($scope.m.FamilyAnotherCountryId==undefined){
	    	$scope.m.FamilyAnotherCountryId=2;
	    }
	    $scope.l.fac = $scope.itemListById($scope.m.FamilyAnotherCountryId, $scope.listElection);
	    if($scope.m.CommunicationFamilyId==undefined){
	    	$scope.m.CommunicationFamilyId=2;
	    }
	    $scope.l.cf = $scope.itemListById($scope.m.CommunicationFamilyId, $scope.listElection);
	    $scope.l.rel = $scope.itemListById($scope.m.RelationshipId, $scope.listRel);
	    };

///////////end Leave country

        $timeout(function () {
    		$scope.Iniciate();
		}, 0);


		$scope.Iniciate = function(){
		    try{
			    var js = JSON.parse($("#hdnJsonMtng").val());
			    $scope.m = js;
			    //alert("js valu>>"+$("#hdnJsonMtng").val());
			    //Birthplace iniciation
			    $scope.InitCountryPD();
			    //activities iniciation
			    $scope.InitActivities();
			    $scope.InitSchool();

			    $scope.InitLeaveCountry();
			     disponibilityHtml();
			     $scope.$apply();
		    }
		    catch(err){
		    	alert("error catched Iniciate angular function erro==>"+err.message);
		    }
		    $("#blocker").remove();
		};

    
    	
        $scope.save = function(){
		            $scope.Wait = true;
		//todos los key del json deben ser igual al modelo c
		//window.location.replace('hybrid:Meeting/AddMeeting?model=' + encodeURIComponent(jsonData));
		console.log("save meeting");
		var reslt = MeetingService.TerminateMeeting(JSON.stringify($scope.m));
		if(reslt != undefined && reslt != ""){
			var obj = JSON.parse(reslt);
            if(obj.groupMessage != undefined){
                for(var i=0; i < obj.groupMessage.length; i++){
                    var g1= obj.groupMessage[i];
                    $scope.listMsgError[g1.section]= $sce.trustAsHtml( g1.messages);
                }
            }
		}else{
			$scope.msgSuccessTotally = "total successs";
			$scope.cancel($("#hdnVerificationCaseId").val());
		}
		//TerminateMeeting
		$scope.Wait = false;
		$scope.askTerminatehide();
		};


//regresa la pantalla de seleccion de meeting
$scope.cancel = function(idCaso){
    $scope.saving = false;
//todos los key del json deben ser igual al modelo cs
window.location.replace('hybrid:Verification/IndexFuentes?idCase='+idCaso);
};


    $scope.itemListById = function(idObj, list){
    console.log("idObj="+idObj+" list[length]"+list.length);
    	if(idObj!=undefined&&idObj!=null){
		    for(x=0;x<list.length;x++){
		    	if(list[x].Id==idObj){
		    		console.log("idObj="+idObj+" list[x]"+list[x].Name);
		    		return list[x];
		    		break;
		    	}
		    }
		}
		return undefined;
	};

	$scope.showMessageError = function(elementClick){
        $("#divErrorMessage").show();
        var position = $(".tab-content").position();
        $("#divErrorMessage").css("left",position.left+5);
        $("#divErrorMessage").addClass("errorMessageClass");
        $scope.entityError=elementClick;
    };

    $scope.hideMessageError = function(){
        $("#divErrorMessage").hide();
    };

    $scope.addImputedHome = function(){
    	window.location.replace('hybrid:Meeting/MeetingDomicilio?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addPersonSocialNetwork = function(){
    	window.location.replace('hybrid:Meeting/PersonSocialNetwork?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addReference = function(){
    	window.location.replace('hybrid:Meeting/ReferenceMeeting?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addJob = function(){
    	window.location.replace('hybrid:Meeting/JobMeeting?idMeeting='+$scope.m.MeetingId);
    };

    $scope.addDrug = function(){
    	window.location.replace('hybrid:Meeting/DrugMeeting?idMeeting='+$scope.m.MeetingId);
    };

    $scope.askTerminateshow = function (){
		var dlgMsgBox = $('#MessageBoxDlgTerminateId');
		dlgMsgBox.show();
	};

	$scope.askTerminatehide = function (){
		var dlgMsgBox = $('#MessageBoxDlgTerminateId');
		dlgMsgBox.hide();
	};

});


console.log("here5");
</script>
<div id="generalDivForAngular" ng-app="umecaMobile" ng-controller="MeettingDatosPersonalesController">
    <div>
    <input id="hdnJsonMtng" type="hidden" value="@Model.JsonMeeting" name="jsonString" />
    </div>
<div id="blocker" class="blocker" >
    <div>
        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
    </div>
</div>

	<div id="divErrorMessage" class="alert alert-danger" style="display: none;">
        <button type="button" class="close" ng-click="hideMessageError();">
            <i class="icon-remove"></i>
        </button>
        <br/>
        <span ng-bind-html="listMsgError[entityError]"></span>
        <br/>
    </div>


    <!--Terminate ask-->
<div class="modal-dialog" style="display:none; width:60%; position: fixed;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="MessageBoxDlgTerminateId" >
        <div class="modal-content" style="z-index: 1000;">
            <div class="modal-header">
                <div class="alert alert-info">
                    <button id="MessageBoxDlgXclose" type="button" class="close" ng-click="askTerminatehide();">×</button>
                    <h4 class="modal-title element-center">Terminar entrevista</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="element-center">¿Está seguro que desea terminar la entrevista de riesgos procesales?</div>
            </div>
            <div class="modal-footer">
                <button id="MessageBoxDlgYes" type="button" class="btn btn-default btn-info" ng-click="save();" >Si</button>
                <button id="MessageBoxDlgNo" type="button" class="btn btn-default" ng-click="askTerminatehide();" >No</button>
            </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>




    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessTotally" class="alert alert-success element-center success-font">
            <span>{{msgSuccessTotally}}</span>
        </div>
    </div>
    <!-- EVAQLUATION HEADER  -->

    <div class="row">
        <br/>

        <h2 class="element-center"><i class="icon-edit "></i>&nbsp;&nbsp;Entrevista de verificaci&oacute;n</h2>
        </div>
        <br/>

        <div class="row">
            <div class="col-sm-3">
                <h3 class="header smaller lighter blue">
                    <small>Carpeta de investigaci&oacute;n:</small>
                    <!--&nbsp;${m.caseDetention.idFolder}-->
                    {{m.IdFolder}}
                </h3>
            </div>
            <div class="col-sm-8">
                <!--ng-init="i.name='${m.imputed.name}'; i.lastNameP='${m.imputed.lastNameP}'; i.lastNameM ='${m.imputed.lastNameM}';"-->
                <h3 class="header smaller lighter blue">
                    <small>Nombre del imputado:</small>
                    <!--&nbsp;&nbsp;{{i.name}} &nbsp; {{i.lastNameP}} &nbsp; {{i.lastNameM}}-->
                    &nbsp;&nbsp;{{m.Name}}  &nbsp; {{m.LastNameP}} &nbsp; {{m.LastNameM}}
                </h3>
            </div>
            <div class="col-sm-1">
                <h3 class="header smaller lighter blue">
                    <small>Edad:</small>
                    <!--&nbsp;${age}-->
                    {{m.ageString}}
                </h3>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <h3 class="header smaller lighter blue">
                    <small>Inicio:</small>
                    <!--&nbsp;${tStart}-->
                    @Model.DateCreate
                </h3>
            </div>
            <div class="col-sm-4">
                <h3 class="header smaller lighter blue">
                    <small>Fin:</small>
                    <!--&nbsp;${tEnd}-->
                    @Model.DateTerminate
                </h3>
            </div>
            <div class="col-sm-4">
                <h3 class="header smaller lighter blue">
                    <small>Evaluador:</small>
                    <!--&nbsp;${reviewerFullname}-->
                    Loged user full name
                </h3>
            </div>
        </div>
        <!-- END OF EVAQLUATION HEADER  -->

        <!--FUENTE DATA-->
        <div class="row">
    <div class="col-xs-12 widget-container-span">
        <div class="widget-box">
            <div class="widget-header widget-header-small header-color-dark">
                <h6 class="smaller">Detalles de la fuente</h6>
            </div>
            <div class="widget-body">
                <div class="widget-main">
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="col-xs-2 smaller lighter blue">
                                Nombre:
                            </div>
                            <div class="col-xs-10 ">
                                 @Model.SourceName
                            </div>
                        </div>
                        <div class="col-xs-5 col-xs-offset-1">
                            <div class="col-xs-2 smaller lighter blue">
                                Relaci&oacute;n:
                            </div>
                            <div class="col-xs-10 ">
                                @Model.SourceRelationshipString
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="col-xs-2 smaller lighter blue">
                                Edad:
                            </div>
                            <div class="col-xs-10 ">
                               @Model.SourceAge
                            </div>
                        </div>
                        <div class="col-xs-5 col-xs-offset-1">
                            <div class="col-xs-2 smaller lighter blue">
                                Tel&eacute;fono:
                            </div>
                            <div class="col-xs-10 ">
                                @Model.SourcePhone
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-10">
                            <div class="col-xs-1 smaller lighter blue">
                                Direcci&oacute;n:
                            </div>
                            <div class="col-xs-10">
                                @Model.SourceAddress
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<br/>
        <!--FUENTE DATA END-->

        <!-- LATERAL PAGER MENU -->
        <div class="row">
            <div class="col-sm-12">
                <div class="tabbable tabs-left"  id="sidebar" class="sidebar" >
                    <ul class="nav nav-tabs" id="tabMeeting">
                        <li class="active" id="liPersonalData">
                            <a data-toggle="tab" href="#personalData">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="purple glyphicon glyphicon-user bigger-200"></i>
                                        Datos personales
                                        <br/>

                                        <div class="col-xs-offset-3">y entorno social</div>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['personalData']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220  dropdown-toggle"
                                                ng-click="showMessageError('personalData');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>

                        <li id="liImputedHome">
                            <a data-toggle="tab" href="#address">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="green  icon-home  bigger-200"></i>
                                        Domicilios <br/>
                                        <label class="info-example">De los &uacute;ltimos 5 a&ntilde;os</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['imputedHome']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('imputedHome');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>

                        <li id="liSocialNetwork">
                            <a data-toggle="tab" href="#socialNetwork" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="blue icon-group bigger-200"></i>
                                        Red social <br/>
                                        <label class="info-example">Personas con las que vive</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['socialNetwork']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('socialNetwork');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liReference">
                            <a data-toggle="tab" href="#personalReferences" style="z-index: 1;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="red icon-list bigger-200"></i>
                                        Referencias personales <br/>
                                        <label class="info-example">Personas con las que no vive</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['reference']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('reference');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liJob">
                            <a data-toggle="tab" href="#jobHistory" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="pink icon-briefcase  bigger-200"></i>
                                        Historia laboral<br/>
                                        <label class="info-example">&Uacute;ltimos 3-5 empleos</label>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['job']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('job');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liSchool">
                            <a data-toggle="tab" href="#school" style="z-index: 1;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="orange icon-book  bigger-200"></i>
                                        Historia escolar
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['school']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('school');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liDrug">
                            <a data-toggle="tab" href="#drugsSection" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="green icon-warning-sign  bigger-200"></i>
                                        Consumo de sustancias
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['drug']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('drug');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="liLeaveCountry">
                            <a data-toggle="tab" href="#leaveCountry" style="z-index: 0;">
                                <div class="row">
                                    <div class="col-xs-10">
                                        <i class="blue icon-globe  bigger-200"></i>
                                        Facilidad de
                                        <br/>

                                        <div class="col-xs-offset-3">abandonar el pa&iacute;s</div>
                                    </div>
                                    <div class="col-xs-2" ng-show="listMsgError['leavingCountry']">
                                        <div class="tools">
                                            <div class="inline position-relative">
                                                <i class=" icon-exclamation-sign red  icon-only bigger-220"
                                                ng-click="showMessageError('leavingCountry');"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li id="collapser" class="sidebar-collapse">
                        	<i class="icon-double-angle-left"></i>
                        </li>
                    </ul>
					<script type="text/javascript">
						$(function(){  
							$("#collapser").on("click",function(){  
								
							});
						});
					</script>
                    <div class="tab-content">

                        <!-- END LATERAL PAGER MENU -->












                        <!-- CONTENT PAGE 1 Lateral pager  datos pers-->
                        <div id="personalData" class="tab-pane in active"><!--Begin of Datos Personales-->
                            <!-- include file="/WEB-INF/jsp/reviewer/meeting/personal/index.jsp" -->

                            <div class="col-xs-10 element-center col-xs-offset-1">
                                <h2><i class="purple glyphicon glyphicon-user bigger-100"></i> &nbsp;Datos personales y entorno social</h2>
                                <div ng-show="msgExito" class="alert alert-success element-center success-font">
                                    <span>{{msgExito}}</span>
                                </div>
                                <form id="FormPersonalData" name="FormPersonalData"
                                class="form-horizontal"
                                role="form">
                                <input type="hidden" value="@Model.IdFolder" name="caseDetention.id">

                                <div class="row element-left"  ng-show="readOnly == false">
                                    <div class="col-xs-12">

                                        &nbsp;&nbsp;&nbsp;&nbsp;
                                        <b>  Establecer toda la informaci&oacute;n de Datos personales y entorno social
                                            con:</b>
                                        </div>
                                        <div class="col-xs-10 col-xs-offset-1 text-info"  style="padding-top: 8px;">
                                            <i class="purple glyphicon glyphicon-user bigger-160"
                                            ng-click="showChoicesSection(1,undefined,1,'Datos personales<br/>  y entorno social')"  style="cursor: pointer;"></i>
                                            &nbsp;&nbsp;&nbsp;Informaci&oacute;n que proporcion&oacute; el imputado.
                                        </div>
                                        <div class="col-xs-10 col-xs-offset-1 text-info" style="padding-top: 8px;">
                                            <i class="blue icon-question-sign  icon-only bigger-160" style="cursor: pointer;"
                                            ng-click="showChoicesSection(1,undefined,-1,'Datos personales<br/> y entorno social')"></i>
                                            &nbsp;&nbsp;&nbsp;No se pudo verificar
                                        </div>
                                    </div>
                                    <div class="row"  ng-show="readOnly == false">
                                        <div col-xs-12>
                                            <div class="hr hr-8"></div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <br/>
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <div class="col-xs-5  element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.name')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.name" onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.name')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"
                                                    ng-click="showChoices('imputed.name')"
                                                    ng-show="selectSource"></i>
                                                    Nombre:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" type="text" ng-model="m.Name" 
                                                    name="imputed.name" data-val-required="El nombre es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 2 y m&aacute;ximo 50 caracteres"
                                                    data-val-length-max="50" data-val-length-min="2"/>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.name"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="col-xs-5  element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.lastNameP')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.lastNameP" onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.lastNameP')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"
                                                    ng-click="showChoices('imputed.lastNameP')"
                                                    ng-show="selectSource"></i>
                                                    Apellido<br/><div class="col-xs-2" ng-show="verification==true"></div>Paterno:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" type="text" ng-model="m.LastNameP" value="{{i.lastNameP}}"
                                                    name="imputed.lastNameP" data-val-required="El nombre es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 2 y m&aacute;ximo 50 caracteres"
                                                    data-val-length-max="50" data-val-length-min="2"/>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.lastNameP"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="col-xs-5  element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.lastNameM')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.lastNameM" onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.lastNameM')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"
                                                    ng-click="showChoices('imputed.lastNameM')"
                                                    ng-show="selectSource"></i>
                                                    Apellido<br/><div class="col-xs-2" ng-show="verification==true"></div>Materno:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" type="text" ng-model="m.LastNameM" value="{{i.lastNameM}}"
                                                    name="imputed.lastNameM" data-val-required="El nombre es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 2 y m&aacute;ximo 50 caracteres"
                                                    data-val-length-max="50" data-val-length-min="2"/>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.lastNameM"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="col-xs-6">
                                            <div class="row">
                                                <div class="col-xs-3 element-left">
                                                    <br/> <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.gender')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.gender" onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.gender')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource"  ng-click="showChoices('imputed.gender')"></i>
                                                    G&eacute;nero:
                                                </div>
                                                <div class="col-xs-9">
                                                    <div class="row" ng-init="m.Gender=m.Gender == null ? false: m.Gender">
                                                        <!-- -->
                                                        <div class="col-xs-6">
                                                            <div class="radio">
                                                                <label>
                                                                	<input type="text" name="imputed.genero"  id="verHdnGennder" style="display:none" />
                                                                    <input class="ace" type="radio" ng-checked="m.Gender==true" name="imputed.gender"
                                                                    data-val-required="El g?nero es un campo requerido" id="genero" value="true" ng-value="true	"
                                                                    ng-model="m.Gender" onmouseup="genderBend(true);" onselect="genderBend(true);">
                                                                    <span class="lbl">Femenino</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <div class="radio">
                                                                <label>
                                                                    <input class="ace" type="radio" value="false" ng-model="m.Gender" ng-value="false" ng-checked="m.Gender==false"
                                                                    name="imputed.gender" onmouseup="genderBend(false);" onselect="genderBend(false);">
                                                                    <span class="lbl">Masculino</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="row">
                                                <div class="col-xs-3 element-left">
                                                    <br/> <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.nickname')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.nickname" onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.nickname')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource"  ng-click="showChoices('imputed.nickname')"></i>
                                                    Apodo:
                                                </div>
                                                <div class="col-xs-7 col-xs-offset-2">
                                                    <input class="form-control" data-val-required="El apodo es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 100 caracteres"
                                                    data-val-length-max="100" data-val-length-min="1"
                                                    type="text" ng-model="m.Nickname" id="nickname"

                                                    name="imputed.nickname">
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.nickname"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="row" ng-show="verification==false">
                                                <div class="col-xs-5 element-left">
                                                    Fecha de nacimiento:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" id="birthDate" readonly="readonly" value="{{m.BirthDate}}" disabled="disabled">
                                                </div>
                                            </div>
                                            <div class="row" ng-show="verification == true || selectSource==true">
                                                <div class="col-xs-5 element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.birthDate')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.birthDate" onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.birthDate')"></i>
                                                    <i class="purple icon-list icon-only bigger-220" onclick="window.showChoices('imputed.birthDate')"
                                                    ng-show="selectSource"></i>
                                                    Fecha de nacimiento:
                                                </div>
                                                <div class="col-xs-7">
                                                    <div class="input-group">
                                                        <input class="form-control date-picker" id="dateBirthV"  type="text"  disabled="disabled"
                                                        data-date-format="yyyy/mm/dd" value="{{m.BirthDate}}" readonly="readonly"
                                                        name="imputed.birthDate" data-val-required="La fecha de nacimiento es un campo requerido"/>
                                                        <span class="input-group-addon">
                                                            <i class="icon-calendar bigger-110"></i>
                                                        </span>
                                                    </div>
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.birthDate"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <br/>

                                            <div class="row">
                                                <div class="col-xs-5 element-left">
                                                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.celPhone')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
                                                    ng-show="verification" code="imputed.celPhone"  onclick="SingleVerify.show(this);"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.celPhone')"></i>
                                                    <i class="purple icon-list icon-only bigger-220" ng-click="showChoices('imputed.celPhone')"
                                                    ng-show="selectSource"></i>
                                                    Celular:
                                                </div>
                                                <div class="col-xs-7">
                                                    <input class="form-control" data-val-required="El celular es un campo requerido"
                                                    data-val-length="Debe tener m&iacute;nimo 8 y m&aacute;ximo 20 caracteres"
                                                    data-val-length-max="20" data-val-length-min="8"
                                                    type="text" ng-model="m.CelPhone" id="celPhone"
                                                    ng-init=""
                                                    name="imputed.celPhone">
                                                    <span class="field-validation-valid" data-valmsg-for="imputed.celPhone"
                                                    data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-6">
                                            <div class="widget-box">
                                                <div class="widget-header row"
                                                ng-init="maritalStatus = (m.imputed.maritalStatus.id == null ? 1: m.imputed.maritalStatus.id)">
                                                <div class="col-xs-3">
                                                    <i class="icon-ok-circle green  icon-only bigger-220"  ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.maritalStatus.id')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="4" ng-show="verification"
                                                    code="imputed.maritalStatus.id"  onclick="MaritalStatusVerify.show(this);" ></i>
                                                    <i class="icon-ban-circle inverse icon-only bigger-1 220"  ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.maritalStatus.id')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" onclick="window.showChoices('imputed.maritalStatus.id')"></i>
                                                </div>

                                                <div class="col-xs-9 element-left">
                                                    <h5>Estado civil</h5>
                                                </div>

                                            </div>
                                            <div class="widget-body">
                                                <div class="row">
                                                    <div class="col-xs-6">
                                                        <div class="control-group">
                                                            <div class="radio element-left">
                                                                <label>
                                                                    <input name="M4r1t4lS" type="radio" class="ace" value="1"
                                                                    ng-model="m.MaritalStatusId" onclick="hideMaritalYears();" />
                                                                    <span class="lbl">Soltero</span>
                                                                </label>
                                                            </div>

                                                            <div class="radio element-left">
                                                                <label>
                                                                    <input name="M4r1t4lS" type="radio" class="ace"
                                                                    ng-model="m.MaritalStatusId"
                                                                    value="2" onclick="showMaritalYears();"/>
                                                                    <span class="lbl">Casado</span>

                                                                </label>
                                                            </div>
                                                        </div>

                                                        <div class="radio element-left">
                                                            <label>
                                                                <input name="M4r1t4lS" type="radio" class="ace" value="3"
                                                                ng-model="m.MaritalStatusId" onclick="hideMaritalYears();" />
                                                                <span class="lbl">Divorciado</span>
                                                            </label>
                                                        </div>

                                                        <div class="radio element-left">
                                                            <label>
                                                                <input name="M4r1t4lS" type="radio" class="ace" value="4"
                                                                ng-model="m.MaritalStatusId" onclick="showMaritalYears();" />
                                                                <span class="lbl">Uni&oacute;n libre</span>
                                                            </label>
                                                        </div>

                                                        <div class="radio element-left">
                                                            <label>
                                                                <input name="M4r1t4lS" type="radio" class="ace" value="5"
                                                                ng-model="m.MaritalStatusId" onclick="hideMaritalYears();" />
                                                                <span class="lbl">Viudo</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-5" ng-show="m.MaritalStatusId ==2 || m.MaritalStatusId == 4">
                                                        <div class="space-10"></div>
                                                        <div class="widget-main">
                                                            <input type="text" class="input-mini" id="spinnder1"
                                                            value="{{m.YearsMaritalStatus ==null ? '': m.YearsMaritalStatus}}"
                                                            name="aritalStatus" id="aritalStatus" data-val="true"
                                                            data-val-regex-pattern="([0-9]+)" ng-model="m.YearsMaritalStatus"
                                                            data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                                                            data-val-length-max="3" data-val-length-min="1"
                                                            data-val-required="El n&uacute;mero de a&ntilde;os es un campo requerido"
                                                            data-val-regex="La cantidad de a&ntilde;os s&oacute;lo pueden ser n&uacute;meros"/> A&ntilde;os
                                                            <br/>
                                                            <span class="field-validation-valid" data-valmsg-for="ritalStatus"
                                                            data-valmsg-replace="true"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>

                                <div class="col-xs-12">
                                    <div class="widget-box">
                                        <div class="widget-header">
                                            <div class="col-xs-3">
                                                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                onclick="askEqualsImp.show('imputed.boys')"></i>
                                                <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="3" ng-show="verification"
                                                code="imputed.boys"  onclick="SingleVerify.show(this);"></i>
                                                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                onclick="askDontKnow.show('imputed.boys')"></i>
                                                <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" onclick="window.showChoices('imputed.boys')"></i>
                                            </div>

                                            <div class="col-xs-9 element-left">
                                                <h5>Hijos</h5>
                                            </div>
                                        </div>
                                        <div class="widget-body">
                                            <br/>

                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="col-xs-1 align-left">
                                                        Total:
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <input type="text" class="form-control" name="imputed.boys" 
                                                        ng-model="m.Boys" value="${m.Boys == null ? '': m.Boys}"
                                                        data-val-regex-pattern="([0-9]+)"
                                                        data-val-required="El total de hijos es un campo requerido"
                                                        data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                                                        data-val-length-max="3" data-val-length-min="1"
                                                        data-val-regex="S&oacute;lo puede guardar n&uacute;meros" data-val="true"
                                                        id="imputed.boys"/>
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.boys"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-3 align-right">
                                                        Menores de 18 a&ntilde;os:
                                                    </div>
                                                    <div class="col-xs-5">
                                                        <input type="text" class="form-control" name="imputed.dependentBoys"
                                                        data-val-regex-pattern="([0-9]+)"
                                                        data-val-required="El n&uacute;mero de menores de 18 a&ntilde;os es un campo requerido"
                                                        data-val-regex="S&oacute;lo puede guardar n&uacute;meros" id="imputed.dependentBoys" data-val="true"
                                                        data-val-length="Debe tener m&iacute;nimo 1 y m&aacute;ximo 3 caracteres"
                                                        data-val-length-max="3" data-val-length-min="1"
                                                        value="${m.DependentBoys == null ? '': m.DependentBoys}"
                                                        ng-model="m.DependentBoys"/>
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.dependentBoys"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                        </div>
                                    </div>
                                </div>

                                <br/>

                                <div class="row">

                                </div>
                                <br/>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="widget-box">
                                            <div class="widget-header">
                                                <div class="col-xs-3" >
                                                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                                    onclick="askEqualsImp.show('imputed.birthCountry.id')"></i>
                                                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="5" ng-show="verification"
                                                    code="imputed.birthCountry.id" onclick="ImputedBirthPlaceVerify.show(this)"></i>
                                                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                                    onclick="askDontKnow.show('imputed.birthCountry.id')"></i>
                                                    <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('imputed.birthCountry.id')"></i>
                                                </div>
                                                <div class="col-xs-9 element-left">
                                                    <h4>Lugar de nacimiento</h4>
                                                </div>
                                            </div>

                                            <div class="widget-body">
                                                <br/>

                                                <div class="row" >
                                                    <div class="col-xs-2 element-left col-xs-offset-1">
                                                        Pa&iacute;s:
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <input type="hidden" ng-update-hiddenname="imputed.birthCountry.id"
                                                        id="country"
                                                        value="${m.BirthCountry == null ? '': m.BirthCountry}"
                                                        ng-model="m.BirthCountry" />
                                                        <select class="form-control element-center" ng-model="SeceltedCountry"  id="AdresBirth"
                                                        ng-options="e.Name for e in listCountry" value="{{SeceltedCountry['ID']}}"
                                                        ng-change="m.BirthCountry = SeceltedCountry['Id'];" ng-init='listCountry = @Model.JsonCountrys;'></select>
                                                   </div>
                                                    <div class="col-xs-2 element-right" ng-show="m.BirthCountry != 1">
                                                        Estado:
                                                    </div>
                                                    <div class="col-xs-3" ng-show="m.BirthCountry != 1">
                                                        <input class="form-control"
                                                        type="text" ng-model="m.BirthState" id="imputed.birthState"   data-val="true"
                                                        name="" data-val-required="El estado es un campo requerido" value="{{m.BirthState}}"
                                                        ng-init='' />
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthState"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-right" ng-show="m.BirthCountry == 1">
                                                        Estado:
                                                    </div>
                                                    <div class="col-xs-3" ng-show="m.BirthCountry == 1">
                                                        <select class="form-control element-center" ng-model="SeceltedEstate" value=""
                                                        ng-options="e.Name for e in listState" ng-init='listState = @Model.JsonStates'
                                                        ng-change="MunByEdo();"></select><br/>
                                                        <!--ng-options="e.name for e in listState" ng-init=''-->
                                                    </div>
                                                </div>
                                                <br/>

                                                <div class="row">
                                                    <div class="col-xs-2 element-left col-xs-offset-1"  ng-show="m.BirthCountry != 1">
                                                        Municipio:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry != 1">
                                                        <input class="form-control"
                                                        type="text" ng-model="m.BirthMunicipality" id="imputed.birthMunicipality"    data-val="true"
                                                        name="" data-val-required="El municipio es un campo requerido"
                                                        >
                                                        <span class="field-validation-valid" data-valmsg-for="m.BirthMunicipality"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-left col-xs-offset-1"  ng-show="m.BirthCountry == 1">
                                                        Municipio:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry == 1">
                                                        <input type="hidden" ng-model="urlMunicipality"
                                                        ng-init=''>
                                                        <select class="form-control element-center" ng-model="SeceltedMuni" 
                                                        ng-options="e.Name for e in listMunByEdo" 
                                                        ng-change="LocByMun();"></select><br/>

                                                    </div>
                                                    <div class="col-xs-2 element-right"  ng-show="m.BirthCountry != 1">
                                                        Localidad/Colonia:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry != 1">
                                                        <input class="form-control"
                                                        type="text" ng-model="m.BirthLocation" id="imputed.birthLocation"
                                                        name="" data-val-required="La localidad es un campo requerido"   data-val="true"
                                                        ng-init=''>
                                                        <span class="field-validation-valid" data-valmsg-for="imputed.birthLocation"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                    <div class="col-xs-2 element-right"  ng-show="m.BirthCountry == 1">
                                                        Localidad/Colonia:
                                                    </div>
                                                    <div class="col-xs-3"  ng-show="m.BirthCountry == 1">
                                                        <select class="form-control" ng-model="SeceltedLocation" change-cp 
                                                        ng-options="e.Name for e in listLocalidades" ng-init="listLocalidades = [];"
                                                        ng-change="locationDp();"></select>
                                                    </div>
                                                    <div class="col-xs-10 col-xs-offset-1" ng-show="m.BirthCountry == 1">
                                                        <input type="hidden" ng-model="m.LocationId" ng-update-hidden name="imputed.location.id"
                                                        data-val-required="La localidad es un campo requerido. Elija Estado y Municipio para desplegar la lista de localidades.">
                                                        <span class="field-validation-valid" data-valmsg-for="mputed.location.id"
                                                        data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>

                                <div class="row">
                                    <div class="col-xs-3 element-left">
                                        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                        onclick="askEqualsImp.show('socialEnvironment.physicalCondition')"></i>
                                        <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2" ng-show="verification"
                                        code="socialEnvironment.physicalCondition"  onclick="SingleVerify.show(this);"></i>
                                        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                        onclick="askDontKnow.show('socialEnvironment.physicalCondition')"></i>
                                        <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('socialEnvironment.physicalCondition')"></i>
                                        &iquest;Padece alguna enfermedad o condici&oacute;n f&iacute;sica?:             <br/>
                                        <label class="info-example">(tuberculosis, hepatitis, alergias, embarazo, tiempo de gestaci&oacute;n, lactancia, etc.)</label>
                                    </div>
                                    <div class="col-xs-9">
                                        <textarea class="form-control"
                                        data-val-required="Si padece alguna enfermedad o condici&oacute;n f&iacute;sica es un campo requerido"
                                        name="socialEnvironment.physicalCondition" ng-model="m.PhysicalCondition">{{m.PhysicalCondition}}</textarea>
                                        <span class="field-validation-valid" data-valmsg-for="socialEnvironment.physicalCondition"
                                        data-valmsg-replace="true"></span>
                                    </div>
                                </div>
                                <br/>

                                <div id="showId">
                                    <div class="row">
								        <div class="col-xs-3 element-left">
								            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
								               onclick="askEqualsImp.show('socialEnvironment.activities')"></i>
								            <i class="icon-remove-circle red  icon-only bigger-220" onclick="ImputedActivitiesVerify.show();" ng-show="verification"
								               code="socialEnvironment.activities"></i>
								            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
								               onclick="askDontKnow.show('socialEnvironment.activities')"></i>
								            <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('socialEnvironment.activities')"></i>
								            &iquest;Qu&eacute; actividades realiza?:  <br/>
								            <label class="info-example">(deportivas, educativas, voluntariado, etc.)</label>
								        </div>
								        <div class="col-xs-9 element-left">
								            <input name="activities" ng-model="activities" type="hidden" ng-update-hidden >
								            <select ng-model="activityModel" data-placeholder="..." id="ms"
								                    ng-init='lstActivity = @Model.JsonActivities;' ng-change="matchActivities();"
								                    id="slctActivity" style="width:450px;heigth: 100%;"
								                    ng-options="ac.name for ac in lstActivity" multiple >
								            </select>
								        </div>
								    </div>
                                <br/>

                                <div class="row">
							        <div ng-repeat="activity in activityModel">
							            <div ng-show="activity.specification==true">
							                <div class="col-xs-3">
							                    Especif&iacute;que actividades {{activity.name}}:
							                </div>
							                <div class="col-xs-9">
							                    <input class="form-control" data-val="true"
							                           data-val-length="Debe tener al menos 3 y m&aacute;ximo 255 caracteres"
							                           data-val-length-max="255" data-val-length-min="3"
							                           data-val-required="La especificaci&oacute;n de actividades {{activity.name}} es un campo requerido"
							                           type="text" value="" ng-model="specification[activity.name]"
							                           id="specification{{activity.name}}" name="specification{{activity.name}}"
							                           ng-change="matchActivities()"><br/>
							                <span class="field-validation-valid" data-valmsg-for="specification{{activity.name}}"
							                      data-valmsg-replace="true"></span>
							                    <br/>
							                </div>
							            </div>
							        </div>
							    </div>
                            </div>
                            <br/>
                            <script>
                                $('.date-picker').datepicker({autoclose: true, endDate: new Date()}).next().on(ace.click_event, function () {
                                    $(this).prev().focus();
                                });
                            </script>
                            <script src="${pageContext.request.contextPath}/assets/scripts/app/shared/dateTimePickerCursor.js"></script>

                        </form>
                    </div>
            </div><!--End of Datos Personales-->







            	

            <div id="address" class="tab-pane"><!-- Begin of Domicilios -->

<div class="row element-center">
    <div class="col-xs-12">
        <h2> <i class="green  icon-home  bigger-100"></i>&nbsp;Domicilios</h2>
        <br/>
        <div class="row">
		    <div class="col-xs-10 col-xs-offset-1 element-left">
		        <label class="text-primary">Observaciones: <b>{{m.CommentHome}}</b></label>
		    </div>
		</div>
	@{int i = 0;}
    @foreach(var Dmcl in Model.JsonDomicilios) {
    i++;
<div class="panel panel-default ng-scope">
    <div class="panel-heading">
        <h4 class="panel-title">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionImputedHome"
               href="#collapseImputedHome">
                <i class="icon-angle-down bigger-110" data-icon-hide="icon-angle-down"
                   data-icon-show="icon-angle-right"></i>
                Domicilio <span>@i</span>
            </a>
        </h4>
    </div>
    <div class="row">
	    <div class="col-xs-2 col-xs-offset-1 element-right">
	        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
	           onclick="askEqualsImp.show('imputedHomes.address',@Dmcl.Id);"></i>
	        <i class="icon-remove-circle red  icon-only bigger-220" level-child="6" ng-show="verification" onclick="ImputedHomeVerify.show(this);"
	           id-code="imputedHomes.address" id-element="@Dmcl.Id" id-element="@Dmcl.Id"></i>
	        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
	           onclick="askDontKnow.show('imputedHomes.address',@Dmcl.Id);"></i>
	        <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
	           ng-click="showChoices('imputedHomes.address',@Dmcl.Id)"></i>
	        Direcci&oacute;n
	    </div>
	    <div class="col-xs-9">
	        @Dmcl.addressString
	    </div>
	</div>
	<br />
	<div class="row" >
	    <div class="col-xs-3 element-right">
	        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
	           onclick="askEqualsImp.show('imputedHomes.phone',@Dmcl.Id);"></i>
	        <i class="icon-remove-circle red  icon-only bigger-220"  onclick="SingleVerify.show(this);" level-child="2"  ng-show="verification"
	           code="imputedHomes.phone" id-element="@Dmcl.Id"></i>
	        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
	           onclick="askDontKnow.show('imputedHomes.phone',@Dmcl.Id);"></i>
	        <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
	           ng-click="showChoices('imputedHomes.phone',@Dmcl.Id)"></i>
	        Tel&eacute;fono:
	    </div>
	    <div class="col-xs-8">
	        <textarea type="text" class="form-control width-100"  name="imputedHomes.phone"
	               id="phone" value=""
	               data-val="true"
	               data-val-length="Debe tener al menos 5 y m&aacute;ximo 200 caracteres"
	               data-val-length-max="200" data-val-length-min="5"
	               data-val-required="El tel&eacute;efono es un campo requerido">@Dmcl.Phone</textarea>
	         <span class="field-validation-valid" data-valmsg-for="phone"
	               data-valmsg-replace="true"></span>
	    </div>
	</div>
	<br/>

	<div>
	    <div class="row">
	        <div class="col-xs-3 element-right">
	            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
	               onclick="askEqualsImp.show('imputedHomes.homeType.id',@Dmcl.Id);"></i>
	            <i class="icon-remove-circle red  icon-only bigger-220"  onclick="SingleVerify.show(this);" level-child="3" ng-show="verification"
	               code="imputedHomes.homeType.id" id-element="@Dmcl.Id"></i>
	            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
	               onclick="askDontKnow.show('imputedHomes.homeType.id',@Dmcl.Id);"></i>
	            <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
	               ng-click="showChoices('imputedHomes.homeType.id',@Dmcl.Id)"></i>
	            Tipo de propiedad:
	        </div>
	        <div class="col-xs-3">
	            <select class="form-control element-center" name="imputedHomes.homeType.id" value="@Dmcl.HomeTypeId" onchange="singleVerifyhometype(this);">
@{switch(@Dmcl.HomeTypeId)
    {
        case 1:
                <option value="1">Propia</option><option value="2">Rentada</option><option value="3">Prestada</option><option value="4">Otro</option>
            break;
        case 2:
            <option value="2">Rentada</option><option value="3">Prestada</option><option value="4">Otro</option><option value="1">Propia</option>
            break;
        case 3:
       		<option value="3">Prestada</option><option value="4">Otro</option><option value="1">Propia</option><option value="2">Rentada</option>
        	break;
    	case 4:
       		<option value="4">Otro</option><option value="1">Propia</option><option value="2">Rentada</option><option value="3">Prestada</option>
        	break;
        default:
            <option value="1">Propia</option><option value="2">Rentada</option><option value="3">Prestada</option><option value="4">Otro</option>
            break;                   
    }
}
	            
	            </select>
	        </div>
	    </div>
	    @if(Dmcl.HomeTypeId==4){
	    <br/>
		    <div class="row"  id="hometypeSpecificationVerify" >
		        <div class="col-xs-3 element-right">
		            Especif&iacute;que tipo de propiedad:
		        </div>
		        <div class="col-xs-8">
		            <input type="text" class="form-control" name="imputedHomes.specification"
		                   data-val="true" value="@Dmcl.Specification"
		                   data-val-length="Debe tener al menos 1 y m&aacute;ximo 50 caracteres"
		                   data-val-length-max="50" data-val-length-min="1">
		         	<span class="field-validation-valid" data-valmsg-for="specification"
		               data-valmsg-replace="true"></span>
		        </div>
		    </div>
		}else{
		<br/>
		<div class="row"  id="hometypeSpecificationVerify" style="display:none;" >
	        <div class="col-xs-3 element-right">
	            Especif&iacute;que tipo de propiedad:
	        </div>
	        <div class="col-xs-8">
	            <input type="text" class="form-control" name="imputedHomes.specification"
	                   data-val="true" value="@Dmcl.Specification"
	                   data-val-length="Debe tener al menos 1 y m&aacute;ximo 50 caracteres"
	                   data-val-length-max="50" data-val-length-min="1"
	                   data-val-required="La especificaci&oacute;n del tipo de propiedad es un campo requerido">
	         	<span class="field-validation-valid" data-valmsg-for="specification"
	               data-valmsg-replace="true"></span>
	        </div>
	    </div>
		}
	</div>
	<br/>


<div>
    <div class="row">
        <div class="col-xs-3 element-right">
            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
               onclick="askEqualsImp.show('imputedHomes.registerType.id',@Dmcl.Id);"></i>
            <i class="icon-remove-circle red  icon-only bigger-220" level-child="3" ng-show="verification"
               code="imputedHomes.registerType.id"  id-element="@Dmcl.Id" onclick="SingleVerify.show(this);removeDisponibility ();"></i>
            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
               onclick="askDontKnow.show('imputedHomes.registerType.id',@Dmcl.Id);"></i>
            <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
               ng-click="showChoices('imputedHomes.registerType.id',@Dmcl.Id)"></i>
            Tipo de domiclio:
        </div>
        <div class="col-xs-3">
            <select class="form-control element-center"  value="" name="imputedHomes.registerType.id" onchange="singleVerifyregistertype(this);" >
@{switch(@Dmcl.RegisterTypeId)
    {
        case 1:
            <option value="1">Actual</option><option value="2">Secundario</option><option value="3">Anterior</option>
            break;
        case 2:
            <option value="2">Secundario</option><option value="1">Actual</option><option value="3">Anterior</option>
            break;
        case 3:
       		<option value="3">Anterior</option><option value="1">Actual</option><option value="2">Secundario</option>
        	break;
        default:
            <option value="1">Actual</option><option value="2">Secundario</option><option value="3">Anterior</option>
            break;                   
    }
}
            </select>
        </div>
    </div>
    <br/>

@{string e = "hide";}
@if(@Dmcl.RegisterTypeId==1||@Dmcl.RegisterTypeId==2){
e = "";
}else{
e="hide";
}
    <div class="row @e register1 register2" style="position:relative;" >
        <div class="widget-box col-xs-10">
            <div class="widget-header">
                <div class="row">
                    <h4>Domicilio</h4>
                </div>
            </div>
            <div class="widget-body">
                <br/>
                <div class="row">
                    <div class="col-xs-10 col-xs-offset-1">
                        <div class="row">
                            <div class="col-xs-3">
                                Tiempo de vivir en el domicilio:
                            </div>
                            <div class="col-xs-9">
                                <input class="form-control width-100" data-val="true"
                                       data-val-length="Debe tener al menos 1 y m&aacute;ximo 30 caracteres"
                                       data-val-length-max="30" data-val-length-min="1" name="imputedHomes.timeLive"
                                       data-val-required="El tiempo de residencia es un campo requerido"
                                       value="@Dmcl.TimeLive" type="text">
                                        <span class="field-validation-valid" data-valmsg-for="timeLive"
                                              data-valmsg-replace="true"></span>
                            </div>
                        </div>
                        <br/>

                        <div class="row">
                            <div class="col-xs-3">
                                Descripci&oacute;n de c&oacute;mo llegar al domicilio:<br/>
                                <label class="info-example">(color de casa, ruta, etc.)</label>
                            </div>
                            <div class="col-xs-9">
                                <textarea id="description" class="form-control width-100"
                                          name="imputedHomes.description"
                                          data-val="true"
                                          data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                                          data-val-length-max="500" data-val-length-min="1"
                                          data-val-required="La descripci&oacute;n es un campo requerido">@Dmcl.Description</textarea>
                                                        <span class="field-validation-valid"
                                                              data-valmsg-for="description"
                                                              data-valmsg-replace="true"></span>
                            </div>
                        </div>
                        <br/>
                        @if(@Dmcl.RegisterTypeId==2){
							e = "";
						}else{
							e= "hide";
						}
                        	<div class="row @e register2" >
                        	    <div class="col-xs-3">
                        	        Raz&oacute;n por la que tiene <br/>un domicilio secundario:
                        	    </div>
                        	    <div class="col-xs-9">
                        	        <textarea id="reasonSecondary" class="form-control" name="imputedHomes.reasonSecondary"
                        	                  data-val="true"
                        	                  data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                        	                  data-val-length-max="500" data-val-length-min="1"
                        	                  data-val-required="La raz&oacute;n es un campo requerido">@Dmcl.ReasonSecondary</textarea>
                        	        <br/>
                        	            <span class="field-validation-valid" data-valmsg-for="reasonSecondary"
                        	                  data-valmsg-replace="true"></span>
                        	    </div>
                        	</div>
                        <br/>
                        <div class="row registerDisponibilidad">
                            <div class="col-xs-12" >
                                <div class="widget-header header-color-blue">
                                    <h5 class="bigger lighter">
                                        <h6> &nbsp;
                                            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                               onclick="askEqualsImp.show('imputedHomes.schedule',@Dmcl.Id)"></i>
                                            <i class="icon-remove-circle red  icon-only bigger-220"  onclick="DisponibilidadVerify.show('imputedHomes.schedule',@Dmcl.Id);"
                                               ng-show="verification" id-code="imputedHomes.schedule"
                                                id-element="@Dmcl.Id"></i>
                                            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                               onclick="askDontKnow.show('imputedHomes.schedule',@Dmcl.Id)"></i>
                                            <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
                                               ng-click="showChoices('imputedHomes.schedule',@Dmcl.Id)"></i>
                                            <i class="icon-calendar "></i>Disponibilidad</h6>
                                    </h5>
                                </div>

                                <div class="widget-body">
                                    <div class="widget-main no-padding">
                                        <table class="table table-striped table-bordered table-hover">
                                            <thead class="thin-border-bottom">
                                            <tr>
                                                <th class="element-center">
                                                    D&iacute;a(s)
                                                </th>
                                                <th class="element-center">
                                                    Hora de inicio
                                                </th>
                                                <th class="element-center">
                                                    Hora de fin
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <div class="castable">
                                            @if(Dmcl.ScheduleList!=null){
	                                            foreach(var sche in Dmcl.ScheduleList) {
	                                            <tr>
	                                            	  <td class="col-xs-5">
												        @sche.Day
												      </td>
												      <td class="col-xs-2">
												       @sche.Start
												     </td>
												     <td class="col-xs-2">
												      @sche.End
												    </td>
												    </tr>
	                                            }
	                                        }
                                            </div>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div> <!--END of register 1 and 2-->
    <!--begin register type 3 -->
    @if(@Dmcl.RegisterTypeId==3){
		e = "";
	}else{
		e= "hide";
	}
    <div class="row @e register3" >
        <div class="col-xs-10">
            <div class="widget-box">
                <div class="widget-header">
                    <div class="row">
                        <h4 ng-show="verification ==true">Domicilio</h4>
                    </div>
                </div>
                <div class="widget-body">
                    <br/>
                    <div class="row">
                        <div class="col-xs-10 col-xs-offset-1">
                            <div class="row">
                                <div class="col-xs-3 element-left">
                                    Tiempo de residencia:
                                </div>
                                <div class="col-xs-9">
                                    <input class="form-control width-100" data-val="true"
                                           data-val-length="Debe tener al menos 1 y m&aacute;ximo 30 caracteres"
                                           data-val-length-max="30" data-val-length-min="1"
                                           data-val-required="El tiempo de residencia es un campo requerido"
                                           name="imputedHomes.timeLive"
                                           value="@Dmcl.TimeLive" type="text">
                                 <span class="field-validation-valid" data-valmsg-for="timeLive"
                                       data-valmsg-replace="true"></span>
                                </div>
                            </div>
                            <br/>
                            <div class="row element-left">
                                <div class="col-xs-3">
                                    Motivo de la mudanza:
                                </div>
                                <div class="col-xs-9">
                                    <textarea id="reasonChange" name="imputedHomes.reasonChange"
                                              class="form-control width-100"
                                              data-val="true"
                                              value="@Dmcl.ReasonChange"
                                              data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                                              data-val-length-max="500" data-val-length-min="1"
                                              data-val-required="La raz&oacute;n de cambio es un campo requerido">@Dmcl.ReasonChange</textarea>
                                <span class="field-validation-valid" data-valmsg-for="reasonChange"
                                      data-valmsg-replace="true"></span>
                                </div>
                            </div>
                            <br/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--end of register type 3--> 
</div>


</div>
    }<!--end for each de domicilios-->


    </div>
</div>
    <div class="col-xs-10 col-xs-offset-1">
        <div ng-show="msgSuccessDom" class="alert alert-success element-center success-font">
            <span>{{msgSuccessDom}}</span>
        </div>
    </div>
            </div><!--End of Domicilios -->











            <div id="socialNetwork" class="tab-pane"><!-- Begin of Red Social -->
<div class="row element-center">
        <h2> <i class="blue icon-group bigger-100"></i> &nbsp;Red social</h2>
        <br/>
        <div class="row">
		    <div class="col-xs-10 col-xs-offset-1 element-left">
		        <label class="text-primary">Observaciones: <b>@Model.CommentSocialNetwork</b></label>
		    </div>
		</div>
        <br/>
</div>
    @if(Model.JsonPersonSN==null){
    }
    else{
    	int prsnN = 0;
	    foreach(var Jpsn in Model.JsonPersonSN) {
	    	prsnN++;
<div class="panel panel-default ng-scope">
	<!--HEADER-->
    <div class="panel-heading">
        <h4 class="panel-title">
            <a>
                <i class="icon-angle-down bigger-110" data-icon-hide="icon-angle-down"
                   data-icon-show="icon-angle-right"></i>
                Red social (persona <span>@prsnN</span>)
            </a>
        </h4>
    </div>
    <!--HEADER END-->


    <!--ACORDEON CONTENT-->
<div>
    <input type="hidden" ng-model="p" ng-init="p=listSocialNetwork[$index]">
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.name',@Jpsn.Id)" ></i>
                <i class="icon-remove-circle red icon-only bigger-220" level-child="3" ng-show="verification" code="socialNetwork.name" id-element="@Jpsn.Id" onclick="SingleVerify.show(this);"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.name',@Jpsn.Id);"></i>
                Nombre:
            </div>
            <div class="col-xs-10">
                <input class="width-100" type="text"
                       data-val="true" data-val-length="Debe tener al menos 3 y m&aacute;ximo 150 caracteres"
                       data-val-length-max="150" data-val-length-min="3" data-val-required="El Nombre es un campo requerido"
                       name="socialNetwork.name" id="name" ng-init="name = p.name" value="@Jpsn.Name">
                <span class="field-validation-valid" data-valmsg-for="name" data-valmsg-replace="true"></span>
            </div>
        </div>

    </div>
    <br/>
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.relationship.id',@Jpsn.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="3" ng-show="verification" code="socialNetwork.relationship.id" id-element="@Jpsn.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.relationship.id',@Jpsn.Id);"></i>
                Relaci&oacute;n:
            </div>
            <div class="col-xs-8">
                <input type="hidden" ng-model="p.relId" ng-update-hidden name="socialNetwork.relationship.id">
                <select class="form-control element-center" name="socialNetwork.relationship.id" value="@Jpsn.RelationshipId" onchange="enableBySelectOptionUniqueSnglVrf(this,19,'parenting');" >
                    
                        @foreach(var rela in Model.ListaDeRelaciones){
	                        if(@Jpsn.RelationshipId==@rela.Id){
	                        	<option value="@rela.Id" selected="selected" >@rela.Name</option>
	                        }else{
	                         	<option value="@rela.Id">@rela.Name</option>
	                        }
                        }
                        </select>
                <span class="field-validation-valid" data-valmsg-for="lastName1" data-valmsg-replace="true"></span>
            </div>
        </div>
        @{string c = "hide";}
             	@if(@Jpsn.RelationshipId!=null&&@Jpsn.RelationshipId==19){
					c = "";
				}else{
					c= "ng-hide";
				} 
        <div class="hidenStart parenting col-xs-6 @c" ng-show="p.rel.specification == true">
            <div class="col-xs-4 element-left">
                Especif&iacute;que<br/>relaci&oacute;n:
            </div>
            <div class="col-xs-8">
                <input class="hidenStart parenting form-control @c" data-val="true" value="@Jpsn.specificationRelationship"
                       data-val-length="Debe tener al menos 2 y m&aacute;ximo 255 caracteres"
                       data-val-length-max="255" data-val-length-min="2" 
                       data-val-required="La especificaci&oacute;n es un campo requerido"
                       type="text" ng-model="p.specificationRelationship"
                       id="specificationRelationship" name="socialNetwork.specificationRelationship">
            </div>
            <div class="col-xs-9 col-xs-offset-3">
                <span class="field-validation-valid" data-valmsg-for="specificationRelationship" data-valmsg-replace="true"></span>
            </div>

        </div>
    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.phone',@Jpsn.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="socialNetwork.phone" id-element="@Jpsn.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.phone',@Jpsn.Id);"></i>
                Tel&eacute;fono:
            </div>
            <div class="col-xs-10">
                <textarea class="form-control width-100" type="text" value="@Jpsn.Phone"
                          data-val="true" data-val-length="Debe tener al menos 5 y m&aacute;ximo 200 caracteres"
                          data-val-length-max="200" data-val-length-min="5" data-val-required="El tel&eacute;fono es un campo requerido"
                          name="socialNetwork.phone" id="phone" >@Jpsn.Phone</textarea>
                <span class="field-validation-valid" data-valmsg-for="phone" data-valmsg-replace="true"></span>
            </div>
        </div>

    </div>
    <br/>
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.documentType.id',@Jpsn.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="socialNetwork.documentType.id" id-element="@Jpsn.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.documentType.id',@Jpsn.Id);"></i>
                Identificaci&oacute;n prensentada:
            </div>
            <div class="col-xs-8">
                <select class="form-control element-center" name="socialNetwork.documentType.id"  onchange="enableBySelectOptionUniqueSnglVrf(this,9,'specDocu');"
                 value="@Jpsn.DocumentTypeId" >
                  @foreach(var docuTyp in Model.ListaDeIdentificaciones){
                        if(@Jpsn.DocumentTypeId==@docuTyp.Id){
                        <option value="@docuTyp.Id" selected="selected" >@docuTyp.Name</option>
                        }else{
                         <option value="@docuTyp.Id">@docuTyp.Name</option>
                        }
                        }
                 </select>
                <br/>
            </div>
             	@if(@Jpsn.DocumentTypeId!=0&&@Jpsn.DocumentTypeId==9){
					c = "";
				}else{
					c= "ng-hide";
				} 
                    <div class="hidenStart specDocu col-xs-4 @c element-left">
                        Especif&iacute;que:
                    </div>
                    <div class="hidenStart specDocu col-xs-8 @c" >
                        <input class="specDocu form-control" data-val="true" data-val-length="Debe tener al menos 2 y m&aacute;ximo 255 caracteres" 
                        	   value="@Jpsn.SpecificationDocumentType"
                               data-val-length-max="255" data-val-length-min="2" data-val-required="La especificaci&oacute;n es un campo requerido"
                               type="text" id="specification" name="socialNetwork.specification">
                        <span class="field-validation-valid" data-valmsg-for="specification" data-valmsg-replace="true"></span>
                    </div>
        </div>
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.age',@Jpsn.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="socialNetwork.age" id-element="@Jpsn.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.age',@Jpsn.Id);"></i>
                <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('socialNetwork.age',@Jpsn.Id)"></i>
                Edad:
            </div>
            <div class="col-xs-8">
                <input class="width-100" data-val="true" data-val-length="Debe tener al menos 1 y m&aacute;ximo 2 n&uacute;mero"
                       data-val-regex-pattern="([0-9]+)" data-val-regex="La edad s&oacute;lo puede contener n&uacute;meros"
                       data-val-length-max="2" data-val-length-min="1" data-val-required="La edad es un campo requerido"
                       type="text" name="socialNetwork.age" ng-init="age = p.age" value="@Jpsn.Age">
                <span class="field-validation-valid" data-valmsg-for="age" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>

    <br/>
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.livingWith.id',@Jpsn.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="socialNetwork.livingWith.id" id-element="@Jpsn.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.livingWith.id',@Jpsn.Id);"></i>
                <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('socialNetwork.livingWith.id',@Jpsn.Id)"></i>
                Vive con el:
            </div>
            <div class="col-xs-8">
                <select class="form-control element-center" value="@Jpsn.LivingWithIde" name="socialNetwork.livingWith.id"
                onchange="enableBySelectOptionUniqueSnglVrf(this,2,'viviendoCon');" >
                        @foreach(var ele in @Model.ListaDeElection){
	                        if(@Jpsn.LivingWithIde==@ele.Id){
	                        	<option value="@ele.Id" selected="selected" >@ele.Name</option>
	                        }else{
	                         	<option value="@ele.Id">@ele.Name</option>
	                        }
                        }
                        </select>
                <span class="field-validation-valid" data-valmsg-for="lastName1" data-valmsg-replace="true"></span>
                <br/>
            </div>
            @if(@Jpsn.LivingWithIde!=null&&@Jpsn.LivingWithIde==2){
					c = "";
				}else{
					c= "ng-hide";
				} 
                    <div class="hidenStart viviendoCon col-xs-4 element-left @c" >Direcci&oacute;n:</div>
                    <div class="hidenStart viviendoCon col-xs-8 @c" >
                        <textarea id="address" class="viviendoCon form-control"  name="socialNetwork.address"
                                  data-val="true" data-val-required="La direcci&oacute;n es un campo requerido"
                                  data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres" value="@Jpsn.Address"
                                  data-val-length-max="500" data-val-length-min="6">@Jpsn.Address</textarea>
                        <span class="field-validation-valid" data-valmsg-for="address" data-valmsg-replace="true"></span>
                    </div>
        </div>
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('socialNetwork.dependent.id',@Jpsn.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="socialNetwork.dependent.id" id-element="@Jpsn.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('socialNetwork.dependent.id',@Jpsn.Id);"></i>
                <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('socialNetwork.dependent.id',@Jpsn.Id)"></i>
                Dependiente econ&oacute;mico:
            </div>
            <div class="col-xs-8">
                <select class="form-control width-100 element-center" name="socialNetwork.dependent.id" >
                        @foreach(var ele in Model.ListaDeElection){
	                        if(@Jpsn.DependentId==@ele.Id){
	                        	<option value="@ele.Id" selected="selected" >@ele.Name</option>
	                        }else{
	                         	<option value="@ele.Id">@ele.Name</option>
	                        }
                        }
                        </select>
            </div>
        </div>
    </div>
    <br/>
</div>
    <!--ACORDEON CONTENT END-->
</div>
	    }
    }
            </div><!--End of Red Social -->













            <div id="personalReferences" class="tab-pane"><!-- Begin of Referencias -->
<div class="row element-center">
        <h2><i class="red icon-list bigger-100"></i> &nbsp;Referencias personales</h2>
        <br/>
        <div class="row">
		    <div class="col-xs-10 col-xs-offset-1 element-left">
		        <label class="text-primary">Observaciones: <b>@Model.CommentReference</b></label>
		    </div>
		</div>
        <br/>
</div>
    @if(Model.JsonReferences==null){
    }
    else{
    	int pRfr = 0;
	    foreach(var Jrfr in Model.JsonReferences) {
	    	pRfr++;
<div class="panel panel-default ng-scope">
	<!--HEADER-->
    <div class="panel-heading">
        <h4 class="panel-title">
            <a>
                <i class="icon-angle-down bigger-110" data-icon-hide="icon-angle-down"
                   data-icon-show="icon-angle-right"></i>
                Referencia personal <span>@pRfr</span>
            </a>
        </h4>
    </div>
    <br />
    <!--HEADER END-->


    <!--ACORDEON CONTENT-->
<div>
    <input type="hidden" ng-model="p" ng-init="p=listSocialNetwork[$index]">
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('references.fullName',@Jrfr.Id)" ></i>
                <i class="icon-remove-circle red icon-only bigger-220" level-child="3" ng-show="verification" code="references.fullName" id-element="@Jrfr.Id" onclick="SingleVerify.show(this);"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('references.fullName',@Jrfr.Id);"></i>
                Nombre:
            </div>
            <div class="col-xs-10">
                <input class="width-100" type="text"
                       data-val="true" data-val-length="Debe tener al menos 3 y m&aacute;ximo 150 caracteres"
                       data-val-length-max="150" data-val-length-min="3" data-val-required="El Nombre es un campo requerido"
                       name="references.fullName" id="name" ng-init="name = p.name" value="@Jrfr.FullName">
                <span class="field-validation-valid" data-valmsg-for="name" data-valmsg-replace="true"></span>
            </div>
        </div>

    </div>
    <br/>
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('references.relationship.id',@Jrfr.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="3" ng-show="verification" code="references.relationship.id" id-element="@Jrfr.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('references.relationship.id',@Jrfr.Id);"></i>
                Relaci&oacute;n:
            </div>
            <div class="col-xs-8">
                <select class="form-control element-center" value="@Jrfr.RelationshipId" 
                        onchange="enableBySelectOptionUniqueSnglVrf(this,19,'parenting');" 
                        name="references.relationship.id">
          
                        @foreach(var rela in Model.ListaDeRelaciones){
	                        if(@Jrfr.RelationshipId==@rela.Id){
	                        	<option value="@rela.Id" selected="selected" >@rela.Name</option>
	                        }else{
	                         	<option value="@rela.Id">@rela.Name</option>
	                        }
                        }
                        </select>
                <span class="field-validation-valid" data-valmsg-for="lastName1" data-valmsg-replace="true"></span>
            </div>
        </div>
        @{string c = "hide";}
             	@if(@Jrfr.RelationshipId!=null&&@Jrfr.RelationshipId==19){
					c = "";
				}else{
					c= "ng-hide";
				} 
        <div class="hidenStart parenting col-xs-6 @c" ng-show="p.rel.specification == true">
            <div class="col-xs-4 element-left">
                Especif&iacute;que<br/>relaci&oacute;n:
            </div>
            <div class="col-xs-8">
                <input class="hidenStart parenting form-control @c" data-val="true" value="@Jrfr.SpecificationRelationship"
                       data-val-length="Debe tener al menos 2 y m&aacute;ximo 255 caracteres"
                       data-val-length-max="255" data-val-length-min="2" 
                       data-val-required="La especificaci&oacute;n es un campo requerido"
                       type="text" ng-model="p.specificationRelationship"
                       id="specificationRelationship" name="references.specificationRelationship">
            </div>
            <div class="col-xs-9 col-xs-offset-3">
                <span class="field-validation-valid" data-valmsg-for="specificationRelationship" data-valmsg-replace="true"></span>
            </div>

        </div>
    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('references.phone',@Jrfr.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="references.phone" id-element="@Jrfr.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('references.phone',@Jrfr.Id);"></i>
                Tel&eacute;fono:
            </div>
            <div class="col-xs-10">
                <textarea class="form-control width-100" type="text" value="@Jrfr.Phone"
                          data-val="true" data-val-length="Debe tener al menos 5 y m&aacute;ximo 200 caracteres"
                          data-val-length-max="200" data-val-length-min="5" data-val-required="El tel&eacute;fono es un campo requerido"
                          name="references.phone" id="phone" >@Jrfr.Phone</textarea>
                <span class="field-validation-valid" data-valmsg-for="phone" data-valmsg-replace="true"></span>
            </div>
        </div>

    </div>
    <br/>
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('references.documentType.id',@Jrfr.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="references.documentType.id" id-element="@Jrfr.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('references.documentType.id',@Jrfr.Id);"></i>
                Identificaci&oacute;n prensentada:
            </div>
            <div class="col-xs-8">
                <select class="form-control element-center" name="references.documentType.id"  onchange="enableBySelectOptionUniqueSnglVrf(this,9,'specDocu');"
                 value="@Jrfr.DocumentTypeId" >
                  @foreach(var docuTyp in Model.ListaDeIdentificaciones){
                        if(@Jrfr.DocumentTypeId==@docuTyp.Id){
                        <option value="@docuTyp.Id" selected="selected" >@docuTyp.Name</option>
                        }else{
                         <option value="@docuTyp.Id">@docuTyp.Name</option>
                        }
                        }
                 </select>
                <br/>
            </div>
             	@if(@Jrfr.DocumentTypeId!=0&&@Jrfr.DocumentTypeId==9){
					c = "";
				}else{
					c= "ng-hide";
				} 
                    <div class="hidenStart specDocu col-xs-4 @c element-left">
                        Especif&iacute;que:
                    </div>
                    <div class="hidenStart specDocu col-xs-8 @c" >
                        <input class="specDocu form-control" data-val="true" data-val-length="Debe tener al menos 2 y m&aacute;ximo 255 caracteres" 
                        	   value="@Jrfr.SpecificationDocumentType"
                               data-val-length-max="255" data-val-length-min="2" data-val-required="La especificaci&oacute;n es un campo requerido"
                               type="text" id="specification" name="references.specification">
                        <span class="field-validation-valid" data-valmsg-for="specification" data-valmsg-replace="true"></span>
                    </div>
        </div>
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('references.age',@Jrfr.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="references.age" id-element="@Jrfr.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('references.age',@Jrfr.Id);"></i>
                <i class="purple icon-list icon-only bigger-220"   ng-show="selectSource" ng-click="showChoices('references.age',@Jrfr.Id)"></i>
                Edad:
            </div>
            <div class="col-xs-8">
                <input class="width-100" data-val="true" data-val-length="Debe tener al menos 1 y m&aacute;ximo 2 n&uacute;mero"
                       data-val-regex-pattern="([0-9]+)" data-val-regex="La edad s&oacute;lo puede contener n&uacute;meros"
                       data-val-length-max="2" data-val-length-min="1" data-val-required="La edad es un campo requerido"
                       type="text" name="references.age" ng-init="age = p.age" value="@Jrfr.Age">
                <span class="field-validation-valid" data-valmsg-for="age" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>

    <br/>
    <div class="row">
        <div class="col-xs-12"> 
                    <div class="viviendoCon col-xs-4 element-left" >
                        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('references.address',@Jrfr.Id);"></i>
                        <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="references.address" id-element="@Jrfr.Id"></i>
                        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('references.address',@Jrfr.Id);"></i>
                    Direcci&oacute;n:</div>
                    <div class="viviendoCon col-xs-8" >
                        <textarea id="address" class="viviendoCon form-control"  name="references.address"
                                  data-val="true" data-val-required="La direcci&oacute;n es un campo requerido"
                                  data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres" value="@Jrfr.Address"
                                  data-val-length-max="500" data-val-length-min="6">@Jrfr.Address<</textarea>
                        <span class="field-validation-valid" data-valmsg-for="address" data-valmsg-replace="true"></span>
                    </div>
        </div>
    </div>
    <br/>

</div>
    <!--ACORDEON CONTENT END-->
</div>
	    }
    }
            </div><!--End of Referencias  -->















            <div id="jobHistory" class="tab-pane"><!-- Begin of Historial laboral -->
<div class="row element-center">
 <div class="col-xs-10">
                                       <br/>
                                        <label class="info-example">&Uacute;ltimos 3-5 empleos</label>
                                    </div>
        <h2><i class="pink icon-briefcase  bigger-100"></i>Historia laboral</h2>
        <br/>
        <div class="row">
		    <div class="col-xs-10 col-xs-offset-1 element-left">
		        <label class="text-primary">Observaciones: <b>@Model.CommentJob</b></label>
		    </div>
		</div>
        <br/>
</div>
    @if(Model.JsonJobs==null){
    }
    else{
    	int pJob = 0;
	    foreach(var Jjob in Model.JsonJobs) {
	    	pJob++;
<div class="panel panel-default ng-scope">
	<!--HEADER-->
    <div class="panel-heading">
        <h4 class="panel-title">
            <a>
                <i class="icon-angle-down bigger-110" data-icon-hide="icon-angle-down"
                   data-icon-show="icon-angle-right"></i>
                Referencia personal <span>@pJob</span>
            </a>
        </h4>
    </div>
    <br />
    <!--HEADER END-->


    <!--ACORDEON CONTENT-->
<div>
    <input type="hidden" ng-model="p" ng-init="p=listSocialNetwork[$index]">
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('jobs.company',@Jjob.Id)" ></i>
                <i class="icon-remove-circle red icon-only bigger-220" level-child="3" ng-show="verification" code="jobs.company" id-element="@Jjob.Id" onclick="SingleVerify.show(this);"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('jobs.company',@Jjob.Id);"></i>
                Empresa:
            </div>
            <div class="col-xs-10">
                <input class="width-100" type="text"
                       data-val="true" data-val-length="Debe tener al menos 3 y m&aacute;ximo 150 caracteres"
                       data-val-length-max="150" data-val-length-min="3" data-val-required="El Nombre es un campo requerido"
                       name="jobs.company" id="name" value="@Jjob.Company">
                <span class="field-validation-valid" data-valmsg-for="name" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('jobs.post',@Jjob.Id)" ></i>
                <i class="icon-remove-circle red icon-only bigger-220" level-child="3" ng-show="verification" code="jobs.post" id-element="@Jjob.Id" onclick="SingleVerify.show(this);"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('jobs.post',@Jjob.Id);"></i>
                Puesto:
            </div>
            <div class="col-xs-10">
                <input class="width-100" type="text"
                       data-val="true" data-val-length="Debe tener al menos 3 y m&aacute;ximo 150 caracteres"
                       data-val-length-max="150" data-val-length-min="3" data-val-required="El Nombre es un campo requerido"
                       name="jobs.post" id="name" ng-init="name = p.name" value="@Jjob.Post">
                <span class="field-validation-valid" data-valmsg-for="name" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('jobs.phone',@Jjob.Id)" ></i>
                <i class="icon-remove-circle red icon-only bigger-220" level-child="3" ng-show="verification" code="jobs.phone" id-element="@Jjob.Id" onclick="SingleVerify.show(this);"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('jobs.phone',@Jjob.Id);"></i>
                Tel&eacute;fono:
            </div>
            <div class="col-xs-10">
                <input class="width-100" type="text"
                       data-val="true" data-val-length="Debe tener al menos 3 y m&aacute;ximo 150 caracteres"
                       data-val-length-max="150" data-val-length-min="3" data-val-required="El Nombre es un campo requerido"
                       name="jobs.phone" id="name" ng-init="name = p.name" value="@Jjob.Phone">
                <span class="field-validation-valid" data-valmsg-for="name" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('jobs.nameHead',@Jjob.Id)" ></i>
                <i class="icon-remove-circle red icon-only bigger-220" level-child="3" ng-show="verification" code="jobs.nameHead" id-element="@Jjob.Id" onclick="SingleVerify.show(this);"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('jobs.nameHead',@Jjob.Id);"></i>
                Nombre del patr&oacute;n:
            </div>
            <div class="col-xs-10">
                <input class="width-100" type="text"
                       data-val="true" data-val-length="Debe tener al menos 3 y m&aacute;ximo 150 caracteres"
                       data-val-length-max="150" data-val-length-min="3" data-val-required="El Nombre es un campo requerido"
                       name="jobs.nameHead" id="name" ng-init="name = p.name" value="@Jjob.NameHead">
                <span class="field-validation-valid" data-valmsg-for="name" data-valmsg-replace="true"></span>
            </div>
        </div>

    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-12">
            <div class="col-xs-2 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('jobs.address',@Jjob.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="jobs.address" id-element="@Jjob.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('jobs.address',@Jjob.Id);"></i>
                Direcci&oacute;n:
            </div>
            <div class="col-xs-10">
                <textarea class="form-control width-100" type="text" value="@Jjob.Phone"
                          data-val="true" data-val-length="Debe tener al menos 5 y m&aacute;ximo 200 caracteres"
                          data-val-length-max="200" data-val-length-min="5" data-val-required="El tel&eacute;fono es un campo requerido"
                          name="jobs.address" id="phone" >@Jjob.Address</textarea>
                <span class="field-validation-valid" data-valmsg-for="phone" data-valmsg-replace="true"></span>
            </div>
        </div>

    </div>
    <br/>
    
    <!--intento de gitget-->


    <div>
    <div class="row">
        <div class="col-xs-3 element-right">
            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
               onclick="askEqualsImp.show('jobs.registerType.id',@Jjob.Id);"></i>
            <i class="icon-remove-circle red  icon-only bigger-220" level-child="3" ng-show="verification"
               code="jobs.registerType.id"  id-element="@Jjob.Id" onclick="SingleVerify.show(this);removeDisponibility ();"></i>
            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
               onclick="askDontKnow.show('jobs.registerType.id',@Jjob.Id);"></i>
            Tipo de empleo:
        </div>
        <div class="col-xs-3">
            <select class="form-control element-center"  value="" name="jobs.registerType.id" onchange="enableBySelectOptionGroupSnglVrf(this,'1-2','activeJob');enableBySelectOptionUniqueSnglVrf(this,3,'unactiveJob');" value="@Jjob.RegisterTypeId">
                      @foreach(var regisTyp in Model.ListaDeRegisterType){
                        if(@Jjob.RegisterTypeId==@regisTyp.Id){
                          <option value="@regisTyp.Id" selected="selected" >@regisTyp.Name</option>
                        }else{
                          <option value="@regisTyp.Id">@regisTyp.Name</option>
                        }
                      }
            </select>
        </div>
    </div>
    <br/>

    <div class="row" >
        <div class="widget-box col-xs-10">
            <div class="widget-header">
                <div class="row">
                    <h4>Trabajo</h4>
                </div>
            </div>
            <div class="widget-body">
                <br/>
                <div class="row">
                    <div class="col-xs-12" >
                        <div class="row">
                          <div class="col-xs-12">
                              <div class="row widget-main">
                                  @{string hlaboral = "hide";}
                                  @if(@Jjob.RegisterTypeId==1||@Jjob.RegisterTypeId==2){
                                  hlaboral = "";
                                  }else{
                                  hlaboral = "ng-hide";
                                  }
                                  <div class="hidenStart activeJob @hlaboral col-xs-2">
                                      Fecha Inicio:
                                  </div>
                                  <div class="hidenStart activeJob @hlaboral col-xs-4">
                                      <div class="input-group">
                                          <input class="hidenStart activeJob @hlaboral form-control date-picker" id="jdpStart" type="text"
                                                 readonly="readonly"
                                                 data-date-format="yyyy/mm/dd" value="@Jjob.Start"
                                                 data-val="true" data-val-required="La fecha de inicio es un campo requerido"
                                                 name="jobs.start"/> <span class="input-group-addon">
                                          <i class="icon-calendar bigger-110"></i>
                                        </span>
                                      </div>
                                  </div>
                                  <div class="hidenStart activeJob @hlaboral col-xs-2">
                                      Salario semanal:
                                  </div>
                                  <div class="hidenStart activeJob @hlaboral col-xs-4">
                                      <input class="hidenStart activeJob @hlaboral form-control" data-val="true"
                                         data-val-length="Debe tener al menos 6 y m&aacute;ximo 150 caracteres" disabled="true"
                                         data-val-length-max="150" data-val-length-min="6"
                                         data-val-required="El nombre del patr&oacute;n es un campo requerido"
                                         type="text" value="@Jjob.SalaryWeek"
                                         name="jobs.salaryWeek" id="nameHead">
                                  </div>
                                  <div class="hidenStart activeJob @hlaboral col-xs-10 col-xs-offset-1">
                                      <span class="field-validation-valid" data-valmsg-for="jobs.salaryWeek" data-valmsg-replace="true"></span>
                                  </div>
                                  <br/>
                                  @if(@Jjob.RegisterTypeId==3){
                                      hlaboral = "";
                                  }else{
                                      hlaboral = "ng-hide";
                                  }
                                  <div class="hidenStart unactiveJob @hlaboral col-xs-2">
                                      Fecha Inicio:
                                  </div>
                                  <div class="hidenStart unactiveJob @hlaboral col-xs-4">
                                      <div class="input-group">
                                          <input class="hidenStart unactiveJob @hlaboral form-control date-picker" id="jdpStart" type="text"
                                                 readonly="readonly"
                                                 data-date-format="yyyy/mm/dd" value="@Jjob.StartPrev"
                                                 data-val="true" data-val-required="La fecha de inicio es un campo requerido"
                                                 name="jobs.start"/> <span class="input-group-addon">
                                          <i class="icon-calendar bigger-110"></i>
                                        </span>
                                      </div>
                                  </div>
                                  <div class="hidenStart unactiveJob @hlaboral col-xs-2">
                                      Fecha Fin:
                                  </div>
                                  <div class="hidenStart unactiveJob @hlaboral col-xs-4">
                                      <div class="input-group">
                                          <input class="hidenStart unactiveJob @hlaboral form-control date-picker" id="jdbEnd" type="text"
                                                 data-date-format="yyyy/mm/dd" value="@Jjob.End" readonly="readonly"
                                                 data-val="true" data-val-required="La fecha de fin es un campo requerido"
                                                 name="jobs.end"/>
                                        <span class="input-group-addon">
                                          <i class="icon-calendar bigger-110"></i>
                                        </span>
                                      </div>
                                  </div>
                              </div>
                              <br/>

                              <div class="hidenStart unactiveJob @hlaboral row">
                                  <div class="col-xs-3">Motivo de cambio:</div>
                                  <div class="col-xs-9">
                                      <textarea id="form-field-11" class="hidenStart unactiveJob @hlaboral form-control"
                                                name="jobs.reasonChange"
                                                data-val="true" value="@Jjob.ReasonChange"
                                                data-val-required="El motivo de cambio es un campo requerido">@Jjob.ReasonChange</textarea>
                                      <span class="hidenStart unactiveJob @hlaboral field-validation-valid" data-valmsg-for="reasonChange"
                                            data-valmsg-replace="true"></span>
                                  </div>
                              </div>
                              <br/>
                          </div>
                      </div>
                        <br/>

                        <div class="hidenStart row registerDisponibilidad">
                            <div class="col-xs-12" >
                                <div class="widget-header header-color-blue">
                                    <h5 class="bigger lighter">
                                        <h6> &nbsp;
                                            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                                               onclick="askEqualsImp.show('jobs.schedule',@Jjob.Id)"></i>
                                            <i class="icon-remove-circle red  icon-only bigger-220"  onclick="DisponibilidadVerify.show('jobs.schedule',@Jjob.Id);"
                                               ng-show="verification" id-code="jobs.registerType.id"
                                                id-element="@Jjob.Id"></i>
                                            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                                               onclick="askDontKnow.show('jobs.schedule',@Jjob.Id)"></i>
                                            <i class="icon-calendar "></i>Disponibilidad</h6>
                                    </h5>
                                </div>

                                <div class="widget-body">
                                    <div class="widget-main no-padding">
                                        <table class="table table-striped table-bordered table-hover">
                                            <thead class="thin-border-bottom">
                                            <tr>
                                                <th class="element-center">
                                                    D&iacute;a(s)
                                                </th>
                                                <th class="element-center">
                                                    Hora de inicio
                                                </th>
                                                <th class="element-center">
                                                    Hora de fin
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <div class="castable">
                                            @if(Jjob.ScheduleList!=null){
	                                            foreach(var sche in Jjob.ScheduleList) {
	                                            <tr>
	                                              <td class="col-xs-5">
	                                                @sche.Day
	                                              </td>
	                                              <td class="col-xs-2">
	                                                @sche.Start
	                                              </td>
	                                              <td class="col-xs-2">
	                                                @sche.End
	                                              </td>
	                                            </tr>
	                                            }
                                            }
                                            </div>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        



                    </div>
                </div>

            </div>
        </div>
    </div> <!--END of registertype widget-->
    
</div>


    <!--end intento de widget-->

    
</div>
    <!--ACORDEON CONTENT END-->
</div>
	    }<!--End of foreach -->
    }<!--End of else -->
            </div><!--End of Historial laboral -->















            <div id="school" class="tab-pane"><!-- Begin of Red Historia escolar -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/school/index.jsp" -->
<div class="col-xs-12">
        <h2> <i class="orange icon-book  bigger-100">&nbsp;</i>Historia Escolar</h2>
        <br/>
        <div class="row" >
            <div class="col-xs-10 col-xs-offset-1">
                <div ng-show="msgSuccessEscolar" class="alert alert-success element-center success-font">
                    <span>{{msgSuccessEscolar}}</span>
                </div>
                <form id="FormSchool" name="FormSchool" ng-submit="submit('#FormSchool')" class="form-horizontal"
                      role="form">
                    <input type="hidden" value="{{m.caseDetention.id}}" name="caseDetention.id">

    <div class="row">
	    <div class="col-xs-12">
	        <label class="text-primary">Observaciones: <b>{{m.commentSchool}}</b></label>
	    </div>
	</div>
    <br/>
    <div class="row">
        <div class="col-xs-2 element-left">
            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
            onclick="askEqualsImp.show('school.name')"></i>
            <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
            ng-show="verification" code="school.name" onclick="SingleVerify.show(this);"></i>
            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
            onclick="askDontKnow.show('school.name')"></i>
            Escuela:
        </div>
        <div class="col-xs-10"><input class="form-control" data-val="true" ng-readonly="!m.SchoolBlock"
          data-val-length="Debe tener al menos 5 y m?ximo 200 caracteres"
          data-val-length-max="200" data-val-length-min="5"
          data-val-required="La escuela es un campo requerido" type="text" value=""
          ng-init=''
          ng-model="m.SchoolName" id="school.name" name="school.name"></div>
          <div class="row">
            <div class="col-xs-9 col-xs-offset-2 element-left"><span class="field-validation-valid"
             data-valmsg-for="school.name"
             data-valmsg-replace="true"></span></div>
         </div>
     </div>
     <br/>

     <div class="row">
        <div class="col-xs-2 element-left">
            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
            onclick="askEqualsImp.show('school.phone')"></i>
            <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
            ng-show="verification" code="school.phone" onclick="SingleVerify.show(this);"></i>
            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
            onclick="askDontKnow.show('school.phone')"></i>
            Tel&eacute;fono:
        </div>
        <div class="col-xs-4"><input class="form-control" data-val="true"
         data-val-length="Debe tener al menos 5 y m&aacute;ximo 30 caracteres"
         data-val-length-max="30" data-val-length-min="5" ng-readonly="!m.SchoolBlock"
         data-val-required="El tel&eacute;fono es un campo requerido" type="text"
         value=""
         ng-model="m.SchoolPhone" id="school.phone" name="school.phone"
         ng-init=''>
         <span class="field-validation-valid" data-valmsg-for="school.phone"
         data-valmsg-replace="true"></span>
     </div>


 </div>
 <br/>

 <div class="row">
    <div class="col-xs-2 element-left">
        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
        onclick="askEqualsImp.show('school.address')"></i>
        <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2"
        ng-show="verification" code="school.address" onclick="SingleVerify.show(this);"></i>
        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
        onclick="askDontKnow.show('school.address')"></i>
        Direcci&oacute;n:
    </div>
    <div class="col-xs-10"><textarea id="school.address" class="form-control" name="school.address"
     ng-model="m.SchoolAddress" ng-readonly="!m.SchoolBlock"
     ng-init=''
     data-val="true"
     data-val-required="La direcci&oacute;n es un campo requerido"
     data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres"
     data-val-length-max="500"
     data-val-length-min="6">{{m.SchoolAddress}}</textarea>

     <div class="col-xs-9 col-xs-offset-2 element-left"><span class="field-validation-valid"
         data-valmsg-for="school.address"
         data-valmsg-replace="true"></span>
     </div>
 </div>
</div>
<br/>

<div class="row">
    <div class="widget-box">
        <div class="widget-header">
            <div class="col-xs-10 element-left">
            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
            onclick="askEqualsImp.show('school.degree.id')"></i>
            <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="3"
            ng-show="verification" code="school.degree.id" onclick="SingleVerify.show(this);"></i>
            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
            onclick="askDontKnow.show('school.degree.id')"></i>
                <h4>Actual/&Uacute;ltimo nivel de estudios</h4>
            </div>
        </div>

        <div class="widget-body">
            <br/>
            <div class="row">
                <div class="col-xs-2  element-left col-xs-offset-1">
                    Nivel:
                </div>
                <div class="col-xs-4">
                    <select class="form-control element-center" ng-model="school.level"
                    ng-options="e.Name for e in lstLevel" ng-init=''
                    onchange="gradeByNivel(this);"></select>
                </div>
                <div class="col-xs-1">
                    Grado:
                </div>
                <div class="col-xs-3">

                    <select class="form-control element-center" ng-model="school.degree" name="school.degree.id"
                    ng-options="e.Name for e in lstDegree" id="slcDegreVer"
                    onchange=" m.SchoolDegreeId = school.degree['Id'] "></select>
                    <input type="hidden" ng-update-hidden ng-model=" school.degree.id" 
                    id="degreeId">
                </div>

                <br/>
            </div>
            <br/>
            <div class="row" ng-show="school.level['Id'] == 7" id="otherDegreBox">
                <br/>

                <div class="col-xs-2  element-left col-xs-offset-1">
                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                    onclick="askEqualsImp.show('school.degree')"></i>
                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="3"
                    ng-show="verification" code="school.degree"></i>
                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                    onclick="askDontKnow.show('school.degree')"></i>
                    Especif&iacute;que:
                </div>
                <div class="col-xs-8">
                    <input class="width-100" data-val="true"
                    data-val-length="Debe tener al menos 1 y m&aacute;ximo 300 caracteres"
                    data-val-length-max="300" data-val-length-min="1"
                    data-val-required="La especificaci&oacute;n  es un campo requerido" type="text" value=""
                    ng-model="m.SchoolSpecification" id="school.specification" name="school.specification"
                    ng-init=''>
                    <span class="field-validation-valid" data-valmsg-for="school.specification"
                    data-valmsg-replace="true"></span>
                </div>
            </div>
            <br/>
        </div>
    </div>
</div>




 @if(Model.ScheduleSchool==null){
    }
    else{
<div class="row">
    <div class="col-xs-12">
        <div class="widget-header header-color-blue">
            <div class="row">
                <h6> &nbsp;
                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                       onclick="askEqualsImp.show('school.schedule')"></i>
                    <i class="icon-remove-circle red  icon-only bigger-220" onclick="DisponibilidadVerify.show('school.schedule',0);"
                       ng-show="verification" id-code="school.schedule"></i>
                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                       onclick="askDontKnow.show('school.schedule')"></i>
                    <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
                       ng-click="showChoices('school.schedule')"></i>
                    &nbsp; <i class="icon-calendar "></i>Disponibilidad</h6>
            </div>
        </div>

        <div class="widget-body">
            <div class="widget-main no-padding">
                <table class="table table-striped table-bordered table-hover">
                    <thead class="thin-border-bottom">
                    <tr>
                        <th class="element-center">
                            D&iacute;a(s)
                        </th>
                        <th class="element-center">
                            Hora de inicio
                        </th>
                        <th class="element-center">
                            Hora de fin
                        </th>
                    </tr>
                    </thead>
                    <tbody>

                      	@foreach(var Schedul in Model.ScheduleSchool) {
                      	<tr>
               				<td class="element-center">
	                            @Schedul.Day
	                        </td>
	                        <td class="element-center">
	                             @Schedul.Start
	                        </td>
	                        <td class="element-center">
	                             @Schedul.End
	                        </td>
                    	</tr>
    					}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
}








                </form>
            </div>
        </div>
    </div>
            </div><!--End of Red Historia escolar -->
















<div id="drugsSection" class="tab-pane"><!-- Begin of Consumo de sustancias -->
<div class="row element-center">
        <h2> <i class="green icon-warning-sign  bigger-100">&nbsp;</i>Consumo de sustancias</h2>
        <br/>
        <div class="row">
            <div class="col-xs-10 col-xs-offset-1 element-left">
                <label class="text-primary">Observaciones: <b>@Model.CommentDrug</b></label>
            </div>
        </div>
        <br/>
</div>
    @if(Model.JsonDrugs==null){
    }
    else{
        int pRfr = 0;
        foreach(var Jdrg in Model.JsonDrugs) {
            pRfr++;
<div class="panel panel-default ng-scope">
    <!--HEADER-->
    <div class="panel-heading">
        <h4 class="panel-title">
            <a>
                <i class="icon-angle-down bigger-110" data-icon-hide="icon-angle-down"
                   data-icon-show="icon-angle-right"></i>
                Sustancia <span>@pRfr</span>
            </a>
        </h4>
    </div>
    <!--HEADER END-->


    <!--ACORDEON CONTENT-->
<div>
    <input type="hidden" ng-model="p" ng-init="p=listSocialNetwork[$index]">
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('drugs.drugType.id',@Jdrg.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="3" ng-show="verification" code="drugs.drugType.id" id-element="@Jdrg.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('drugs.drugType.id',@Jdrg.Id);"></i>
                Sustancia:
            </div>
            <div class="col-xs-7">
                <select class="form-control element-center" value="@Jdrg.DrugTypeId" 
                        onchange="enableBySelectOptionGroupSnglVrf(this,'7-14','drugspecific');" 
                        name="drugs.drugType.id">
                        @foreach(var rela in Model.ListaDeDrogas){
                            if(@Jdrg.DrugTypeId==@rela.Id){
                                <option value="@rela.Id" selected="selected" >@rela.Name</option>
                            }else{
                                <option value="@rela.Id">@rela.Name</option>
                            }
                        }
                        </select>
                <span class="field-validation-valid" data-valmsg-for="lastName1" data-valmsg-replace="true"></span>
            </div>
        </div>
        @{string jaid = "hide";}
                @if(@Jdrg.DrugTypeId==14||Jdrg.DrugTypeId==7){
                    jaid = "";
                }else{
                    jaid = "ng-hide";
                } 
        <div class="hidenStart drugspecific col-xs-6 @jaid" ng-show="p.rel.specification == true">
            <div class="col-xs-4 element-left">
                Especif&iacute;que<br/>sustancia:
            </div>
            <div class="col-xs-8">
                <input class="hidenStart drugspecific form-control @jaid" data-val="true" value="@Jdrg.Specification"
                       data-val-length="Debe tener al menos 2 y m&aacute;ximo 255 caracteres"
                       data-val-length-max="255" data-val-length-min="2" 
                       data-val-required="La especificaci&oacute;n es un campo requerido"
                       type="text" ng-model="p.specificationRelationship"
                       id="specificationRelationship" name="drugs.specificationType">
            </div>
            <div class="col-xs-9 col-xs-offset-3">
                <span class="field-validation-valid" data-valmsg-for="specificationRelationship" data-valmsg-replace="true"></span>
            </div>

        </div>
    </div>
    <br/>
    <div class="row">
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('drugs.periodicity.id',@Jdrg.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="3" ng-show="verification" code="drugs.periodicity.id" id-element="@Jdrg.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('drugs.periodicity.id',@Jdrg.Id);"></i>
                Periodicidad:
            </div>
            <div class="col-xs-6">
                <select class="form-control element-center" value="@Jdrg.PeriodicityId" 
                        onchange="enableBySelectOptionGroupSnglVrf(this,'2-4','periodicity');"
                        name="drugs.periodicity.id">
                        
                        @foreach(var peri in Model.ListaDePeriodicidad){
                            if(@Jdrg.PeriodicityId==@peri.Id){
                                <option value="@peri.Id" selected="selected" >@peri.Name</option>
                            }else{
                                <option value="@peri.Id">@peri.Name</option>
                            }
                        }
                        </select>
                <span class="field-validation-valid" data-valmsg-for="lastName1" data-valmsg-replace="true"></span>
            </div>
        </div>
        @{string c = "hide";}
                @if(@Jdrg.PeriodicityId==2||@Jdrg.PeriodicityId==4){
                    c = "";
                }else{
                    c= "ng-hide";
                } 
        <div class="hidenStart periodicity col-xs-6 @c" ng-show="p.rel.specification == true">
            <div class="col-xs-4 element-left">
                Especif&iacute;que<br/>periodicidad:
            </div>
            <div class="col-xs-8">
                <input class="hidenStart periodicity form-control @c" data-val="true" value="@Jdrg.SpecificationPeriodicity"
                       data-val-length="Debe tener al menos 2 y m&aacute;ximo 255 caracteres"
                       data-val-length-max="255" data-val-length-min="2" 
                       data-val-required="La especificaci&oacute;n es un campo requerido"
                       type="text" ng-model="p.specificationRelationship"
                       id="specificationRelationship" name="drugs.specificationPeriodicity">
            </div>
            <div class="col-xs-9 col-xs-offset-3">
                <span class="field-validation-valid" data-valmsg-for="specificationRelationship" data-valmsg-replace="true"></span>
            </div>

        </div>
    </div>
    <br/>
    <div class="row" >
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('drugs.quantity',@Jdrg.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="drugs.quantity" id-element="@Jdrg.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('drugs.quantity',@Jdrg.Id);"></i>
                Cantidad:
            </div>
            <div class="col-xs-8">
                <input class="form-control width-100" type="text" value="@Jdrg.Quantity"
                          data-val="true" data-val-length="Debe tener al menos 5 y m&aacute;ximo 200 caracteres"
                          data-val-length-max="200" data-val-length-min="5" data-val-required="El tel&eacute;fono es un campo requerido"
                          name="drugs.quantity" id="phone" >
                <span class="field-validation-valid" data-valmsg-for="phone" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="col-xs-4 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('drugs.lastUse',@Jdrg.Id);"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="drugs.lastUse" id-element="@Jdrg.Id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('drugs.lastUse',@Jdrg.Id);"></i>
                &Uacute;ltimo consumo:
            </div>
            <div class="col-xs-8">
                <div class="input-group">
                    <input class="form-control date-picker" id="lastUse" data-val="true" type="text" data-date-format="yyyy/mm/dd" readonly="readonly"
                           name="drugs.lastUse" data-val-required="La &uacute;ltima fecha de consumo es un campo requerido" value="@Jdrg.LastUse" />
                                                                            <span class="input-group-addon">
                                                                                <i class="icon-calendar bigger-110"></i>
                                                                            </span>
                </div>
                <br/>
                <span class="field-validation-valid" data-valmsg-for="drugs.lastUse" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
    <br/>
    <div class="row">
        <div class="col-xs-6"> 
                    <div class="viviendoCon col-xs-4 element-left" >
                        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification" onclick="askEqualsImp.show('drugs.onsetAge',@Jdrg.Id);"></i>
                        <i class="icon-remove-circle red  icon-only bigger-220" onclick="SingleVerify.show(this);" level-child="2" ng-show="verification" code="drugs.onsetAge" id-element="@Jdrg.Id"></i>
                        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"  onclick="askDontKnow.show('drugs.onsetAge',@Jdrg.Id);"></i>
                    Edad de inicio:</div>
                    <div class="viviendoCon col-xs-8" >
                        <input id="address" class="viviendoCon form-control"  name="drugs.onsetAge"
                                  data-val="true" data-val-required="La direcci&oacute;n es un campo requerido"
                                  data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres" value="@Jdrg.OnsetAge"
                                  data-val-length-max="500" data-val-length-min="6" >
                        <span class="field-validation-valid" data-valmsg-for="address" data-valmsg-replace="true"></span>
                    </div>
        </div>
    </div>
    <br/>
</div>
    <!--ACORDEON CONTENT END-->
</div>
        }
    }
            </div><!--End of Consumo de sustancias  -->


















            <div id="leaveCountry" class="tab-pane"><!-- Begin of Facilidad abandonar el pais -->
                <!-- include file="/WEB-INF/jsp/reviewer/meeting/leavingCountry/index.jsp" -->
 <div class="col-xs-10 element-center col-xs-offset-1">

        <div class="center row">
            <h2><i class="blue icon-globe bigger-100"></i> &nbsp;Facilidad de abandonar el pa&iacute;s</h2>
        </div>
        <br/>

        <div ng-show="msgSuccessLeaveCountry" class="alert alert-success element-center success-font">
            <span>{{msgSuccessLeaveCountry}}</span>
        </div>

        <form id="FormLeaveCountry" name="FormLeaveCountry" class="form-horizontal" role="form">
<div class="row">
<div class="row" ng-show="verification || selectSource">
    <div class="col-xs-10 col-xs-offset-1 element-left">
        <label class="text-primary">Observaciones: <b>{{m.commentCountry}}</b></label>
    </div>
</div>
<br/>

<div class="row">
    <br/>

    <div class="row" ng-show="readOnly == false">
        <div class="col-xs-12">

            &nbsp;&nbsp;&nbsp;&nbsp;
            <b> Establecer toda la informaci&oacute;n de Facilidad de abandonar el pa&iacute;s
                con:</b>
        </div>
        <div class="col-xs-10 col-xs-offset-1 text-info" style="padding-top: 8px;">
            <i class="purple glyphicon glyphicon-user bigger-160"
               ng-click=""
               style="cursor: pointer;"></i>
            &nbsp;&nbsp;&nbsp;Informaci&oacute;n que proporcion&oacute; el imputado.
        </div>
        <div class="col-xs-10 col-xs-offset-1 text-info" style="padding-top: 8px;">
            <i class="blue icon-question-sign  icon-only bigger-160" style="cursor: pointer;"
               ng-click=""></i>
            &nbsp;&nbsp;&nbsp;No se pudo verificar
        </div>
    </div>
    <div class="row" ng-show="readOnly == false">
        <div col-xs-12>
            <div class="hr hr-8"></div>
        </div>
    </div>

    <br/>

    <div>
        <div class="row">
            <div class="col-xs-12">
                <div class="col-xs-9 element-left">
                    <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                       onclick="askEqualsImp.show('leaveCountry.officialDocumentation.id')"></i>
                    <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="4" onclick="SingleVerify.show(this);"
                       ng-show="verification" code="leaveCountry.officialDocumentation.id"></i>
                    <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                       onclick="askDontKnow.show('leaveCountry.officialDocumentation.id')"></i>
                    <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
                       ng-click="showChoices('leaveCountry.officialDocumentation.id')"></i>
                    &iquest;El imputado cuenta con documentaci&oacute;n oficial que facilite que abandone el pa&iacute;s?:
                </div>
                <div class="col-xs-3">
                            <select class="form-control element-center" ng-model="Edocumento" 
                            ng-options="e.Name for e in listElection" value="" name="leaveCountry.officialDocumentation.id"
                            onchange="documentacionOficial(this);" ng-init='listElection = @Model.JsonElection'></select>
                </div>
            </div>
        </div>
        <br/>

        <div class="row" ng-show="m.OfficialDocumentationId==1" id="oficialDocuRow">
            <div class="col-xs-3">
                Documentaci&oacute;n:
            </div>
            <div class="col-xs-3"  >
                <select class="form-control element-center" ng-model="ImmigrationDoc" name="leaveCountry.immigrationDocument.id"
                        ng-options="e.Name for e in listImmigrationDoc"
                        onchange="documentacionOtherOficial(this);" id="oficialDocuRowSlc"
                        ng-init='documentosMigratoriosFill();'></select>
            </div>
            <div class="col-xs-2 oficialDocuRowOther" ng-show="ImmigrationDoc['Specification']" >
                Especifique documentaci&oacute;n:
            </div>
            <div class="col-xs-3 oficialDocuRowOther" ng-show="m.OfficialDocumentationId == 1 && ImmigrationDoc['Specification']">
                <input class="form-control"
                       data-val-length="Debe tener al menos 1 y m&aacute;ximo 50 caracteres"
                       data-val-length-max="50" data-val-length-min="1"
                       data-val-required="La especificaci&oacute;n es un campo requerido"
                       type="text" ng-model="m.SpecficationImmigranDoc" id="oficialDocuRowImmigranDoc"
                       name="leaveCountry.specficationImmigranDoc" value=""
                       ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.specficationImmigranDoc"
                              data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
</div>
<br/>

<div>
    <div class="row">
        <div class="col-xs-12">
            <div class="col-xs-9 element-left">
                <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
                   onclick="askEqualsImp.show('leaveCountry.livedCountry.id');imputedLivedOtherCountryFillIn();"></i>
                <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="4" onclick="SingleVerify.show(this);"
                   ng-show="verification" code="leaveCountry.livedCountry.id"></i>
                <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
                   onclick="askDontKnow.show('leaveCountry.livedCountry.id')"></i>
                <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
                   ng-click="showChoices('leaveCountry.livedCountry.id')"></i>
                &iquest;El detenido ha vivido en otro pa&iacute;s?:
            </div>

            <div class="col-xs-3">
                <select class="form-control element-center" ng-model="l.oc" name="leaveCountry.livedCountry.id"
                         ng-options="e.Name for e in listElection" value=""
                        onchange="imputedLivedOtherCountry(this);" ng-init=''></select>
            </div>
        </div>
    </div>
    <div class="residenciaExtranjera row" ng-show="m.LivedCountryId ==1">
        <br/>

        <div class="row">
            <div class="col-xs-2 element-left col-xs-offset-1">
                Pa&iacute;s:
            </div>
            <div class="col-xs-3">
                <select class="form-control element-center" ng-model="l.country" id="countryInnerLivedCountry"
                        ng-options="e.Name for e in listCountry"  name="leaveCountry.country.id"
                        url-request="/catalogs/getStatesByCountry.json"
                        ng-change="m.CountryId = l.country['Id'];" ng-init=''></select>
            </div>
            <div class="col-xs-2 element-right">
                Estado:
            </div>
            <div class="col-xs-3">
                <input class="residenciaExtranjera form-control"   ng-show="m.LivedCountryId ==1" 
                       data-val-length="Debe tener al menos 3 y m&aacute;ximo 100 caracteres"
                       data-val-length-max="100" data-val-length-min="3"
                       data-val-required="El estado es un campo requerido"
                       type="text" ng-model="m.State" id="leaveCountry.state"
                       name="leaveCountry.state" value="{{m.State}}"
                       ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.state"
                              data-valmsg-replace="true"></span>
            </div>
        </div>

        <br/>
    </div>
    <div class="residenciaExtranjera row" ng-show="m.LivedCountryId ==1">
        <div class="col-xs-3 element-right">
            &iquest;Hace cu&aacute;nto tiempo?:
        </div>
        <div class="residenciaExtranjera col-xs-3"  ng-show="m.LivedCountryId ==1">
            <input class="residenciaExtranjera form-control"
                   data-val-length="Debe tener al menos 3 y m&aacute;ximo 250 caracteres"
                   data-val-length-max="250" data-val-length-min="3" ng-show="m.LivedCountryId ==1"
                   data-val-required="El tiempo es un campo requerido"
                   type="text" ng-model="m.timeAgo" id="leaveCountry.timeAgo"
                   name="leaveCountry.timeAgo" value="{{m.timeAgo}}"
                   ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.timeAgo"
                              data-valmsg-replace="true"></span>
        </div>
        <div class="col-xs-2 element-right">
            A&ntilde;os que vivi&oacute; en el extranjero:
        </div>
        <div class="residenciaExtranjera col-xs-3"  ng-show="m.LivedCountryId ==1">
            <input class="residenciaExtranjera form-control"   ng-show="m.LivedCountryId ==1"
                   data-val-length="Debe tener al menos 1 y m&aacute;ximo 50 caracteres"
                   data-val-length-max="50" data-val-length-min="1"
                   data-val-required="A&ntilde;os que vivi&oacute; en el extranjero es un campo requerido"
                   type="text" ng-model="m.TimeResidence" id="leaveCountry.timeResidence"
                   name="leaveCountry.timeResidence" value="{{m.TimeResidence}}"
                   ng-init=''>
                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.timeResidence"
                              data-valmsg-replace="true"></span>
        </div>
    </div>
    <br/>

    <div class="residenciaExtranjera row" ng-show="m.LivedCountryId ==1">
        <div class="col-xs-3 element-right">
            Motivo por el que ahora vive en M&eacute;xico:
        </div>
        <div class="residenciaExtranjera col-xs-8"  ng-show="m.LivedCountryId ==1">
            <textarea id="leaveCountry.reason" class="residenciaExtranjera form-control"  ng-show="m.LivedCountryId ==1"
                      data-val-length="Debe tener al menos 3 y m&aacute;ximo 500 caracteres"
                      data-val-length-max="500" data-val-length-min="3"
                      data-val-required="La raz&oacute;n es un campo requerido" ng-model="m.Reason"
                      name="leaveCountry.reason" 
                      ng-init=''>{{m.Reason}}</textarea>
                    <span class="field-validation-valid" data-valmsg-for="leaveCountry.reason"
                          data-valmsg-replace="true"></span>
        </div>
    </div>
    <br/>

    <div class="residenciaExtranjera row" ng-show="m.LivedCountryId ==1">
        <div class="col-xs-3 element-right">
            Direcci&oacute;n:
        </div>
        <div class="residenciaExtranjera col-xs-8"  ng-show="m.LivedCountryId ==1">
            <textarea ng-model="m.Address"    ng-show="m.LivedCountryId ==1"
                      ng-init=''
                      data-val-required="La direcci&oacute;n es un campo requerido"
                      class="residenciaExtranjera form-control"
                      data-val-length="Debe tener al menos 6 y m&aacute;ximo 500 caracteres"
                      name="leaveCountry.address" id="leaveCountry.address"
                      data-val-length-max="500" data-val-length-min="6">{{m.Address}}</textarea>

                        <span class="field-validation-valid" data-valmsg-for="leaveCountry.address"
                              data-valmsg-replace="true"></span>
        </div>
    </div>
</div>
</div>
<br/>

<div>
    <div class="row">
        <br/>

        <div class="col-xs-9 element-left">
            <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
               onclick="askEqualsImp.show('leaveCountry.familyAnotherCountry.id')"></i>
            <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="3" onclick="SingleVerify.show(this);"
               ng-show="verification" code="leaveCountry.familyAnotherCountry.id"></i>
            <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
               onclick="askDontKnow.show('leaveCountry.familyAnotherCountry.id')"></i>
            <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
               ng-click="showChoices('leaveCountry.familyAnotherCountry.id')"></i>
            &iquest;El detenido cuenta con familiares y/o amigos cercanos en otro pa&iacute;s?:
        </div>
        <div class="col-xs-3">
            <select class="form-control element-center" ng-model="l.fac" name="leaveCountry.familyAnotherCountry.id"
                    ng-options="e.Name for e in listElection" value=""
                    onchange="imputedFamilyOtherCountry(this);" ng-init=''></select>
        </div>

    </div>
    <br/>

    <div class="familiaresExtranjeros row" ng-show="m.FamilyAnotherCountryId == 1">
        <div class="col-xs-3 element-left">
            &iquest;Mantiene comunicaci&oacute;n con ellos?:
        </div>
        <div class="familiaresExtranjeros col-xs-3" ng-show="m.FamilyAnotherCountryId == 1">
            <select class="form-control element-center" ng-model="l.cf"
                    ng-options="e.Name for e in listElection" value="" name="leaveCountry.communicationFamily.id"
                    ng-change="m.CommunicationFamilyId = l.cf['Id'];" ng-init=''></select>
        </div>
        <div class="col-xs-3 element-left">
            &iquest;Por qu&eacute; medio?:
        </div>
        <div class="familiaresExtranjeros col-xs-3" ng-show="m.FamilyAnotherCountryId == 1">
            <input class="familiaresExtranjeros form-control"   ng-show="m.FamilyAnotherCountryId == 1"
                   data-val-length="Debe tener al menos 2 y m&aacute;ximo 50 caracteres"	
                   data-val-length-max="50" data-val-length-min="2"
                   data-val-required="El medio es un campo requerido"
                   type="text" value="{{m.Media}}" id="leaveCountry.media" name="leaveCountry.media" ng-model="m.Media"
                   ng-init=''>
                     <span class="field-validation-valid" data-valmsg-for="leaveCountry.media"
                           data-valmsg-replace="true"></span>
        </div>
    </div>
    <br/>
    <div class="familiaresExtranjeros row" ng-show="m.FamilyAnotherCountryId ==1">
        <div class="col-xs-3 element-left">
            Relaci&oacute;n:
        </div>
        <div class="familiaresExtranjeros col-xs-3" ng-show="m.FamilyAnotherCountryId == 1">
            <select class="form-control element-center" ng-model="l.rel" name="leaveCountry.relationship.id"
                    ng-options="e.Name for e in listRel" value="{{m.RelationshipId}}" id="slcVerifyRelationship"
                    ng-init='relacionPersonalAll();' onchange="otherRelationship(this);"></select>
        </div>
        <div class="otraRelacion col-xs-3 element-left "  ng-show="l.rel['Specification']">
            Especifique relaci&oacute;n:
        </div>
        <div class="otraRelacion col-xs-3" ng-show="m.FamilyAnotherCountryId == 1 && l.rel['Specification']">
            <input class="familiaresExtranjeros form-control"     ng-show="m.FamilyAnotherCountryId == 1  && l.rel['Specification']"
                   data-val-length="Debe tener al menos 1 y m&aacute;ximo 255 caracteres"
                   data-val-length-max="255" data-val-length-min="1"
                   data-val-required="La especifici&oacute;n es un campo requerido"
                   type="text" value="{{m.SpecificationRelationship}}" id="leaveCountry.specificationRelationship" name="leaveCountry.specificationRelationship" ng-model="m.SpecificationRelationship"
                   ng-init=''>
                     <span class="field-validation-valid" data-valmsg-for="leaveCountry.specificationRelationship"
                           data-valmsg-replace="true"></span>
        </div>
    </div>
</div>
<br/>

<div class="row" ng-show="!verification && !selectSource">
    <div class="col-xs-3 element-left">Observaciones:<br/>
        <label class="info-example">(Este campo no es verificable)</label></div>
    <div class="col-xs-9">
        <textarea class="width-100" ng-model="m.CommentCountry"
                  ng-init=''

                  data-val-length="Debe tener al menos 1 y m&aacute;ximo 500 caracteres"
                  data-val-length-max="500"
                  data-val-length-min="1"
                  name="leaveCountry.commentCountry">{{m.CommentCountry}}</textarea>
                <span class="field-validation-valid" data-valmsg-for="leaveCountry.commentCountry"
                      data-valmsg-replace="true"></span>
    </div>
</div>
<br/>

<div class="row" ng-show="!verification && !selectSource">
    <div class="col-xs-3 element-left">
        Comentarios: <br/>
        <label class="info-example">(cooperaci&oacute;n, atenci&oacute;n, ansioso, etc.)</label>
    </div>
    <div class="col-xs-9">
        <textarea class="form-control" name="leaveCountry.commentSocialEnvironment" ng-show="!verification"
                  data-val-required="Los comentarios es un campo requerido" ng-model="m.comment" >{{m.comment}}</textarea>
         <span class="field-validation-valid" data-valmsg-for="leaveCountry.commentSocialEnvironment"
               data-valmsg-replace="true"></span>
    </div>
</div>
<div class="row" ng-show="verification || selectSource">
    <div class="col-xs-3 element-left">
        <i class="icon-ok-circle green  icon-only bigger-220" ng-show="verification"
           onclick="askEqualsImp.show('socialEnvironment.comment')"></i>
        <i class="icon-remove-circle red  icon-only bigger-220" verif-comp level-child="2" ng-show="verification"
           code="socialEnvironment.comment" onclick="SingleVerify.show(this);"></i>
        <i class="icon-ban-circle gray icon-only bigger-220" ng-show="verification"
           onclick="askDontKnow.show('socialEnvironment.comment')"></i>
        <i class="purple icon-list icon-only bigger-220" ng-show="selectSource"
           ng-click="showChoices('socialEnvironment.comment')"></i>
        Comentarios: <br/>
        <label class="info-example">(cooperaci&oacute;n, atenci&oacute;n, ansioso, etc.)</label>
    </div>
    <div class="col-xs-9">
        <textarea class="form-control" name="socialEnvironment.comment" ng-model="m.comment"
                  data-val-required="Los comentarios es un campo requerido">{{m.comment}}</textarea>
        <span class="field-validation-valid" data-valmsg-for="socialEnvironment.comment"
              data-valmsg-replace="true"></span>
    </div>
</div>
        </form>
        <br/>
    </div>
            </div><!--End of Facilidad abandonar el pais -->













        </div>
    </div>
</div>
</div>
<br/>

<div class="row">
    <div class="col-xs-12">
        <div ng-show="listMsgError['general']" class="alert alert-danger element-center error-font">
            <span ng-bind-html="listMsgError['general']">
            </span>
        </div>
    </div>
</div>
<div class="row">
    <div class="modal-footer">
    <a href="javascript:window.location.replace('hybrid:Verification/IndexFuentes?idCase='+@Model.CaseId);">
        <span class="btn btn-default btn-sm" >
            Regresar
        </span>
</a>
    	<span class="btn btn-default btn-primary btn-sm" ng-disabled="WaitFor==true" 
        onclick="askVerificationTerminate.show();">
        Terminar Entrevista
    	</span>

</div>
</div>
</div>
    	<script>
$(function() {
        $("#ms").change(function() {
            console.log($(this).val());
        }).multipleSelect({
            	width: '100%',
    			filter:true,
				selectAll : false,
				allSelected : 'Todas las opciones',
				minimumCountSelected : 7,
				countSelected : '# de % seleccionados',
        styler: function(value) {
                if (value == '') {
                    return 'display:none;';
                }
            }
        });
});
$("input").prop( "disabled", true );
$("select").prop( "disabled", true );
$("textarea").prop( "disabled", true );

//funcion para convertir serialize en objetos 
function validateVerif(formSerialize) {
    debugger;
    var hasError = false;
    var submitElement = [];
    var vars = formSerialize.split("&");
    for (var i = 0; i < vars.length; i++) {
        var psEqual = vars[i].split("=");
        var e = {};
        e.name = psEqual[0];
        if (psEqual[0] == "imputedHomes.timeLive1"||psEqual[0] == "imputedHome.timeLive") {
            e.name = "imputedHomes.timeLive";
        }

        if (psEqual[0] == "imputed.gender"||psEqual[0] == "imputed.genero") {
            e.name = "imputed.gender";
        }


        e.value = decodeURIComponent(psEqual[1].replace(/\+/g, ' '));

        console.log("psEqual[0] ->"+psEqual[0]);
        console.log("psEqual[1] ->"+psEqual[1].replace(/\+/g, ' '));
        console.log("e.name ->"+e.name);
        console.log("e.value ->"+decodeURIComponent(psEqual[1]));
        console.log("e.value ->"+e.value);

        if (psEqual[0] == "imputed.birthDate") {
        	//console.log("text ->"+$('#FormVerifUpsertId #dateBirthV').text()+"   ...Val->"+$('#FormVerifUpsertId #dateBirthV').val());
            e.value = $('#FormVerifUpsertId #dateBirthV').val();
        }

       	if (psEqual[0] == "leaveCountry.officialDocumentation.id" && psEqual[1]!=undefined && psEqual[1]!="") {
            e.value = parseInt(psEqual[1]) + 1;
        }
        if (psEqual[0] == "leaveCountry.immigrationDocument.id" && psEqual[1]!=undefined && psEqual[1]!="") {
            e.value = parseInt(psEqual[1]) + 1;
        }
        if (psEqual[0] == "leaveCountry.livedCountry.id" && psEqual[1]!=undefined && psEqual[1]!="") {
            e.value = parseInt(psEqual[1]) + 1;
        }
        if (psEqual[0] == "leaveCountry.familyAnotherCountry.id" && psEqual[1]!=undefined && psEqual[1]!="") {
            e.value = parseInt(psEqual[1]) + 1;
        }
        if (psEqual[0] == "leaveCountry.communicationFamily.id" && psEqual[1]!=undefined && psEqual[1]!="") {
            e.value = parseInt(psEqual[1]) + 1;
        }


        var allElement = $("[name='" + psEqual[0] + "']");
        if(e.value!=undefined && e.value!="" && e.name!=undefined && e.name!=""){
        submitElement.push(e);
        }else{

		        $("#divElementVerif").find(allElement).each(function () {
		            var message = "";
		            var adding = true;

		            var elementAux = $(this);
		            var isHide = false;
		            var isParent = false;
		            do {
		                isHide = elementAux.hasClass("ng-hide");
		                isParent = (elementAux.attr("id") == "divElementVerif");
		                elementAux = elementAux.parent();
		            } while (!isHide && !isParent);
		            if (isHide) {
		                adding = false;
		            }
		            if (e.value == undefined || e.value == "") {
		                if (!isHide && isParent) {
		                    message = $(this).attr("data-val-required");
		                }
		            } else {
		                var valMax = $(this).attr("data-val-length-max");
		                var valMin = $(this).attr("data-val-length-min");
		                var pattern = $(this).attr("data-val-regex-pattern");
		                if (valMax != undefined && valMin != undefined && ($(this).val().length > parseInt(valMax) || $(this).val().length < parseInt(valMin))) {
		                    message = $(this).attr("data-val-length")
		                }
		                if (pattern != undefined && $(this).val().match("^[0-9]+$") == null) {
		                    message = $(this).attr("data-val-regex");
		                }
		            }
		            var spanVal = $(this).siblings("span");
		            if (spanVal.hasClass("input-group-addon")) {
		                spanVal = $(this).parent().siblings('span');
		            }
		            var c = $(this).is("input:text");
		            if (message != "") {
		                spanVal.css("display", "block");
		                spanVal.addClass("field-validation-error");
		                spanVal.removeClass("field-validation-valid");
		                spanVal.text(message);
		                hasError = true;
		            } else {
		                if ($(this).is("input:text") || $(this).is("textarea")) {
		                    spanVal.css("display", "none");
		                    spanVal.addClass("field-validation-valid");
		                    spanVal.removeClass("field-validation-error");
		                }
		                if (e.value != "") {

		                    if ($(this).is("input:radio")) {
		                        for (var z = 0; z < submitElement.length; z++) {
		                            if (submitElement[z].name == e.name) {
		                                adding = false;
		                            }
		                        }
		                    }
		                    if (adding) {
		                        submitElement.push(e);
		                    }
		                }
		            }
		        });

        }
    }
    //if (hasError)
    //    return null;
    return submitElement;
}

///TODOTODOTODO
	function gradeByNivel (este){
		var vga = parseInt($(este).val())+1;
		console.log("id grado academico>>"+vga);
		if(vga==7){
		$("#otherDegreBox","#divElementVerif").removeClass("ng-hide");
		}else{
		$("#otherDegreBox","#divElementVerif").addClass("ng-hide");
		}
		$("#slcDegreVer","#divElementVerif").prop("disabled",false).attr('readonly', false).val("").empty();
		var lstofDegree = JSON.parse(MeetingService.gradeByNivel( vga ));
		for(var indx=0;indx<lstofDegree.length;indx++){
			console.log("val->"+lstofDegree[indx].Id);
			console.log("text->"+lstofDegree.Name);
		    $("#slcDegreVer","#divElementVerif").append("<option value='"+lstofDegree[indx].Id+"' >"+lstofDegree[indx].Name+"</option>");
		}
    	//var degrees=JSON.parse(MeetingService.gradeByNivel( $scope.school.level['Id']));
   	}
   	function singleVerifyhometype (self){
   		console.log("self"+self);
		if(self.value==4){
			$("#hometypeSpecificationVerify" , "#FormVerifUpsertId").show();
		}else{
			$("#hometypeSpecificationVerify" , "#FormVerifUpsertId").hide();
			$("#hometypeSpecificationVerify input" , "#FormVerifUpsertId").val("")
		}
	}

	function singleVerifyregistertype (self){
   		console.log("self register type ->"+self.value);
		if(self.value==1){
		$(".register1" , "#FormVerifUpsertId").addClass("hide");
		$(".register2" , "#FormVerifUpsertId").addClass("hide");
		$(".register3" , "#FormVerifUpsertId").addClass("hide");
			$(".register1" , "#FormVerifUpsertId").removeClass("hide");
		}
		if(self.value==2){
		$(".register1" , "#FormVerifUpsertId").addClass("hide");
		$(".register2" , "#FormVerifUpsertId").addClass("hide");
		$(".register3" , "#FormVerifUpsertId").addClass("hide");
			$(".register2" , "#FormVerifUpsertId").removeClass("hide");
		}
		if(self.value==3){
		$(".register1" , "#FormVerifUpsertId").addClass("hide");
		$(".register2" , "#FormVerifUpsertId").addClass("hide");
		$(".register3" , "#FormVerifUpsertId").addClass("hide");
			$(".register3" , "#FormVerifUpsertId").removeClass("hide");
		}
		console.log("html->"+$("FormVerifUpsertId").html());

	}
	function removeDisponibility (){
   		console.log("removeDisponibility->");
		$(".registerDisponibilidad" , "#FormVerifUpsertId").hide().remove();
	}

	function disponibilityHtml(){
		$(".castable").each(function(){
		 console.log("disp table ->"+$(this).html());
		  console.log("disp table ->"+$(this).text());
	       $(this).html($(this).text());
	       console.log("disp table ->"+$(this).html());
	    });
	    $("table").bootstrapTable();
    }


    ///////////////////////////para facilidad de abandonar el pais documentacion
    function documentacionOficial (self){
   		console.log("self register type ->"+self.value);
		if(self.value==0){//si
		$("#oficialDocuRow" , "#FormVerifUpsertId").removeClass("ng-hide");

		$("#oficialDocuRowSlc" , "#FormVerifUpsertId").val("0");

		$(".oficialDocuRowOther" , "#FormVerifUpsertId").addClass("ng-hide");
		}
		if(self.value==1){//no
		$("#oficialDocuRow" , "#FormVerifUpsertId").addClass("ng-hide");

		$("#oficialDocuRowSlc" , "#FormVerifUpsertId").val("");

		$(".oficialDocuRowOther" , "#FormVerifUpsertId").addClass("ng-hide");
		}
		console.log("html->"+$("FormVerifUpsertId").html());
	}

	function documentacionOtherOficial (self){
   		console.log("self register type ->"+self.value);
		if(self.value==2){//si
		$("#oficialDocuRowImmigranDoc" , "#FormVerifUpsertId").val("");
		$(".oficialDocuRowOther" , "#FormVerifUpsertId").removeClass("ng-hide");
		}
		else{//no
		$("#oficialDocuRowImmigranDoc" , "#FormVerifUpsertId").val("");
		$(".oficialDocuRowOther" , "#FormVerifUpsertId").addClass("ng-hide");
		}

	}

	///////////////////////////para facilidad de abandonar el pais vivido
    function imputedLivedOtherCountry (self){
   		console.log("self register type ->"+self.value);
   		imputedLivedOtherCountryFillIn ();
		if(self.value==0){//si
		$(".residenciaExtranjera" , "#FormVerifUpsertId").removeClass("ng-hide");

		$(".residenciaExtranjera input" , "#FormVerifUpsertId").val("");
		$(".residenciaExtranjera select" , "#FormVerifUpsertId").val("");
		$(".residenciaExtranjera textarea" , "#FormVerifUpsertId").val("");
		}
		if(self.value==1){//no
		$(".residenciaExtranjera" , "#FormVerifUpsertId").addClass("ng-hide");
		$(".residenciaExtranjera input" , "#FormVerifUpsertId").val("");
		$(".residenciaExtranjera select" , "#FormVerifUpsertId").val("");
		$(".residenciaExtranjera textarea" , "#FormVerifUpsertId").val("");
		}
		console.log("html->"+$("FormVerifUpsertId").html());
	}

	function imputedLivedOtherCountryFillIn (){
		$("#countryInnerLivedCountry" , "#FormVerifUpsertId").empty();
		var paisesinsert = $.parseJSON(MeetingService.findAllCountry());
		for(var indx=0;indx<paisesinsert.length;indx++){
                console.log("id pais val->"+paisesinsert[indx].Id);
                console.log("name pais text->"+paisesinsert[indx].Name);
              $("#countryInnerLivedCountry" , "#FormVerifUpsertId").append("<option value='"+paisesinsert[indx].Id+"' >"+paisesinsert[indx].Name+"</option>");
        }
		$("#countryInnerLivedCountry" , "#FormVerifUpsertId").val("");
	}


	///////////////////////////para facilidad de abandonar el pais familiares
    function imputedFamilyOtherCountry (self){
   		console.log("self register type ->"+self.value);
   		imputedRelationOtherCountryFillIn();
		if(self.value==0){//si
		$(".familiaresExtranjeros" , "#FormVerifUpsertId").removeClass("ng-hide");
		$(".otraRelacion" , "#FormVerifUpsertId").addClass("ng-hide");

		$(".familiaresExtranjeros input" , "#FormVerifUpsertId").val("");
		$(".otraRelacion input" , "#FormVerifUpsertId").val("");
		$(".familiaresExtranjeros select" , "#FormVerifUpsertId").val("");
		$(".familiaresExtranjeros textarea" , "#FormVerifUpsertId").val("");
		}
		if(self.value==1){//no
		$(".familiaresExtranjeros" , "#FormVerifUpsertId").addClass("ng-hide");
		$(".otraRelacion" , "#FormVerifUpsertId").addClass("ng-hide");

		$(".familiaresExtranjeros input" , "#FormVerifUpsertId").val("");
		$(".otraRelacion input" , "#FormVerifUpsertId").val("");
		$(".familiaresExtranjeros select" , "#FormVerifUpsertId").val("");
		$(".familiaresExtranjeros textarea" , "#FormVerifUpsertId").val("");
		}
		console.log("html->"+$("FormVerifUpsertId").html());
	}

	function imputedRelationOtherCountryFillIn (){
		$("#slcVerifyRelationship" , "#FormVerifUpsertId").empty();
		var relacionPersonal = $.parseJSON(MeetingService.findAllRelationship());
		for(var indx=0;indx<relacionPersonal.length;indx++){
                console.log("id relacion val->"+relacionPersonal[indx].Id);
                console.log("name relacion text->"+relacionPersonal[indx].Name);
              $("#slcVerifyRelationship" , "#FormVerifUpsertId").append("<option value='"+relacionPersonal[indx].Id+"' >"+relacionPersonal[indx].Name+"</option>");
        }
		$("#slcVerifyRelationship" , "#FormVerifUpsertId").val("");
	}


	function otherRelationship (self){
   		console.log("otherRelationship type ->"+self.value);
		if(self.value==19){//si
		$(".otraRelacion" , "#FormVerifUpsertId").removeClass("ng-hide");

		$(".otraRelacion input" , "#FormVerifUpsertId").val("");
		}
		else{//no
		$(".otraRelacion" , "#FormVerifUpsertId").addClass("ng-hide");

		$(".otraRelacion input" , "#FormVerifUpsertId").val("");
		}
	}

	//////////generic function enable by select
	function enableBySelectOptionUniqueSnglVrf (self,optionId,selectorDeClase){
   		console.log("enableBySelectOptionUnique select value ->"+self.value+"  idoption ->"+optionId);
		if(self.value==optionId){//si
			$("."+selectorDeClase, "#FormVerifUpsertId").removeClass("ng-hide");

			$("."+selectorDeClase+" input" , "#FormVerifUpsertId").val("");
			$("."+selectorDeClase+" select" , "#FormVerifUpsertId").val("");
			$("."+selectorDeClase+" textarea" , "#FormVerifUpsertId").val("");
		}
		else{//no
			$("."+selectorDeClase, "#FormVerifUpsertId").addClass("ng-hide");

			$("."+selectorDeClase+" input" , "#FormVerifUpsertId").val("");
			$("."+selectorDeClase+" select" , "#FormVerifUpsertId").val("");
			$("."+selectorDeClase+" textarea" , "#FormVerifUpsertId").val("");
		}
	}


	function enableBySelectOptionGroupSnglVrf (self,optionId,selectorDeClase){
   		console.log("enableBySelectOptionGroupSnglVrf select value ->"+self.value);
		$("."+selectorDeClase, "#FormVerifUpsertId").addClass("ng-hide");

		$("."+selectorDeClase+" input" , "#FormVerifUpsertId").val("");
		$("."+selectorDeClase+" select" , "#FormVerifUpsertId").val("");
		$("."+selectorDeClase+" textarea" , "#FormVerifUpsertId").val("");
		var values = optionId.split("-");
		console.log("values type "+typeof values+" log--"+values);
		for(x in values){
			if(self.value==values[x]){//si
				$("."+selectorDeClase, "#FormVerifUpsertId").removeClass("ng-hide");

				$("."+selectorDeClase+" input" , "#FormVerifUpsertId").val("");
				$("."+selectorDeClase+" select" , "#FormVerifUpsertId").val("");
				$("."+selectorDeClase+" textarea" , "#FormVerifUpsertId").val("");
			}
		}
	}

</script>


<script>
var askDontKnow  = {};
	askDontKnow.reference = "";
	askDontKnow.idlist = 0;

askDontKnow.show = function (code){
	askDontKnow.idlist = 0;
	if(code!=undefined&&code!=""){
		askDontKnow.reference = code;
	}
	var dlgMsgBox = $('#askDontKnowBoxDlgId');
	dlgMsgBox.show();
};

askDontKnow.show = function (code,idlist){
	if(idlist!=undefined&&idlist!=0){
	askDontKnow.idlist = idlist;
	}
	if(code!=undefined&&code!=""){
	askDontKnow.reference = code;
	}
	var dlgMsgBox = $('#askDontKnowBoxDlgId');
	dlgMsgBox.show();
};
askDontKnow.hide = function (){
	askDontKnow.reference = "";
	askDontKnow.idlist = 0;
	var dlgMsgBox = $('#askDontKnowBoxDlgId');
	dlgMsgBox.hide();
};
askDontKnow.yes = function (code,idlist){
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();

	console.log("codigo->"+code);
	console.log("idlist->"+idlist);
	console.log("caso->"+caso);
	console.log("fuente->"+fuente);

	var respuesta = VerificationService.saveFieldDontKnow(code,caso,fuente,idlist);
	if(respuesta==undefined || respuesta==""){
		askDontKnow.reference = "";
		askDontKnow.idlist = 0;
		var dlgMsgBox = $('#askDontKnowBoxDlgId');
		dlgMsgBox.hide();
	}else{
	alert(respuesta);
	}
};
    	</script>
<div class="modal-dialog" style="display:none; width:60%; position: fixed;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="askDontKnowBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
            <div class="modal-header">
                <div class="alert alert-inverse">
                    <button id="askDontKnowBoxDlgXclose" type="button" class="close" onclick="javascript:askDontKnow.hide();">×</button>
                    <h4 class="modal-title element-center ng-binding" ng-bind-html="Title">Confirmación de verificación</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="element-center ng-binding" ng-bind-html="Message">Establecer que la fuente no conoce la información proporcionada por el imputado</div>
            </div>
            <div class="modal-footer">
                <button id="MessageBoxDlgYes" type="button" class="btn btn-default btn-inverse" onclick="javascript:askDontKnow.yes(askDontKnow.reference,askDontKnow.idlist);" >Si</button>
                <button id="MessageBoxDlgNo" type="button" class="btn btn-default" onclick="javascript:askDontKnow.hide();" >No</button>
            </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>


 <script>
var askEqualsImp  = {};
	askEqualsImp.reference = "";
	askEqualsImp.idlist = 0;

askEqualsImp.show = function (code){
	askEqualsImp.idlist = 0;
	if(code!=undefined&&code!=""){
		askEqualsImp.reference = code;
	}
	var dlgMsgBox = $('#askEqualsImpBoxDlgId');
	dlgMsgBox.show();
};

askEqualsImp.show = function (code,idlist){
	if(idlist!=undefined&&idlist!=0){
	askEqualsImp.idlist = idlist;
	}
	if(code!=undefined&&code!=""){
	askEqualsImp.reference = code;
	}
	var dlgMsgBox = $('#askEqualsImpBoxDlgId');
	dlgMsgBox.show();
};
askEqualsImp.hide = function (){
	askEqualsImp.reference = "";
	askEqualsImp.idlist = 0;
	var dlgMsgBox = $('#askEqualsImpBoxDlgId');
	dlgMsgBox.hide();
};
askEqualsImp.yes = function (code,idlist){
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();

	console.log("codigo->"+code);
	console.log("idlist->"+idlist);
	console.log("caso->"+caso);
	console.log("fuente->"+fuente);

	var respuesta = VerificationService.saveFieldVerifiedEqual(code,caso,fuente,idlist);
	if(respuesta==undefined || respuesta==""){
		askEqualsImp.reference = "";
		askEqualsImp.idlist = 0;
		var dlgMsgBox = $('#askEqualsImpBoxDlgId');
		dlgMsgBox.hide();
	}else{
	alert(respuesta);
	}
};
    	</script>
<div class="modal-dialog" style="display:none; width:60%; position: fixed;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="askEqualsImpBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
            <div class="modal-header">
                <div class="alert alert-success">
                    <button id="askEqualsImpBoxDlgXclose" type="button" class="close" onclick="javascript:askEqualsImp.hide();">×</button>
                    <h4 class="modal-title element-center ng-binding" ng-bind-html="Title">Confirmación de verificación</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="element-center ng-binding" ng-bind-html="Message">Establecer que la respuesta de la fuente es igual a lo proporcionado por el imputado</div>
            </div>
            <div class="modal-footer">
                <button id="MessageBoxDlgYes" type="button" class="btn btn-default btn-success" onclick="javascript:askEqualsImp.yes(askEqualsImp.reference,askEqualsImp.idlist);" >Si</button>
                <button id="MessageBoxDlgNo" type="button" class="btn btn-default" onclick="javascript:askEqualsImp.hide();" >No</button>
            </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>



 <script>
var askVerificationTerminate  = {};

askVerificationTerminate.show = function (){
	var dlgMsgBox = $('#askVerificationTerminateBoxDlgId');
	dlgMsgBox.show();
};


askVerificationTerminate.hide = function (){
	var dlgMsgBox = $('#askVerificationTerminateBoxDlgId');
	dlgMsgBox.hide();
};

askVerificationTerminate.yes = function (code,idlist){
	var caso = $("#hdnVerificationCaseId").val();
	var fuente = $("#hdnVerificationSourceId").val();
	console.log("caso->"+caso);
	console.log("fuente->"+fuente);

	var respuesta = VerificationService.terminateMeetingSource(caso,fuente);
	if(respuesta==undefined || respuesta==""){
		var dlgMsgBox = $('#askVerificationTerminateBoxDlgId');
		dlgMsgBox.hide();
		window.location.replace('hybrid:Verification/IndexFuentes?idCase='+$("#hdnVerificationCaseId").val());
	}else{
	alert(respuesta);
	var dlgMsgBox = $('#askVerificationTerminateBoxDlgId');
		dlgMsgBox.hide();
	}
};
    	</script>
<div class="modal-dialog" style="display:none; width:60%; position: fixed;top: 15%;left: 50%;margin: 0 0 0 -30%;" id="askVerificationTerminateBoxDlgId" >
        <div class="modal-content" style="z-index: 1000;">
            <div class="modal-header">
                <div class="alert alert-info">
                    <button id="askVerificationTerminateBoxDlgXclose" type="button" class="close" onclick="javascript:askVerificationTerminate.hide();">×</button>
                    <h4 class="modal-title element-center ng-binding" ng-bind-html="Title">Confirmación para terminar entrevista</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="element-center ng-binding" ng-bind-html="Message">Esta seguro que desea terminar la entrevista con la fuente.<br><b> Una vez terminada la entrevista no podrá modificar la información proporcionada.</b></div>
            </div>
            <div class="modal-footer">
                <button id="MessageBoxDlgYes" type="button" class="btn btn-default btn-primary" onclick="javascript:askVerificationTerminate.yes();" >Si</button>
                <button id="MessageBoxDlgNo" type="button" class="btn btn-default" onclick="javascript:askVerificationTerminate.hide();" >No</button>
            </div>
        </div>
        <div class="blocker" style="z-index:999;">
		    <div>
		        Cargando...<img src="content/images/ajax_loader.gif" alt="no content detected" />
		    </div>
		</div>
    </div>